function kj(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var An=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Tn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function _j(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var O_={exports:{}},Pp={},L_={exports:{}},ln={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var bC=Object.getOwnPropertySymbols,Oj=Object.prototype.hasOwnProperty,Lj=Object.prototype.propertyIsEnumerable;function Pj(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function Aj(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(a){return t[a]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(a){i[a]=a}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var wb=Aj()?Object.assign:function(e,t){for(var n,r=Pj(e),i,a=1;a<arguments.length;a++){n=Object(arguments[a]);for(var l in n)Oj.call(n,l)&&(r[l]=n[l]);if(bC){i=bC(n);for(var c=0;c<i.length;c++)Lj.call(n,i[c])&&(r[i[c]]=n[i[c]])}}return r};const Nj=Tn(wb);/** @license React v16.14.0
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xb=wb,Do=typeof Symbol=="function"&&Symbol.for,Ap=Do?Symbol.for("react.element"):60103,Ij=Do?Symbol.for("react.portal"):60106,Rj=Do?Symbol.for("react.fragment"):60107,Mj=Do?Symbol.for("react.strict_mode"):60108,Fj=Do?Symbol.for("react.profiler"):60114,jj=Do?Symbol.for("react.provider"):60109,$j=Do?Symbol.for("react.context"):60110,Dj=Do?Symbol.for("react.forward_ref"):60112,Bj=Do?Symbol.for("react.suspense"):60113,zj=Do?Symbol.for("react.memo"):60115,Hj=Do?Symbol.for("react.lazy"):60116,EC=typeof Symbol=="function"&&Symbol.iterator;function Np(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var P_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A_={};function td(e,t,n){this.props=e,this.context=t,this.refs=A_,this.updater=n||P_}td.prototype.isReactComponent={};td.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error(Np(85));this.updater.enqueueSetState(this,e,t,"setState")};td.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function N_(){}N_.prototype=td.prototype;function bb(e,t,n){this.props=e,this.context=t,this.refs=A_,this.updater=n||P_}var Eb=bb.prototype=new N_;Eb.constructor=bb;xb(Eb,td.prototype);Eb.isPureReactComponent=!0;var Sb={current:null},I_=Object.prototype.hasOwnProperty,R_={key:!0,ref:!0,__self:!0,__source:!0};function M_(e,t,n){var r,i={},a=null,l=null;if(t!=null)for(r in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(a=""+t.key),t)I_.call(t,r)&&!R_.hasOwnProperty(r)&&(i[r]=t[r]);var c=arguments.length-2;if(c===1)i.children=n;else if(1<c){for(var p=Array(c),v=0;v<c;v++)p[v]=arguments[v+2];i.children=p}if(e&&e.defaultProps)for(r in c=e.defaultProps,c)i[r]===void 0&&(i[r]=c[r]);return{$$typeof:Ap,type:e,key:a,ref:l,props:i,_owner:Sb.current}}function Uj(e,t){return{$$typeof:Ap,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Cb(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ap}function Wj(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(n){return t[n]})}var F_=/\/+/g,Tm=[];function j_(e,t,n,r){if(Tm.length){var i=Tm.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function $_(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>Tm.length&&Tm.push(e)}function M1(e,t,n,r){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Ap:case Ij:a=!0}}if(a)return n(r,e,t===""?"."+Lw(e,0):t),1;if(a=0,t=t===""?".":t+":",Array.isArray(e))for(var l=0;l<e.length;l++){i=e[l];var c=t+Lw(i,l);a+=M1(i,c,n,r)}else if(e===null||typeof e!="object"?c=null:(c=EC&&e[EC]||e["@@iterator"],c=typeof c=="function"?c:null),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=t+Lw(i,l++),a+=M1(i,c,n,r);else if(i==="object")throw n=""+e,Error(Np(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n,""));return a}function F1(e,t,n){return e==null?0:M1(e,"",t,n)}function Lw(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Wj(e.key):t.toString(36)}function Kj(e,t){e.func.call(e.context,t,e.count++)}function Gj(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?j1(e,r,n,function(a){return a}):e!=null&&(Cb(e)&&(e=Uj(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(F_,"$&/")+"/")+n)),r.push(e))}function j1(e,t,n,r,i){var a="";n!=null&&(a=(""+n).replace(F_,"$&/")+"/"),t=j_(t,a,r,i),F1(e,Gj,t),$_(t)}var D_={current:null};function Ns(){var e=D_.current;if(e===null)throw Error(Np(321));return e}var qj={ReactCurrentDispatcher:D_,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:Sb,IsSomeRendererActing:{current:!1},assign:xb};ln.Children={map:function(e,t,n){if(e==null)return e;var r=[];return j1(e,r,null,t,n),r},forEach:function(e,t,n){if(e==null)return e;t=j_(null,null,t,n),F1(e,Kj,t),$_(t)},count:function(e){return F1(e,function(){return null},null)},toArray:function(e){var t=[];return j1(e,t,null,function(n){return n}),t},only:function(e){if(!Cb(e))throw Error(Np(143));return e}};ln.Component=td;ln.Fragment=Rj;ln.Profiler=Fj;ln.PureComponent=bb;ln.StrictMode=Mj;ln.Suspense=Bj;ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qj;ln.cloneElement=function(e,t,n){if(e==null)throw Error(Np(267,e));var r=xb({},e.props),i=e.key,a=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,l=Sb.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(p in t)I_.call(t,p)&&!R_.hasOwnProperty(p)&&(r[p]=t[p]===void 0&&c!==void 0?c[p]:t[p])}var p=arguments.length-2;if(p===1)r.children=n;else if(1<p){c=Array(p);for(var v=0;v<p;v++)c[v]=arguments[v+2];r.children=c}return{$$typeof:Ap,type:e.type,key:i,ref:a,props:r,_owner:l}};ln.createContext=function(e,t){return t===void 0&&(t=null),e={$$typeof:$j,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider={$$typeof:jj,_context:e},e.Consumer=e};ln.createElement=M_;ln.createFactory=function(e){var t=M_.bind(null,e);return t.type=e,t};ln.createRef=function(){return{current:null}};ln.forwardRef=function(e){return{$$typeof:Dj,render:e}};ln.isValidElement=Cb;ln.lazy=function(e){return{$$typeof:Hj,_ctor:e,_status:-1,_result:null}};ln.memo=function(e,t){return{$$typeof:zj,type:e,compare:t===void 0?null:t}};ln.useCallback=function(e,t){return Ns().useCallback(e,t)};ln.useContext=function(e,t){return Ns().useContext(e,t)};ln.useDebugValue=function(){};ln.useEffect=function(e,t){return Ns().useEffect(e,t)};ln.useImperativeHandle=function(e,t,n){return Ns().useImperativeHandle(e,t,n)};ln.useLayoutEffect=function(e,t){return Ns().useLayoutEffect(e,t)};ln.useMemo=function(e,t){return Ns().useMemo(e,t)};ln.useReducer=function(e,t,n){return Ns().useReducer(e,t,n)};ln.useRef=function(e){return Ns().useRef(e)};ln.useState=function(e){return Ns().useState(e)};ln.version="16.14.0";L_.exports=ln;var O=L_.exports;const ht=Tn(O);/** @license React v16.14.0
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xj=O,B_=60103;Pp.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var SC=Symbol.for;B_=SC("react.element"),Pp.Fragment=SC("react.fragment")}var Vj=Xj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Yj=Object.prototype.hasOwnProperty,Qj={key:!0,ref:!0,__self:!0,__source:!0};function z_(e,t,n){var r,i={},a=null,l=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(l=t.ref);for(r in t)Yj.call(t,r)&&!Qj.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:B_,type:e,key:a,ref:l,props:i,_owner:Vj.current}}Pp.jsx=z_;Pp.jsxs=z_;O_.exports=Pp;var b=O_.exports,H_={exports:{}},mo={},U_={exports:{}},W_={};/** @license React v0.19.1
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){var t,n,r,i,a;if(typeof window>"u"||typeof MessageChannel!="function"){var l=null,c=null,p=function(){if(l!==null)try{var re=e.unstable_now();l(!0,re),l=null}catch(se){throw setTimeout(p,0),se}},v=Date.now();e.unstable_now=function(){return Date.now()-v},t=function(re){l!==null?setTimeout(t,0,re):(l=re,setTimeout(p,0))},n=function(re,se){c=setTimeout(re,se)},r=function(){clearTimeout(c)},i=function(){return!1},a=e.unstable_forceFrameRate=function(){}}else{var m=window.performance,x=window.Date,E=window.setTimeout,C=window.clearTimeout;if(typeof console<"u"){var I=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),typeof I!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if(typeof m=="object"&&typeof m.now=="function")e.unstable_now=function(){return m.now()};else{var j=x.now();e.unstable_now=function(){return x.now()-j}}var A=!1,P=null,M=-1,z=5,$=0;i=function(){return e.unstable_now()>=$},a=function(){},e.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):z=0<re?Math.floor(1e3/re):5};var U=new MessageChannel,X=U.port2;U.port1.onmessage=function(){if(P!==null){var re=e.unstable_now();$=re+z;try{P(!0,re)?X.postMessage(null):(A=!1,P=null)}catch(se){throw X.postMessage(null),se}}else A=!1},t=function(re){P=re,A||(A=!0,X.postMessage(null))},n=function(re,se){M=E(function(){re(e.unstable_now())},se)},r=function(){C(M),M=-1}}function V(re,se){var pe=re.length;re.push(se);e:for(;;){var Ce=pe-1>>>1,Ae=re[Ce];if(Ae!==void 0&&0<me(Ae,se))re[Ce]=se,re[pe]=Ae,pe=Ce;else break e}}function ne(re){return re=re[0],re===void 0?null:re}function he(re){var se=re[0];if(se!==void 0){var pe=re.pop();if(pe!==se){re[0]=pe;e:for(var Ce=0,Ae=re.length;Ce<Ae;){var He=2*(Ce+1)-1,tt=re[He],Ye=He+1,vt=re[Ye];if(tt!==void 0&&0>me(tt,pe))vt!==void 0&&0>me(vt,tt)?(re[Ce]=vt,re[Ye]=pe,Ce=Ye):(re[Ce]=tt,re[He]=pe,Ce=He);else if(vt!==void 0&&0>me(vt,pe))re[Ce]=vt,re[Ye]=pe,Ce=Ye;else break e}}return se}return null}function me(re,se){var pe=re.sortIndex-se.sortIndex;return pe!==0?pe:re.id-se.id}var we=[],ze=[],J=1,Z=null,q=3,Me=!1,Ne=!1,_e=!1;function Se(re){for(var se=ne(ze);se!==null;){if(se.callback===null)he(ze);else if(se.startTime<=re)he(ze),se.sortIndex=se.expirationTime,V(we,se);else break;se=ne(ze)}}function Le(re){if(_e=!1,Se(re),!Ne)if(ne(we)!==null)Ne=!0,t(te);else{var se=ne(ze);se!==null&&n(Le,se.startTime-re)}}function te(re,se){Ne=!1,_e&&(_e=!1,r()),Me=!0;var pe=q;try{for(Se(se),Z=ne(we);Z!==null&&(!(Z.expirationTime>se)||re&&!i());){var Ce=Z.callback;if(Ce!==null){Z.callback=null,q=Z.priorityLevel;var Ae=Ce(Z.expirationTime<=se);se=e.unstable_now(),typeof Ae=="function"?Z.callback=Ae:Z===ne(we)&&he(we),Se(se)}else he(we);Z=ne(we)}if(Z!==null)var He=!0;else{var tt=ne(ze);tt!==null&&n(Le,tt.startTime-se),He=!1}return He}finally{Z=null,q=pe,Me=!1}}function ce(re){switch(re){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var ye=a;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(re){re.callback=null},e.unstable_continueExecution=function(){Ne||Me||(Ne=!0,t(te))},e.unstable_getCurrentPriorityLevel=function(){return q},e.unstable_getFirstCallbackNode=function(){return ne(we)},e.unstable_next=function(re){switch(q){case 1:case 2:case 3:var se=3;break;default:se=q}var pe=q;q=se;try{return re()}finally{q=pe}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=ye,e.unstable_runWithPriority=function(re,se){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var pe=q;q=re;try{return se()}finally{q=pe}},e.unstable_scheduleCallback=function(re,se,pe){var Ce=e.unstable_now();if(typeof pe=="object"&&pe!==null){var Ae=pe.delay;Ae=typeof Ae=="number"&&0<Ae?Ce+Ae:Ce,pe=typeof pe.timeout=="number"?pe.timeout:ce(re)}else pe=ce(re),Ae=Ce;return pe=Ae+pe,re={id:J++,callback:se,priorityLevel:re,startTime:Ae,expirationTime:pe,sortIndex:-1},Ae>Ce?(re.sortIndex=Ae,V(ze,re),ne(we)===null&&re===ne(ze)&&(_e?r():_e=!0,n(Le,Ae-Ce))):(re.sortIndex=pe,V(we,re),Ne||Me||(Ne=!0,t(te))),re},e.unstable_shouldYield=function(){var re=e.unstable_now();Se(re);var se=ne(we);return se!==Z&&Z!==null&&se!==null&&se.callback!==null&&se.startTime<=re&&se.expirationTime<Z.expirationTime||i()},e.unstable_wrapCallback=function(re){var se=q;return function(){var pe=q;q=se;try{return re.apply(this,arguments)}finally{q=pe}}}})(W_);U_.exports=W_;var Zj=U_.exports;/** @license React v16.14.0
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ey=O,Jr=wb,Or=Zj;function Ue(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!Ey)throw Error(Ue(227));function Jj(e,t,n,r,i,a,l,c,p){var v=Array.prototype.slice.call(arguments,3);try{t.apply(n,v)}catch(m){this.onError(m)}}var $h=!1,km=null,_m=!1,$1=null,e$={onError:function(e){$h=!0,km=e}};function t$(e,t,n,r,i,a,l,c,p){$h=!1,km=null,Jj.apply(e$,arguments)}function n$(e,t,n,r,i,a,l,c,p){if(t$.apply(this,arguments),$h){if($h){var v=km;$h=!1,km=null}else throw Error(Ue(198));_m||(_m=!0,$1=v)}}var Tb=null,K_=null,G_=null;function CC(e,t,n){var r=e.type||"unknown-event";e.currentTarget=G_(n),n$(r,t,void 0,e),e.currentTarget=null}var Om=null,Cf={};function q_(){if(Om)for(var e in Cf){var t=Cf[e],n=Om.indexOf(e);if(!(-1<n))throw Error(Ue(96,e));if(!Lm[n]){if(!t.extractEvents)throw Error(Ue(97,e));Lm[n]=t,n=t.eventTypes;for(var r in n){var i=void 0,a=n[r],l=t,c=r;if(D1.hasOwnProperty(c))throw Error(Ue(99,c));D1[c]=a;var p=a.phasedRegistrationNames;if(p){for(i in p)p.hasOwnProperty(i)&&TC(p[i],l,c);i=!0}else a.registrationName?(TC(a.registrationName,l,c),i=!0):i=!1;if(!i)throw Error(Ue(98,r,e))}}}}function TC(e,t,n){if(Hf[e])throw Error(Ue(100,e));Hf[e]=t,kb[e]=t.eventTypes[n].dependencies}var Lm=[],D1={},Hf={},kb={};function X_(e){var t=!1,n;for(n in e)if(e.hasOwnProperty(n)){var r=e[n];if(!Cf.hasOwnProperty(n)||Cf[n]!==r){if(Cf[n])throw Error(Ue(102,n));Cf[n]=r,t=!0}}t&&q_()}var zl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),B1=null,If=null,Rf=null;function kC(e){if(e=K_(e)){if(typeof B1!="function")throw Error(Ue(280));var t=e.stateNode;t&&(t=Tb(t),B1(e.stateNode,e.type,t))}}function V_(e){If?Rf?Rf.push(e):Rf=[e]:If=e}function Y_(){if(If){var e=If,t=Rf;if(Rf=If=null,kC(e),t)for(e=0;e<t.length;e++)kC(t[e])}}function _b(e,t){return e(t)}function Q_(e,t,n,r,i){return e(t,n,r,i)}function Ob(){}var Z_=_b,Du=!1,Pw=!1;function Lb(){(If!==null||Rf!==null)&&(Ob(),Y_())}function J_(e,t,n){if(Pw)return e(t,n);Pw=!0;try{return Z_(e,t,n)}finally{Pw=!1,Lb()}}var r$=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_C=Object.prototype.hasOwnProperty,OC={},LC={};function i$(e){return _C.call(LC,e)?!0:_C.call(OC,e)?!1:r$.test(e)?LC[e]=!0:(OC[e]=!0,!1)}function o$(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function a$(e,t,n,r){if(t===null||typeof t>"u"||o$(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ei(e,t,n,r,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a}var Lr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Lr[e]=new ei(e,0,!1,e,null,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Lr[t]=new ei(t,1,!1,e[1],null,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Lr[e]=new ei(e,2,!1,e.toLowerCase(),null,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Lr[e]=new ei(e,2,!1,e,null,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Lr[e]=new ei(e,3,!1,e.toLowerCase(),null,!1)});["checked","multiple","muted","selected"].forEach(function(e){Lr[e]=new ei(e,3,!0,e,null,!1)});["capture","download"].forEach(function(e){Lr[e]=new ei(e,4,!1,e,null,!1)});["cols","rows","size","span"].forEach(function(e){Lr[e]=new ei(e,6,!1,e,null,!1)});["rowSpan","start"].forEach(function(e){Lr[e]=new ei(e,5,!1,e.toLowerCase(),null,!1)});var Pb=/[\-:]([a-z])/g;function Ab(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Pb,Ab);Lr[t]=new ei(t,1,!1,e,null,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Pb,Ab);Lr[t]=new ei(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Pb,Ab);Lr[t]=new ei(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)});["tabIndex","crossOrigin"].forEach(function(e){Lr[e]=new ei(e,1,!1,e.toLowerCase(),null,!1)});Lr.xlinkHref=new ei("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0);["src","href","action","formAction"].forEach(function(e){Lr[e]=new ei(e,1,!1,e.toLowerCase(),null,!0)});var Mo=Ey.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;Mo.hasOwnProperty("ReactCurrentDispatcher")||(Mo.ReactCurrentDispatcher={current:null});Mo.hasOwnProperty("ReactCurrentBatchConfig")||(Mo.ReactCurrentBatchConfig={suspense:null});function Nb(e,t,n,r){var i=Lr.hasOwnProperty(t)?Lr[t]:null,a=i!==null?i.type===0:r?!1:!(!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N");a||(a$(t,n,i,r)&&(n=null),r||i===null?i$(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var s$=/^(.*)[\\\/]/,mi=typeof Symbol=="function"&&Symbol.for,Ev=mi?Symbol.for("react.element"):60103,Tf=mi?Symbol.for("react.portal"):60106,Fu=mi?Symbol.for("react.fragment"):60107,eO=mi?Symbol.for("react.strict_mode"):60108,nm=mi?Symbol.for("react.profiler"):60114,tO=mi?Symbol.for("react.provider"):60109,nO=mi?Symbol.for("react.context"):60110,l$=mi?Symbol.for("react.concurrent_mode"):60111,Ib=mi?Symbol.for("react.forward_ref"):60112,rm=mi?Symbol.for("react.suspense"):60113,z1=mi?Symbol.for("react.suspense_list"):60120,Rb=mi?Symbol.for("react.memo"):60115,rO=mi?Symbol.for("react.lazy"):60116,iO=mi?Symbol.for("react.block"):60121,PC=typeof Symbol=="function"&&Symbol.iterator;function fh(e){return e===null||typeof e!="object"?null:(e=PC&&e[PC]||e["@@iterator"],typeof e=="function"?e:null)}function u$(e){if(e._status===-1){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then(function(n){e._status===0&&(n=n.default,e._status=1,e._result=n)},function(n){e._status===0&&(e._status=2,e._result=n)})}}function Ls(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Fu:return"Fragment";case Tf:return"Portal";case nm:return"Profiler";case eO:return"StrictMode";case rm:return"Suspense";case z1:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case nO:return"Context.Consumer";case tO:return"Context.Provider";case Ib:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case Rb:return Ls(e.type);case iO:return Ls(e.render);case rO:if(e=e._status===1?e._result:null)return Ls(e)}return null}function Mb(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,i=e._debugSource,a=Ls(e.type);n=null,r&&(n=Ls(r.type)),r=a,a="",i?a=" (at "+i.fileName.replace(s$,"")+":"+i.lineNumber+")":n&&(a=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+a}t+=n,e=e.return}while(e);return t}function Il(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function oO(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function c$(e){var t=oO(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(l){r=""+l,a.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Sv(e){e._valueTracker||(e._valueTracker=c$(e))}function aO(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=oO(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function H1(e,t){var n=t.checked;return Jr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:e._wrapperState.initialChecked})}function AC(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Il(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function sO(e,t){t=t.checked,t!=null&&Nb(e,"checked",t,!1)}function U1(e,t){sO(e,t);var n=Il(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?W1(e,t.type,n):t.hasOwnProperty("defaultValue")&&W1(e,t.type,Il(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function NC(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function W1(e,t,n){(t!=="number"||e.ownerDocument.activeElement!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function f$(e){var t="";return Ey.Children.forEach(e,function(n){n!=null&&(t+=n)}),t}function K1(e,t){return e=Jr({children:void 0},t),(t=f$(t.children))&&(e.children=t),e}function Mf(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Il(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function G1(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ue(91));return Jr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function IC(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Ue(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(Ue(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Il(n)}}function lO(e,t){var n=Il(t.value),r=Il(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function RC(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}var uO={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function cO(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function q1(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?cO(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Cv,fO=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!==uO.svg||"innerHTML"in e)e.innerHTML=t;else{for(Cv=Cv||document.createElement("div"),Cv.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Cv.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Jh(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}function Tv(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kf={animationend:Tv("Animation","AnimationEnd"),animationiteration:Tv("Animation","AnimationIteration"),animationstart:Tv("Animation","AnimationStart"),transitionend:Tv("Transition","TransitionEnd")},Aw={},dO={};zl&&(dO=document.createElement("div").style,"AnimationEvent"in window||(delete kf.animationend.animation,delete kf.animationiteration.animation,delete kf.animationstart.animation),"TransitionEvent"in window||delete kf.transitionend.transition);function Sy(e){if(Aw[e])return Aw[e];if(!kf[e])return e;var t=kf[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in dO)return Aw[e]=t[n];return e}var hO=Sy("animationend"),pO=Sy("animationiteration"),gO=Sy("animationstart"),vO=Sy("transitionend"),Ah="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MC=new(typeof WeakMap=="function"?WeakMap:Map);function Fb(e){var t=MC.get(e);return t===void 0&&(t=new Map,MC.set(e,t)),t}function uc(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.effectTag&1026&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function mO(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function FC(e){if(uc(e)!==e)throw Error(Ue(188))}function d$(e){var t=e.alternate;if(!t){if(t=uc(e),t===null)throw Error(Ue(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return FC(i),e;if(a===r)return FC(i),t;a=a.sibling}throw Error(Ue(188))}if(n.return!==r.return)n=i,r=a;else{for(var l=!1,c=i.child;c;){if(c===n){l=!0,n=i,r=a;break}if(c===r){l=!0,r=i,n=a;break}c=c.sibling}if(!l){for(c=a.child;c;){if(c===n){l=!0,n=a,r=i;break}if(c===r){l=!0,r=a,n=i;break}c=c.sibling}if(!l)throw Error(Ue(189))}}if(n.alternate!==r)throw Error(Ue(190))}if(n.tag!==3)throw Error(Ue(188));return n.stateNode.current===n?e:t}function yO(e){if(e=d$(e),!e)return null;for(var t=e;;){if(t.tag===5||t.tag===6)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Uf(e,t){if(t==null)throw Error(Ue(30));return e==null?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function jb(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var dh=null;function h$(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)CC(e,t[r],n[r]);else t&&CC(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function Cy(e){if(e!==null&&(dh=Uf(dh,e)),e=dh,dh=null,e){if(jb(e,h$),dh)throw Error(Ue(95));if(_m)throw e=$1,_m=!1,$1=null,e}}function $b(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}function wO(e){if(!zl)return!1;e="on"+e;var t=e in document;return t||(t=document.createElement("div"),t.setAttribute(e,"return;"),t=typeof t[e]=="function"),t}var Pm=[];function xO(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>Pm.length&&Pm.push(e)}function bO(e,t,n,r){if(Pm.length){var i=Pm.pop();return i.topLevelType=e,i.eventSystemFlags=r,i.nativeEvent=t,i.targetInst=n,i}return{topLevelType:e,eventSystemFlags:r,nativeEvent:t,targetInst:n,ancestors:[]}}function EO(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=n;if(r.tag===3)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=r.tag!==3?null:r.stateNode.containerInfo}if(!r)break;t=n.tag,t!==5&&t!==6||e.ancestors.push(n),n=Rp(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var i=$b(e.nativeEvent);r=e.topLevelType;var a=e.nativeEvent,l=e.eventSystemFlags;n===0&&(l|=64);for(var c=null,p=0;p<Lm.length;p++){var v=Lm[p];v&&(v=v.extractEvents(r,t,a,i,l))&&(c=Uf(c,v))}Cy(c)}}function X1(e,t,n){if(!n.has(e)){switch(e){case"scroll":Nh(t,"scroll",!0);break;case"focus":case"blur":Nh(t,"focus",!0),Nh(t,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":wO(e)&&Nh(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:Ah.indexOf(e)===-1&&_n(e,t)}n.set(e,null)}}var SO,Db,CO,V1=!1,Sa=[],Tl=null,kl=null,_l=null,ep=new Map,tp=new Map,hh=[],Y1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),p$="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function g$(e,t){var n=Fb(t);Y1.forEach(function(r){X1(r,t,n)}),p$.forEach(function(r){X1(r,t,n)})}function Q1(e,t,n,r,i){return{blockedOn:e,topLevelType:t,eventSystemFlags:n|32,nativeEvent:i,container:r}}function jC(e,t){switch(e){case"focus":case"blur":Tl=null;break;case"dragenter":case"dragleave":kl=null;break;case"mouseover":case"mouseout":_l=null;break;case"pointerover":case"pointerout":ep.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":tp.delete(t.pointerId)}}function ph(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e=Q1(t,n,r,i,a),t!==null&&(t=Mp(t),t!==null&&Db(t)),e):(e.eventSystemFlags|=r,e)}function v$(e,t,n,r,i){switch(t){case"focus":return Tl=ph(Tl,e,t,n,r,i),!0;case"dragenter":return kl=ph(kl,e,t,n,r,i),!0;case"mouseover":return _l=ph(_l,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return ep.set(a,ph(ep.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,tp.set(a,ph(tp.get(a)||null,e,t,n,r,i)),!0}return!1}function m$(e){var t=Rp(e.target);if(t!==null){var n=uc(t);if(n!==null){if(t=n.tag,t===13){if(t=mO(n),t!==null){e.blockedOn=t,Or.unstable_runWithPriority(e.priority,function(){CO(n)});return}}else if(t===3&&n.stateNode.hydrate){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function im(e){if(e.blockedOn!==null)return!1;var t=Hb(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(t!==null){var n=Mp(t);return n!==null&&Db(n),e.blockedOn=t,!1}return!0}function $C(e,t,n){im(e)&&n.delete(t)}function y$(){for(V1=!1;0<Sa.length;){var e=Sa[0];if(e.blockedOn!==null){e=Mp(e.blockedOn),e!==null&&SO(e);break}var t=Hb(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);t!==null?e.blockedOn=t:Sa.shift()}Tl!==null&&im(Tl)&&(Tl=null),kl!==null&&im(kl)&&(kl=null),_l!==null&&im(_l)&&(_l=null),ep.forEach($C),tp.forEach($C)}function gh(e,t){e.blockedOn===t&&(e.blockedOn=null,V1||(V1=!0,Or.unstable_scheduleCallback(Or.unstable_NormalPriority,y$)))}function TO(e){function t(i){return gh(i,e)}if(0<Sa.length){gh(Sa[0],e);for(var n=1;n<Sa.length;n++){var r=Sa[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Tl!==null&&gh(Tl,e),kl!==null&&gh(kl,e),_l!==null&&gh(_l,e),ep.forEach(t),tp.forEach(t),n=0;n<hh.length;n++)r=hh[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<hh.length&&(n=hh[0],n.blockedOn===null);)m$(n),n.blockedOn===null&&hh.shift()}var kO={},_O=new Map,Bb=new Map,w$=["abort","abort",hO,"animationEnd",pO,"animationIteration",gO,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",vO,"transitionEnd","waiting","waiting"];function zb(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1],a="on"+(i[0].toUpperCase()+i.slice(1));a={phasedRegistrationNames:{bubbled:a,captured:a+"Capture"},dependencies:[r],eventPriority:t},Bb.set(r,t),_O.set(r,a),kO[i]=a}}zb("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);zb("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);zb(w$,2);for(var DC="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Nw=0;Nw<DC.length;Nw++)Bb.set(DC[Nw],0);var x$=Or.unstable_UserBlockingPriority,b$=Or.unstable_runWithPriority,om=!0;function _n(e,t){Nh(t,e,!1)}function Nh(e,t,n){var r=Bb.get(t);switch(r===void 0?2:r){case 0:r=E$.bind(null,t,1,e);break;case 1:r=S$.bind(null,t,1,e);break;default:r=Ty.bind(null,t,1,e)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function E$(e,t,n,r){Du||Ob();var i=Ty,a=Du;Du=!0;try{Q_(i,e,t,n,r)}finally{(Du=a)||Lb()}}function S$(e,t,n,r){b$(x$,Ty.bind(null,e,t,n,r))}function Ty(e,t,n,r){if(om)if(0<Sa.length&&-1<Y1.indexOf(e))e=Q1(null,e,t,n,r),Sa.push(e);else{var i=Hb(e,t,n,r);if(i===null)jC(e,r);else if(-1<Y1.indexOf(e))e=Q1(i,e,t,n,r),Sa.push(e);else if(!v$(i,e,t,n,r)){jC(e,r),e=bO(e,r,null,t);try{J_(EO,e)}finally{xO(e)}}}}function Hb(e,t,n,r){if(n=$b(r),n=Rp(n),n!==null){var i=uc(n);if(i===null)n=null;else{var a=i.tag;if(a===13){if(n=mO(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.hydrate)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}e=bO(e,r,n,t);try{J_(EO,e)}finally{xO(e)}return null}var Dh={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},C$=["Webkit","ms","Moz","O"];Object.keys(Dh).forEach(function(e){C$.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Dh[t]=Dh[e]})});function OO(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Dh.hasOwnProperty(e)&&Dh[e]?(""+t).trim():t+"px"}function LO(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=OO(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var T$=Jr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Z1(e,t){if(t){if(T$[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ue(137,e,""));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ue(60));if(!(typeof t.dangerouslySetInnerHTML=="object"&&"__html"in t.dangerouslySetInnerHTML))throw Error(Ue(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ue(62,""))}}function J1(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var BC=uO.html;function ys(e,t){e=e.nodeType===9||e.nodeType===11?e:e.ownerDocument;var n=Fb(e);t=kb[t];for(var r=0;r<t.length;r++)X1(t[r],e,n)}function Am(){}function ex(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function zC(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function HC(e,t){var n=zC(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=zC(n)}}function PO(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?PO(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function UC(){for(var e=window,t=ex();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ex(e.document)}return t}function tx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var AO="$",NO="/$",Ub="$?",Wb="$!",Iw=null,Rw=null;function IO(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function nx(e,t){return e==="textarea"||e==="option"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Mw=typeof setTimeout=="function"?setTimeout:void 0,k$=typeof clearTimeout=="function"?clearTimeout:void 0;function Ff(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break}return e}function WC(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n===AO||n===Wb||n===Ub){if(t===0)return e;t--}else n===NO&&t++}e=e.previousSibling}return null}var Kb=Math.random().toString(36).slice(2),wl="__reactInternalInstance$"+Kb,Nm="__reactEventHandlers$"+Kb,Ip="__reactContainere$"+Kb;function Rp(e){var t=e[wl];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ip]||n[wl]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=WC(e);e!==null;){if(n=e[wl])return n;e=WC(e)}return t}e=n,n=e.parentNode}return null}function Mp(e){return e=e[wl]||e[Ip],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function nc(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ue(33))}function Gb(e){return e[Nm]||null}function ws(e){do e=e.return;while(e&&e.tag!==5);return e||null}function RO(e,t){var n=e.stateNode;if(!n)return null;var r=Tb(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Ue(231,t,typeof n));return n}function KC(e,t,n){(t=RO(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=Uf(n._dispatchListeners,t),n._dispatchInstances=Uf(n._dispatchInstances,e))}function _$(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=ws(t);for(t=n.length;0<t--;)KC(n[t],"captured",e);for(t=0;t<n.length;t++)KC(n[t],"bubbled",e)}}function rx(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=RO(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=Uf(n._dispatchListeners,t),n._dispatchInstances=Uf(n._dispatchInstances,e))}function O$(e){e&&e.dispatchConfig.registrationName&&rx(e._targetInst,null,e)}function Wf(e){jb(e,_$)}var xl=null,qb=null,am=null;function MO(){if(am)return am;var e,t=qb,n=t.length,r,i="value"in xl?xl.value:xl.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var l=n-e;for(r=1;r<=l&&t[n-r]===i[a-r];r++);return am=i.slice(e,1<r?1-r:void 0)}function sm(){return!0}function Im(){return!1}function Ui(e,t,n,r){this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface;for(var i in e)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):i==="target"?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(n.defaultPrevented!=null?n.defaultPrevented:n.returnValue===!1)?sm:Im,this.isPropagationStopped=Im,this}Jr(Ui.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():typeof e.returnValue!="unknown"&&(e.returnValue=!1),this.isDefaultPrevented=sm)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():typeof e.cancelBubble!="unknown"&&(e.cancelBubble=!0),this.isPropagationStopped=sm)},persist:function(){this.isPersistent=sm},isPersistent:Im,destructor:function(){var e=this.constructor.Interface,t;for(t in e)this[t]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Im,this._dispatchInstances=this._dispatchListeners=null}});Ui.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};Ui.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var i=new t;return Jr(i,n.prototype),n.prototype=i,n.prototype.constructor=n,n.Interface=Jr({},r.Interface,e),n.extend=r.extend,FO(n),n};FO(Ui);function L$(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function P$(e){if(!(e instanceof this))throw Error(Ue(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function FO(e){e.eventPool=[],e.getPooled=L$,e.release=P$}var A$=Ui.extend({data:null}),N$=Ui.extend({data:null}),I$=[9,13,27,32],Xb=zl&&"CompositionEvent"in window,Bh=null;zl&&"documentMode"in document&&(Bh=document.documentMode);var R$=zl&&"TextEvent"in window&&!Bh,jO=zl&&(!Xb||Bh&&8<Bh&&11>=Bh),GC=String.fromCharCode(32),ps={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},qC=!1;function $O(e,t){switch(e){case"keyup":return I$.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function DO(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _f=!1;function M$(e,t){switch(e){case"compositionend":return DO(t);case"keypress":return t.which!==32?null:(qC=!0,GC);case"textInput":return e=t.data,e===GC&&qC?null:e;default:return null}}function F$(e,t){if(_f)return e==="compositionend"||!Xb&&$O(e,t)?(e=MO(),am=qb=xl=null,_f=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jO&&t.locale!=="ko"?null:t.data;default:return null}}var j$={eventTypes:ps,extractEvents:function(e,t,n,r){var i;if(Xb)e:{switch(e){case"compositionstart":var a=ps.compositionStart;break e;case"compositionend":a=ps.compositionEnd;break e;case"compositionupdate":a=ps.compositionUpdate;break e}a=void 0}else _f?$O(e,n)&&(a=ps.compositionEnd):e==="keydown"&&n.keyCode===229&&(a=ps.compositionStart);return a?(jO&&n.locale!=="ko"&&(_f||a!==ps.compositionStart?a===ps.compositionEnd&&_f&&(i=MO()):(xl=r,qb="value"in xl?xl.value:xl.textContent,_f=!0)),a=A$.getPooled(a,t,n,r),i?a.data=i:(i=DO(n),i!==null&&(a.data=i)),Wf(a),i=a):i=null,(e=R$?M$(e,n):F$(e,n))?(t=N$.getPooled(ps.beforeInput,t,n,r),t.data=e,Wf(t)):t=null,i===null?t:t===null?i:[i,t]}},$$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function BO(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!$$[e.type]:t==="textarea"}var zO={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function HO(e,t,n){return e=Ui.getPooled(zO.change,e,t,n),e.type="change",V_(n),Wf(e),e}var zh=null,np=null;function D$(e){Cy(e)}function ky(e){var t=nc(e);if(aO(t))return e}function B$(e,t){if(e==="change")return t}var ix=!1;zl&&(ix=wO("input")&&(!document.documentMode||9<document.documentMode));function XC(){zh&&(zh.detachEvent("onpropertychange",UO),np=zh=null)}function UO(e){if(e.propertyName==="value"&&ky(np))if(e=HO(np,e,$b(e)),Du)Cy(e);else{Du=!0;try{_b(D$,e)}finally{Du=!1,Lb()}}}function z$(e,t,n){e==="focus"?(XC(),zh=t,np=n,zh.attachEvent("onpropertychange",UO)):e==="blur"&&XC()}function H$(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ky(np)}function U$(e,t){if(e==="click")return ky(t)}function W$(e,t){if(e==="input"||e==="change")return ky(t)}var K$={eventTypes:zO,_isInputEventSupported:ix,extractEvents:function(e,t,n,r){var i=t?nc(t):window,a=i.nodeName&&i.nodeName.toLowerCase();if(a==="select"||a==="input"&&i.type==="file")var l=B$;else if(BO(i))if(ix)l=W$;else{l=H$;var c=z$}else(a=i.nodeName)&&a.toLowerCase()==="input"&&(i.type==="checkbox"||i.type==="radio")&&(l=U$);if(l&&(l=l(e,t)))return HO(l,n,r);c&&c(e,i,t),e==="blur"&&(e=i._wrapperState)&&e.controlled&&i.type==="number"&&W1(i,"number",i.value)}},Fp=Ui.extend({view:null,detail:null}),G$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function q$(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=G$[e])?!!t[e]:!1}function Vb(){return q$}var VC=0,YC=0,QC=!1,ZC=!1,jp=Fp.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Vb,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=VC;return VC=e.screenX,QC?e.type==="mousemove"?e.screenX-t:0:(QC=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=YC;return YC=e.screenY,ZC?e.type==="mousemove"?e.screenY-t:0:(ZC=!0,0)}}),WO=jp.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),vh={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},X$={eventTypes:vh,extractEvents:function(e,t,n,r,i){var a=e==="mouseover"||e==="pointerover",l=e==="mouseout"||e==="pointerout";if(a&&!(i&32)&&(n.relatedTarget||n.fromElement)||!l&&!a)return null;if(a=r.window===r?r:(a=r.ownerDocument)?a.defaultView||a.parentWindow:window,l){if(l=t,t=(t=n.relatedTarget||n.toElement)?Rp(t):null,t!==null){var c=uc(t);(t!==c||t.tag!==5&&t.tag!==6)&&(t=null)}}else l=null;if(l===t)return null;if(e==="mouseout"||e==="mouseover")var p=jp,v=vh.mouseLeave,m=vh.mouseEnter,x="mouse";else(e==="pointerout"||e==="pointerover")&&(p=WO,v=vh.pointerLeave,m=vh.pointerEnter,x="pointer");if(e=l==null?a:nc(l),a=t==null?a:nc(t),v=p.getPooled(v,l,n,r),v.type=x+"leave",v.target=e,v.relatedTarget=a,n=p.getPooled(m,t,n,r),n.type=x+"enter",n.target=a,n.relatedTarget=e,r=l,x=t,r&&x)e:{for(p=r,m=x,l=0,e=p;e;e=ws(e))l++;for(e=0,t=m;t;t=ws(t))e++;for(;0<l-e;)p=ws(p),l--;for(;0<e-l;)m=ws(m),e--;for(;l--;){if(p===m||p===m.alternate)break e;p=ws(p),m=ws(m)}p=null}else p=null;for(m=p,p=[];r&&r!==m&&(l=r.alternate,!(l!==null&&l===m));)p.push(r),r=ws(r);for(r=[];x&&x!==m&&(l=x.alternate,!(l!==null&&l===m));)r.push(x),x=ws(x);for(x=0;x<p.length;x++)rx(p[x],"bubbled",v);for(x=r.length;0<x--;)rx(r[x],"captured",n);return i&64?[v,n]:[v]}};function V$(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var rc=typeof Object.is=="function"?Object.is:V$,Y$=Object.prototype.hasOwnProperty;function rp(e,t){if(rc(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Y$.call(t,n[r])||!rc(e[n[r]],t[n[r]]))return!1;return!0}var Q$=zl&&"documentMode"in document&&11>=document.documentMode,KO={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Of=null,ox=null,Hh=null,ax=!1;function JC(e,t){var n=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;return ax||Of==null||Of!==ex(n)?null:(n=Of,"selectionStart"in n&&tx(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Hh&&rp(Hh,n)?null:(Hh=n,e=Ui.getPooled(KO.select,ox,e,t),e.type="select",e.target=Of,Wf(e),e))}var Z$={eventTypes:KO,extractEvents:function(e,t,n,r,i,a){if(i=a||(r.window===r?r.document:r.nodeType===9?r:r.ownerDocument),!(a=!i)){e:{i=Fb(i),a=kb.onSelect;for(var l=0;l<a.length;l++)if(!i.has(a[l])){i=!1;break e}i=!0}a=!i}if(a)return null;switch(i=t?nc(t):window,e){case"focus":(BO(i)||i.contentEditable==="true")&&(Of=i,ox=t,Hh=null);break;case"blur":Hh=ox=Of=null;break;case"mousedown":ax=!0;break;case"contextmenu":case"mouseup":case"dragend":return ax=!1,JC(n,r);case"selectionchange":if(Q$)break;case"keydown":case"keyup":return JC(n,r)}return null}},J$=Ui.extend({animationName:null,elapsedTime:null,pseudoElement:null}),eD=Ui.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),tD=Fp.extend({relatedTarget:null});function lm(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}var nD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},iD=Fp.extend({key:function(e){if(e.key){var t=nD[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=lm(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?rD[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Vb,charCode:function(e){return e.type==="keypress"?lm(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?lm(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),oD=jp.extend({dataTransfer:null}),aD=Fp.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Vb}),sD=Ui.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),lD=jp.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),uD={eventTypes:kO,extractEvents:function(e,t,n,r){var i=_O.get(e);if(!i)return null;switch(e){case"keypress":if(lm(n)===0)return null;case"keydown":case"keyup":e=iD;break;case"blur":case"focus":e=tD;break;case"click":if(n.button===2)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=jp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=oD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=aD;break;case hO:case pO:case gO:e=J$;break;case vO:e=sD;break;case"scroll":e=Fp;break;case"wheel":e=lD;break;case"copy":case"cut":case"paste":e=eD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=WO;break;default:e=Ui}return t=e.getPooled(i,t,n,r),Wf(t),t}};if(Om)throw Error(Ue(101));Om=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" "));q_();var cD=Mp;Tb=Gb;K_=cD;G_=nc;X_({SimpleEventPlugin:uD,EnterLeaveEventPlugin:X$,ChangeEventPlugin:K$,SelectEventPlugin:Z$,BeforeInputEventPlugin:j$});var sx=[],Lf=-1;function Cn(e){0>Lf||(e.current=sx[Lf],sx[Lf]=null,Lf--)}function Bn(e,t){Lf++,sx[Lf]=e.current,e.current=t}var Rl={},zr={current:Rl},pi={current:!1},ic=Rl;function Kf(e,t){var n=e.type.contextTypes;if(!n)return Rl;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function gi(e){return e=e.childContextTypes,e!=null}function Rm(){Cn(pi),Cn(zr)}function eT(e,t,n){if(zr.current!==Rl)throw Error(Ue(168));Bn(zr,t),Bn(pi,n)}function GO(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Ue(108,Ls(t)||"Unknown",i));return Jr({},n,{},r)}function um(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Rl,ic=zr.current,Bn(zr,e),Bn(pi,pi.current),!0}function tT(e,t,n){var r=e.stateNode;if(!r)throw Error(Ue(169));n?(e=GO(e,t,ic),r.__reactInternalMemoizedMergedChildContext=e,Cn(pi),Cn(zr),Bn(zr,e)):Cn(pi),Bn(pi,n)}var fD=Or.unstable_runWithPriority,Yb=Or.unstable_scheduleCallback,qO=Or.unstable_cancelCallback,nT=Or.unstable_requestPaint,lx=Or.unstable_now,dD=Or.unstable_getCurrentPriorityLevel,_y=Or.unstable_ImmediatePriority,XO=Or.unstable_UserBlockingPriority,VO=Or.unstable_NormalPriority,YO=Or.unstable_LowPriority,QO=Or.unstable_IdlePriority,ZO={},hD=Or.unstable_shouldYield,pD=nT!==void 0?nT:function(){},bs=null,cm=null,Fw=!1,rT=lx(),lo=1e4>rT?lx:function(){return lx()-rT};function Oy(){switch(dD()){case _y:return 99;case XO:return 98;case VO:return 97;case YO:return 96;case QO:return 95;default:throw Error(Ue(332))}}function JO(e){switch(e){case 99:return _y;case 98:return XO;case 97:return VO;case 96:return YO;case 95:return QO;default:throw Error(Ue(332))}}function Ml(e,t){return e=JO(e),fD(e,t)}function eL(e,t,n){return e=JO(e),Yb(e,t,n)}function iT(e){return bs===null?(bs=[e],cm=Yb(_y,tL)):bs.push(e),ZO}function Ra(){if(cm!==null){var e=cm;cm=null,qO(e)}tL()}function tL(){if(!Fw&&bs!==null){Fw=!0;var e=0;try{var t=bs;Ml(99,function(){for(;e<t.length;e++){var n=t[e];do n=n(!0);while(n!==null)}}),bs=null}catch(n){throw bs!==null&&(bs=bs.slice(e+1)),Yb(_y,Ra),n}finally{Fw=!1}}}function fm(e,t,n){return n/=10,1073741821-(((1073741821-e+t/10)/n|0)+1)*n}function Ao(e,t){if(e&&e.defaultProps){t=Jr({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n])}return t}var Mm={current:null},Fm=null,Pf=null,jm=null;function Qb(){jm=Pf=Fm=null}function Zb(e){var t=Mm.current;Cn(Mm),e.type._context._currentValue=t}function nL(e,t){for(;e!==null;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,n!==null&&n.childExpirationTime<t&&(n.childExpirationTime=t);else if(n!==null&&n.childExpirationTime<t)n.childExpirationTime=t;else break;e=e.return}}function jf(e,t){Fm=e,jm=Pf=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.expirationTime>=t&&(Ca=!0),e.firstContext=null)}function fo(e,t){if(jm!==e&&t!==!1&&t!==0)if((typeof t!="number"||t===1073741823)&&(jm=e,t=1073741823),t={context:e,observedBits:t,next:null},Pf===null){if(Fm===null)throw Error(Ue(308));Pf=t,Fm.dependencies={expirationTime:0,firstContext:t,responders:null}}else Pf=Pf.next=t;return e._currentValue}var yl=!1;function Jb(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function eE(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function Ol(e,t){return e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null},e.next=e}function Ll(e,t){if(e=e.updateQueue,e!==null){e=e.shared;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function oT(e,t){var n=e.alternate;n!==null&&eE(n,e),e=e.updateQueue,n=e.baseQueue,n===null?(e.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function ip(e,t,n,r){var i=e.updateQueue;yl=!1;var a=i.baseQueue,l=i.shared.pending;if(l!==null){if(a!==null){var c=a.next;a.next=l.next,l.next=c}a=l,i.shared.pending=null,c=e.alternate,c!==null&&(c=c.updateQueue,c!==null&&(c.baseQueue=l))}if(a!==null){c=a.next;var p=i.baseState,v=0,m=null,x=null,E=null;if(c!==null){var C=c;do{if(l=C.expirationTime,l<r){var I={expirationTime:C.expirationTime,suspenseConfig:C.suspenseConfig,tag:C.tag,payload:C.payload,callback:C.callback,next:null};E===null?(x=E=I,m=p):E=E.next=I,l>v&&(v=l)}else{E!==null&&(E=E.next={expirationTime:1073741823,suspenseConfig:C.suspenseConfig,tag:C.tag,payload:C.payload,callback:C.callback,next:null}),NL(l,C.suspenseConfig);e:{var j=e,A=C;switch(l=t,I=n,A.tag){case 1:if(j=A.payload,typeof j=="function"){p=j.call(I,p,l);break e}p=j;break e;case 3:j.effectTag=j.effectTag&-4097|64;case 0:if(j=A.payload,l=typeof j=="function"?j.call(I,p,l):j,l==null)break e;p=Jr({},p,l);break e;case 2:yl=!0}}C.callback!==null&&(e.effectTag|=32,l=i.effects,l===null?i.effects=[C]:l.push(C))}if(C=C.next,C===null||C===c){if(l=i.shared.pending,l===null)break;C=a.next=l.next,l.next=c,i.baseQueue=a=l,i.shared.pending=null}}while(1)}E===null?m=p:E.next=x,i.baseState=m,i.baseQueue=E,Iy(v),e.expirationTime=v,e.memoizedState=p}}function aT(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=i,i=n,typeof r!="function")throw Error(Ue(191,r));r.call(i)}}}var Uh=Mo.ReactCurrentBatchConfig,rL=new Ey.Component().refs;function $m(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Jr({},t,n),e.memoizedState=n,e.expirationTime===0&&(e.updateQueue.baseState=n)}var Ly={isMounted:function(e){return(e=e._reactInternalFiber)?uc(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=Oa(),i=Uh.suspense;r=Qu(r,e,i),i=Ol(r,i),i.payload=t,n!=null&&(i.callback=n),Ll(e,i),Al(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=Oa(),i=Uh.suspense;r=Qu(r,e,i),i=Ol(r,i),i.tag=1,i.payload=t,n!=null&&(i.callback=n),Ll(e,i),Al(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=Oa(),r=Uh.suspense;n=Qu(n,e,r),r=Ol(n,r),r.tag=2,t!=null&&(r.callback=t),Ll(e,r),Al(e,n)}};function sT(e,t,n,r,i,a,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,l):t.prototype&&t.prototype.isPureReactComponent?!rp(n,r)||!rp(i,a):!0}function iL(e,t,n){var r=!1,i=Rl,a=t.contextType;return typeof a=="object"&&a!==null?a=fo(a):(i=gi(t)?ic:zr.current,r=t.contextTypes,a=(r=r!=null)?Kf(e,i):Rl),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ly,e.stateNode=t,t._reactInternalFiber=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function lT(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ly.enqueueReplaceState(t,t.state,null)}function ux(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=rL,Jb(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=fo(a):(a=gi(t)?ic:zr.current,i.context=Kf(e,a)),ip(e,n,i,r),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&($m(e,t,a,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Ly.enqueueReplaceState(i,i.state,null),ip(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.effectTag|=4)}var kv=Array.isArray;function mh(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ue(309));var r=n.stateNode}if(!r)throw Error(Ue(147,e));var i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var l=r.refs;l===rL&&(l=r.refs={}),a===null?delete l[i]:l[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(Ue(284));if(!n._owner)throw Error(Ue(290,e))}return e}function _v(e,t){if(e.type!=="textarea")throw Error(Ue(31,Object.prototype.toString.call(t)==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function oL(e){function t(A,P){if(e){var M=A.lastEffect;M!==null?(M.nextEffect=P,A.lastEffect=P):A.firstEffect=A.lastEffect=P,P.nextEffect=null,P.effectTag=8}}function n(A,P){if(!e)return null;for(;P!==null;)t(A,P),P=P.sibling;return null}function r(A,P){for(A=new Map;P!==null;)P.key!==null?A.set(P.key,P):A.set(P.index,P),P=P.sibling;return A}function i(A,P){return A=oc(A,P),A.index=0,A.sibling=null,A}function a(A,P,M){return A.index=M,e?(M=A.alternate,M!==null?(M=M.index,M<P?(A.effectTag=2,P):M):(A.effectTag=2,P)):P}function l(A){return e&&A.alternate===null&&(A.effectTag=2),A}function c(A,P,M,z){return P===null||P.tag!==6?(P=Hw(M,A.mode,z),P.return=A,P):(P=i(P,M),P.return=A,P)}function p(A,P,M,z){return P!==null&&P.elementType===M.type?(z=i(P,M.props),z.ref=mh(A,P,M),z.return=A,z):(z=gm(M.type,M.key,M.props,null,A.mode,z),z.ref=mh(A,P,M),z.return=A,z)}function v(A,P,M,z){return P===null||P.tag!==4||P.stateNode.containerInfo!==M.containerInfo||P.stateNode.implementation!==M.implementation?(P=Uw(M,A.mode,z),P.return=A,P):(P=i(P,M.children||[]),P.return=A,P)}function m(A,P,M,z,$){return P===null||P.tag!==7?(P=Sl(M,A.mode,z,$),P.return=A,P):(P=i(P,M),P.return=A,P)}function x(A,P,M){if(typeof P=="string"||typeof P=="number")return P=Hw(""+P,A.mode,M),P.return=A,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Ev:return M=gm(P.type,P.key,P.props,null,A.mode,M),M.ref=mh(A,null,P),M.return=A,M;case Tf:return P=Uw(P,A.mode,M),P.return=A,P}if(kv(P)||fh(P))return P=Sl(P,A.mode,M,null),P.return=A,P;_v(A,P)}return null}function E(A,P,M,z){var $=P!==null?P.key:null;if(typeof M=="string"||typeof M=="number")return $!==null?null:c(A,P,""+M,z);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Ev:return M.key===$?M.type===Fu?m(A,P,M.props.children,z,$):p(A,P,M,z):null;case Tf:return M.key===$?v(A,P,M,z):null}if(kv(M)||fh(M))return $!==null?null:m(A,P,M,z,null);_v(A,M)}return null}function C(A,P,M,z,$){if(typeof z=="string"||typeof z=="number")return A=A.get(M)||null,c(P,A,""+z,$);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case Ev:return A=A.get(z.key===null?M:z.key)||null,z.type===Fu?m(P,A,z.props.children,$,z.key):p(P,A,z,$);case Tf:return A=A.get(z.key===null?M:z.key)||null,v(P,A,z,$)}if(kv(z)||fh(z))return A=A.get(M)||null,m(P,A,z,$,null);_v(P,z)}return null}function I(A,P,M,z){for(var $=null,U=null,X=P,V=P=0,ne=null;X!==null&&V<M.length;V++){X.index>V?(ne=X,X=null):ne=X.sibling;var he=E(A,X,M[V],z);if(he===null){X===null&&(X=ne);break}e&&X&&he.alternate===null&&t(A,X),P=a(he,P,V),U===null?$=he:U.sibling=he,U=he,X=ne}if(V===M.length)return n(A,X),$;if(X===null){for(;V<M.length;V++)X=x(A,M[V],z),X!==null&&(P=a(X,P,V),U===null?$=X:U.sibling=X,U=X);return $}for(X=r(A,X);V<M.length;V++)ne=C(X,A,V,M[V],z),ne!==null&&(e&&ne.alternate!==null&&X.delete(ne.key===null?V:ne.key),P=a(ne,P,V),U===null?$=ne:U.sibling=ne,U=ne);return e&&X.forEach(function(me){return t(A,me)}),$}function j(A,P,M,z){var $=fh(M);if(typeof $!="function")throw Error(Ue(150));if(M=$.call(M),M==null)throw Error(Ue(151));for(var U=$=null,X=P,V=P=0,ne=null,he=M.next();X!==null&&!he.done;V++,he=M.next()){X.index>V?(ne=X,X=null):ne=X.sibling;var me=E(A,X,he.value,z);if(me===null){X===null&&(X=ne);break}e&&X&&me.alternate===null&&t(A,X),P=a(me,P,V),U===null?$=me:U.sibling=me,U=me,X=ne}if(he.done)return n(A,X),$;if(X===null){for(;!he.done;V++,he=M.next())he=x(A,he.value,z),he!==null&&(P=a(he,P,V),U===null?$=he:U.sibling=he,U=he);return $}for(X=r(A,X);!he.done;V++,he=M.next())he=C(X,A,V,he.value,z),he!==null&&(e&&he.alternate!==null&&X.delete(he.key===null?V:he.key),P=a(he,P,V),U===null?$=he:U.sibling=he,U=he);return e&&X.forEach(function(we){return t(A,we)}),$}return function(A,P,M,z){var $=typeof M=="object"&&M!==null&&M.type===Fu&&M.key===null;$&&(M=M.props.children);var U=typeof M=="object"&&M!==null;if(U)switch(M.$$typeof){case Ev:e:{for(U=M.key,$=P;$!==null;){if($.key===U){switch($.tag){case 7:if(M.type===Fu){n(A,$.sibling),P=i($,M.props.children),P.return=A,A=P;break e}break;default:if($.elementType===M.type){n(A,$.sibling),P=i($,M.props),P.ref=mh(A,$,M),P.return=A,A=P;break e}}n(A,$);break}else t(A,$);$=$.sibling}M.type===Fu?(P=Sl(M.props.children,A.mode,z,M.key),P.return=A,A=P):(z=gm(M.type,M.key,M.props,null,A.mode,z),z.ref=mh(A,P,M),z.return=A,A=z)}return l(A);case Tf:e:{for($=M.key;P!==null;){if(P.key===$)if(P.tag===4&&P.stateNode.containerInfo===M.containerInfo&&P.stateNode.implementation===M.implementation){n(A,P.sibling),P=i(P,M.children||[]),P.return=A,A=P;break e}else{n(A,P);break}else t(A,P);P=P.sibling}P=Uw(M,A.mode,z),P.return=A,A=P}return l(A)}if(typeof M=="string"||typeof M=="number")return M=""+M,P!==null&&P.tag===6?(n(A,P.sibling),P=i(P,M),P.return=A,A=P):(n(A,P),P=Hw(M,A.mode,z),P.return=A,A=P),l(A);if(kv(M))return I(A,P,M,z);if(fh(M))return j(A,P,M,z);if(U&&_v(A,M),typeof M>"u"&&!$)switch(A.tag){case 1:case 0:throw A=A.type,Error(Ue(152,A.displayName||A.name||"Component"))}return n(A,P)}}var Gf=oL(!0),tE=oL(!1),$p={},_a={current:$p},op={current:$p},ap={current:$p};function Bu(e){if(e===$p)throw Error(Ue(174));return e}function cx(e,t){switch(Bn(ap,t),Bn(op,e),Bn(_a,$p),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:q1(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=q1(t,e)}Cn(_a),Bn(_a,t)}function qf(){Cn(_a),Cn(op),Cn(ap)}function uT(e){Bu(ap.current);var t=Bu(_a.current),n=q1(t,e.type);t!==n&&(Bn(op,e),Bn(_a,n))}function nE(e){op.current===e&&(Cn(_a),Cn(op))}var Pn={current:0};function Dm(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data===Ub||n.data===Wb))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.effectTag&64)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function rE(e,t){return{responder:e,props:t}}var dm=Mo.ReactCurrentDispatcher,co=Mo.ReactCurrentBatchConfig,bl=0,rr=null,$r=null,Dr=null,Bm=!1;function Ni(){throw Error(Ue(321))}function iE(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!rc(e[n],t[n]))return!1;return!0}function oE(e,t,n,r,i,a){if(bl=a,rr=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,dm.current=e===null||e.memoizedState===null?gD:vD,e=n(r,i),t.expirationTime===bl){a=0;do{if(t.expirationTime=0,!(25>a))throw Error(Ue(301));a+=1,Dr=$r=null,t.updateQueue=null,dm.current=mD,e=n(r,i)}while(t.expirationTime===bl)}if(dm.current=Um,t=$r!==null&&$r.next!==null,bl=0,Dr=$r=rr=null,Bm=!1,t)throw Error(Ue(300));return e}function $f(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dr===null?rr.memoizedState=Dr=e:Dr=Dr.next=e,Dr}function nd(){if($r===null){var e=rr.alternate;e=e!==null?e.memoizedState:null}else e=$r.next;var t=Dr===null?rr.memoizedState:Dr.next;if(t!==null)Dr=t,$r=e;else{if(e===null)throw Error(Ue(310));$r=e,e={memoizedState:$r.memoizedState,baseState:$r.baseState,baseQueue:$r.baseQueue,queue:$r.queue,next:null},Dr===null?rr.memoizedState=Dr=e:Dr=Dr.next=e}return Dr}function Xu(e,t){return typeof t=="function"?t(e):t}function Ov(e){var t=nd(),n=t.queue;if(n===null)throw Error(Ue(311));n.lastRenderedReducer=e;var r=$r,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var l=i.next;i.next=a.next,a.next=l}r.baseQueue=i=a,n.pending=null}if(i!==null){i=i.next,r=r.baseState;var c=l=a=null,p=i;do{var v=p.expirationTime;if(v<bl){var m={expirationTime:p.expirationTime,suspenseConfig:p.suspenseConfig,action:p.action,eagerReducer:p.eagerReducer,eagerState:p.eagerState,next:null};c===null?(l=c=m,a=r):c=c.next=m,v>rr.expirationTime&&(rr.expirationTime=v,Iy(v))}else c!==null&&(c=c.next={expirationTime:1073741823,suspenseConfig:p.suspenseConfig,action:p.action,eagerReducer:p.eagerReducer,eagerState:p.eagerState,next:null}),NL(v,p.suspenseConfig),r=p.eagerReducer===e?p.eagerState:e(r,p.action);p=p.next}while(p!==null&&p!==i);c===null?a=r:c.next=l,rc(r,t.memoizedState)||(Ca=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function Lv(e){var t=nd(),n=t.queue;if(n===null)throw Error(Ue(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var l=i=i.next;do a=e(a,l.action),l=l.next;while(l!==i);rc(a,t.memoizedState)||(Ca=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function jw(e){var t=$f();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e=t.queue={pending:null,dispatch:null,lastRenderedReducer:Xu,lastRenderedState:e},e=e.dispatch=fL.bind(null,rr,e),[t.memoizedState,e]}function fx(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=rr.updateQueue,t===null?(t={lastEffect:null},rr.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function aL(){return nd().memoizedState}function dx(e,t,n,r){var i=$f();rr.effectTag|=e,i.memoizedState=fx(1|t,n,void 0,r===void 0?null:r)}function aE(e,t,n,r){var i=nd();r=r===void 0?null:r;var a=void 0;if($r!==null){var l=$r.memoizedState;if(a=l.destroy,r!==null&&iE(r,l.deps)){fx(t,n,a,r);return}}rr.effectTag|=e,i.memoizedState=fx(1|t,n,a,r)}function cT(e,t){return dx(516,4,e,t)}function zm(e,t){return aE(516,4,e,t)}function sL(e,t){return aE(4,2,e,t)}function lL(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function uL(e,t,n){return n=n!=null?n.concat([e]):null,aE(4,2,lL.bind(null,t,e),n)}function sE(){}function fT(e,t){return $f().memoizedState=[e,t===void 0?null:t],e}function Hm(e,t){var n=nd();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&iE(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function cL(e,t){var n=nd();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&iE(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function lE(e,t,n){var r=Oy();Ml(98>r?98:r,function(){e(!0)}),Ml(97<r?97:r,function(){var i=co.suspense;co.suspense=t===void 0?null:t;try{e(!1),n()}finally{co.suspense=i}})}function fL(e,t,n){var r=Oa(),i=Uh.suspense;r=Qu(r,e,i),i={expirationTime:r,suspenseConfig:i,action:n,eagerReducer:null,eagerState:null,next:null};var a=t.pending;if(a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i,a=e.alternate,e===rr||a!==null&&a===rr)Bm=!0,i.expirationTime=bl,rr.expirationTime=bl;else{if(e.expirationTime===0&&(a===null||a.expirationTime===0)&&(a=t.lastRenderedReducer,a!==null))try{var l=t.lastRenderedState,c=a(l,n);if(i.eagerReducer=a,i.eagerState=c,rc(c,l))return}catch{}finally{}Al(e,r)}}var Um={readContext:fo,useCallback:Ni,useContext:Ni,useEffect:Ni,useImperativeHandle:Ni,useLayoutEffect:Ni,useMemo:Ni,useReducer:Ni,useRef:Ni,useState:Ni,useDebugValue:Ni,useResponder:Ni,useDeferredValue:Ni,useTransition:Ni},gD={readContext:fo,useCallback:fT,useContext:fo,useEffect:cT,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,dx(4,2,lL.bind(null,t,e),n)},useLayoutEffect:function(e,t){return dx(4,2,e,t)},useMemo:function(e,t){var n=$f();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=$f();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},e=e.dispatch=fL.bind(null,rr,e),[r.memoizedState,e]},useRef:function(e){var t=$f();return e={current:e},t.memoizedState=e},useState:jw,useDebugValue:sE,useResponder:rE,useDeferredValue:function(e,t){var n=jw(e),r=n[0],i=n[1];return cT(function(){var a=co.suspense;co.suspense=t===void 0?null:t;try{i(e)}finally{co.suspense=a}},[e,t]),r},useTransition:function(e){var t=jw(!1),n=t[0];return t=t[1],[fT(lE.bind(null,t,e),[t,e]),n]}},vD={readContext:fo,useCallback:Hm,useContext:fo,useEffect:zm,useImperativeHandle:uL,useLayoutEffect:sL,useMemo:cL,useReducer:Ov,useRef:aL,useState:function(){return Ov(Xu)},useDebugValue:sE,useResponder:rE,useDeferredValue:function(e,t){var n=Ov(Xu),r=n[0],i=n[1];return zm(function(){var a=co.suspense;co.suspense=t===void 0?null:t;try{i(e)}finally{co.suspense=a}},[e,t]),r},useTransition:function(e){var t=Ov(Xu),n=t[0];return t=t[1],[Hm(lE.bind(null,t,e),[t,e]),n]}},mD={readContext:fo,useCallback:Hm,useContext:fo,useEffect:zm,useImperativeHandle:uL,useLayoutEffect:sL,useMemo:cL,useReducer:Lv,useRef:aL,useState:function(){return Lv(Xu)},useDebugValue:sE,useResponder:rE,useDeferredValue:function(e,t){var n=Lv(Xu),r=n[0],i=n[1];return zm(function(){var a=co.suspense;co.suspense=t===void 0?null:t;try{i(e)}finally{co.suspense=a}},[e,t]),r},useTransition:function(e){var t=Lv(Xu),n=t[0];return t=t[1],[Hm(lE.bind(null,t,e),[t,e]),n]}},Cs=null,El=null,Vu=!1;function dL(e,t){var n=Ta(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,e.lastEffect!==null?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function dT(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,!0):!1;case 13:return!1;default:return!1}}function hx(e){if(Vu){var t=El;if(t){var n=t;if(!dT(e,t)){if(t=Ff(n.nextSibling),!t||!dT(e,t)){e.effectTag=e.effectTag&-1025|2,Vu=!1,Cs=e;return}dL(Cs,n)}Cs=e,El=Ff(t.firstChild)}else e.effectTag=e.effectTag&-1025|2,Vu=!1,Cs=e}}function hT(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Cs=e}function Pv(e){if(e!==Cs)return!1;if(!Vu)return hT(e),Vu=!0,!1;var t=e.type;if(e.tag!==5||t!=="head"&&t!=="body"&&!nx(t,e.memoizedProps))for(t=El;t;)dL(e,t),t=Ff(t.nextSibling);if(hT(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ue(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n===NO){if(t===0){El=Ff(e.nextSibling);break e}t--}else n!==AO&&n!==Wb&&n!==Ub||t++}e=e.nextSibling}El=null}}else El=Cs?Ff(e.stateNode.nextSibling):null;return!0}function $w(){El=Cs=null,Vu=!1}var yD=Mo.ReactCurrentOwner,Ca=!1;function Mi(e,t,n,r){t.child=e===null?tE(t,null,n,r):Gf(t,e.child,n,r)}function pT(e,t,n,r,i){n=n.render;var a=t.ref;return jf(t,i),r=oE(e,t,n,r,a,i),e!==null&&!Ca?(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Ts(e,t,i)):(t.effectTag|=1,Mi(e,t,r,i),t.child)}function gT(e,t,n,r,i,a){if(e===null){var l=n.type;return typeof l=="function"&&!hE(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=l,hL(e,t,l,r,i,a)):(e=gm(n.type,null,r,null,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}return l=e.child,i<a&&(i=l.memoizedProps,n=n.compare,n=n!==null?n:rp,n(i,r)&&e.ref===t.ref)?Ts(e,t,a):(t.effectTag|=1,e=oc(l,r),e.ref=t.ref,e.return=t,t.child=e)}function hL(e,t,n,r,i,a){return e!==null&&rp(e.memoizedProps,r)&&e.ref===t.ref&&(Ca=!1,i<a)?(t.expirationTime=e.expirationTime,Ts(e,t,a)):px(e,t,n,r,a)}function pL(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.effectTag|=128)}function px(e,t,n,r,i){var a=gi(n)?ic:zr.current;return a=Kf(t,a),jf(t,i),n=oE(e,t,n,r,a,i),e!==null&&!Ca?(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Ts(e,t,i)):(t.effectTag|=1,Mi(e,t,n,i),t.child)}function vT(e,t,n,r,i){if(gi(n)){var a=!0;um(t)}else a=!1;if(jf(t,i),t.stateNode===null)e!==null&&(e.alternate=null,t.alternate=null,t.effectTag|=2),iL(t,n,r),ux(t,n,r,i),r=!0;else if(e===null){var l=t.stateNode,c=t.memoizedProps;l.props=c;var p=l.context,v=n.contextType;typeof v=="object"&&v!==null?v=fo(v):(v=gi(n)?ic:zr.current,v=Kf(t,v));var m=n.getDerivedStateFromProps,x=typeof m=="function"||typeof l.getSnapshotBeforeUpdate=="function";x||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(c!==r||p!==v)&&lT(t,l,r,v),yl=!1;var E=t.memoizedState;l.state=E,ip(t,r,l,i),p=t.memoizedState,c!==r||E!==p||pi.current||yl?(typeof m=="function"&&($m(t,n,m,r),p=t.memoizedState),(c=yl||sT(t,n,c,r,E,p,v))?(x||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.effectTag|=4)):(typeof l.componentDidMount=="function"&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=p),l.props=r,l.state=p,l.context=v,r=c):(typeof l.componentDidMount=="function"&&(t.effectTag|=4),r=!1)}else l=t.stateNode,eE(e,t),c=t.memoizedProps,l.props=t.type===t.elementType?c:Ao(t.type,c),p=l.context,v=n.contextType,typeof v=="object"&&v!==null?v=fo(v):(v=gi(n)?ic:zr.current,v=Kf(t,v)),m=n.getDerivedStateFromProps,(x=typeof m=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(c!==r||p!==v)&&lT(t,l,r,v),yl=!1,p=t.memoizedState,l.state=p,ip(t,r,l,i),E=t.memoizedState,c!==r||p!==E||pi.current||yl?(typeof m=="function"&&($m(t,n,m,r),E=t.memoizedState),(m=yl||sT(t,n,c,r,p,E,v))?(x||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,E,v),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,E,v)),typeof l.componentDidUpdate=="function"&&(t.effectTag|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.effectTag|=256)):(typeof l.componentDidUpdate!="function"||c===e.memoizedProps&&p===e.memoizedState||(t.effectTag|=4),typeof l.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&p===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=E),l.props=r,l.state=E,l.context=v,r=m):(typeof l.componentDidUpdate!="function"||c===e.memoizedProps&&p===e.memoizedState||(t.effectTag|=4),typeof l.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&p===e.memoizedState||(t.effectTag|=256),r=!1);return gx(e,t,n,r,a,i)}function gx(e,t,n,r,i,a){pL(e,t);var l=(t.effectTag&64)!==0;if(!r&&!l)return i&&tT(t,n,!1),Ts(e,t,a);r=t.stateNode,yD.current=t;var c=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.effectTag|=1,e!==null&&l?(t.child=Gf(t,e.child,null,a),t.child=Gf(t,null,c,a)):Mi(e,t,c,a),t.memoizedState=r.state,i&&tT(t,n,!0),t.child}function mT(e){var t=e.stateNode;t.pendingContext?eT(e,t.pendingContext,t.pendingContext!==t.context):t.context&&eT(e,t.context,!1),cx(e,t.containerInfo)}var Dw={dehydrated:null,retryTime:0};function yT(e,t,n){var r=t.mode,i=t.pendingProps,a=Pn.current,l=!1,c;if((c=(t.effectTag&64)!==0)||(c=(a&2)!==0&&(e===null||e.memoizedState!==null)),c?(l=!0,t.effectTag&=-65):e!==null&&e.memoizedState===null||i.fallback===void 0||i.unstable_avoidThisFallback===!0||(a|=1),Bn(Pn,a&1),e===null){if(i.fallback!==void 0&&hx(t),l){if(l=i.fallback,i=Sl(null,r,0,null),i.return=t,!(t.mode&2))for(e=t.memoizedState!==null?t.child.child:t.child,i.child=e;e!==null;)e.return=i,e=e.sibling;return n=Sl(l,r,n,null),n.return=t,i.sibling=n,t.memoizedState=Dw,t.child=i,n}return r=i.children,t.memoizedState=null,t.child=tE(t,null,r,n)}if(e.memoizedState!==null){if(e=e.child,r=e.sibling,l){if(i=i.fallback,n=oc(e,e.pendingProps),n.return=t,!(t.mode&2)&&(l=t.memoizedState!==null?t.child.child:t.child,l!==e.child))for(n.child=l;l!==null;)l.return=n,l=l.sibling;return r=oc(r,i),r.return=t,n.sibling=r,n.childExpirationTime=0,t.memoizedState=Dw,t.child=n,r}return n=Gf(t,e.child,i.children,n),t.memoizedState=null,t.child=n}if(e=e.child,l){if(l=i.fallback,i=Sl(null,r,0,null),i.return=t,i.child=e,e!==null&&(e.return=i),!(t.mode&2))for(e=t.memoizedState!==null?t.child.child:t.child,i.child=e;e!==null;)e.return=i,e=e.sibling;return n=Sl(l,r,n,null),n.return=t,i.sibling=n,n.effectTag|=2,i.childExpirationTime=0,t.memoizedState=Dw,t.child=i,n}return t.memoizedState=null,t.child=Gf(t,e,i.children,n)}function wT(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;n!==null&&n.expirationTime<t&&(n.expirationTime=t),nL(e.return,t)}function Bw(e,t,n,r,i,a){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:a}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=n,l.tailExpiration=0,l.tailMode=i,l.lastEffect=a)}function xT(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Mi(e,t,r.children,n),r=Pn.current,r&2)r=r&1|2,t.effectTag|=64;else{if(e!==null&&e.effectTag&64)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&wT(e,n);else if(e.tag===19)wT(e,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Bn(Pn,r),!(t.mode&2))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Dm(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bw(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Dm(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bw(t,!0,n,null,a,t.lastEffect);break;case"together":Bw(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Ts(e,t,n){e!==null&&(t.dependencies=e.dependencies);var r=t.expirationTime;if(r!==0&&Iy(r),t.childExpirationTime<n)return null;if(e!==null&&t.child!==e.child)throw Error(Ue(153));if(t.child!==null){for(e=t.child,n=oc(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=oc(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}var gL,vx,vL,mL;gL=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};vx=function(){};vL=function(e,t,n,r,i){var a=e.memoizedProps;if(a!==r){var l=t.stateNode;switch(Bu(_a.current),e=null,n){case"input":a=H1(l,a),r=H1(l,r),e=[];break;case"option":a=K1(l,a),r=K1(l,r),e=[];break;case"select":a=Jr({},a,{value:void 0}),r=Jr({},r,{value:void 0}),e=[];break;case"textarea":a=G1(l,a),r=G1(l,r),e=[];break;default:typeof a.onClick!="function"&&typeof r.onClick=="function"&&(l.onclick=Am)}Z1(n,r);var c,p;n=null;for(c in a)if(!r.hasOwnProperty(c)&&a.hasOwnProperty(c)&&a[c]!=null)if(c==="style")for(p in l=a[c],l)l.hasOwnProperty(p)&&(n||(n={}),n[p]="");else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Hf.hasOwnProperty(c)?e||(e=[]):(e=e||[]).push(c,null));for(c in r){var v=r[c];if(l=a!=null?a[c]:void 0,r.hasOwnProperty(c)&&v!==l&&(v!=null||l!=null))if(c==="style")if(l){for(p in l)!l.hasOwnProperty(p)||v&&v.hasOwnProperty(p)||(n||(n={}),n[p]="");for(p in v)v.hasOwnProperty(p)&&l[p]!==v[p]&&(n||(n={}),n[p]=v[p])}else n||(e||(e=[]),e.push(c,n)),n=v;else c==="dangerouslySetInnerHTML"?(v=v?v.__html:void 0,l=l?l.__html:void 0,v!=null&&l!==v&&(e=e||[]).push(c,v)):c==="children"?l===v||typeof v!="string"&&typeof v!="number"||(e=e||[]).push(c,""+v):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Hf.hasOwnProperty(c)?(v!=null&&ys(i,c),e||l===v||(e=[])):(e=e||[]).push(c,v))}n&&(e=e||[]).push("style",n),i=e,(t.updateQueue=i)&&(t.effectTag|=4)}};mL=function(e,t,n,r){n!==r&&(t.effectTag|=4)};function Av(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function wD(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return gi(t.type)&&Rm(),null;case 3:return qf(),Cn(pi),Cn(zr),n=t.stateNode,n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),e!==null&&e.child!==null||!Pv(t)||(t.effectTag|=4),vx(t),null;case 5:nE(t),n=Bu(ap.current);var i=t.type;if(e!==null&&t.stateNode!=null)vL(e,t,i,r,n),e.ref!==t.ref&&(t.effectTag|=128);else{if(!r){if(t.stateNode===null)throw Error(Ue(166));return null}if(e=Bu(_a.current),Pv(t)){r=t.stateNode,i=t.type;var a=t.memoizedProps;switch(r[wl]=t,r[Nm]=a,i){case"iframe":case"object":case"embed":_n("load",r);break;case"video":case"audio":for(e=0;e<Ah.length;e++)_n(Ah[e],r);break;case"source":_n("error",r);break;case"img":case"image":case"link":_n("error",r),_n("load",r);break;case"form":_n("reset",r),_n("submit",r);break;case"details":_n("toggle",r);break;case"input":AC(r,a),_n("invalid",r),ys(n,"onChange");break;case"select":r._wrapperState={wasMultiple:!!a.multiple},_n("invalid",r),ys(n,"onChange");break;case"textarea":IC(r,a),_n("invalid",r),ys(n,"onChange")}Z1(i,a),e=null;for(var l in a)if(a.hasOwnProperty(l)){var c=a[l];l==="children"?typeof c=="string"?r.textContent!==c&&(e=["children",c]):typeof c=="number"&&r.textContent!==""+c&&(e=["children",""+c]):Hf.hasOwnProperty(l)&&c!=null&&ys(n,l)}switch(i){case"input":Sv(r),NC(r,a,!0);break;case"textarea":Sv(r),RC(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Am)}n=e,t.updateQueue=n,n!==null&&(t.effectTag|=4)}else{switch(l=n.nodeType===9?n:n.ownerDocument,e===BC&&(e=cO(i)),e===BC?i==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=l.createElement(i,{is:r.is}):(e=l.createElement(i),i==="select"&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,i),e[wl]=t,e[Nm]=r,gL(e,t,!1,!1),t.stateNode=e,l=J1(i,r),i){case"iframe":case"object":case"embed":_n("load",e),c=r;break;case"video":case"audio":for(c=0;c<Ah.length;c++)_n(Ah[c],e);c=r;break;case"source":_n("error",e),c=r;break;case"img":case"image":case"link":_n("error",e),_n("load",e),c=r;break;case"form":_n("reset",e),_n("submit",e),c=r;break;case"details":_n("toggle",e),c=r;break;case"input":AC(e,r),c=H1(e,r),_n("invalid",e),ys(n,"onChange");break;case"option":c=K1(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},c=Jr({},r,{value:void 0}),_n("invalid",e),ys(n,"onChange");break;case"textarea":IC(e,r),c=G1(e,r),_n("invalid",e),ys(n,"onChange");break;default:c=r}Z1(i,c);var p=c;for(a in p)if(p.hasOwnProperty(a)){var v=p[a];a==="style"?LO(e,v):a==="dangerouslySetInnerHTML"?(v=v?v.__html:void 0,v!=null&&fO(e,v)):a==="children"?typeof v=="string"?(i!=="textarea"||v!=="")&&Jh(e,v):typeof v=="number"&&Jh(e,""+v):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Hf.hasOwnProperty(a)?v!=null&&ys(n,a):v!=null&&Nb(e,a,v,l))}switch(i){case"input":Sv(e),NC(e,r,!1);break;case"textarea":Sv(e),RC(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Il(r.value));break;case"select":e.multiple=!!r.multiple,n=r.value,n!=null?Mf(e,!!r.multiple,n,!1):r.defaultValue!=null&&Mf(e,!!r.multiple,r.defaultValue,!0);break;default:typeof c.onClick=="function"&&(e.onclick=Am)}IO(i,r)&&(t.effectTag|=4)}t.ref!==null&&(t.effectTag|=128)}return null;case 6:if(e&&t.stateNode!=null)mL(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Ue(166));n=Bu(ap.current),Bu(_a.current),Pv(t)?(n=t.stateNode,r=t.memoizedProps,n[wl]=t,n.nodeValue!==r&&(t.effectTag|=4)):(n=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),n[wl]=t,t.stateNode=n)}return null;case 13:return Cn(Pn),r=t.memoizedState,t.effectTag&64?(t.expirationTime=n,t):(n=r!==null,r=!1,e===null?t.memoizedProps.fallback!==void 0&&Pv(t):(i=e.memoizedState,r=i!==null,n||i===null||(i=e.child.sibling,i!==null&&(a=t.firstEffect,a!==null?(t.firstEffect=i,i.nextEffect=a):(t.firstEffect=t.lastEffect=i,i.nextEffect=null),i.effectTag=8))),n&&!r&&t.mode&2&&(e===null&&t.memoizedProps.unstable_avoidThisFallback!==!0||Pn.current&1?vr===Yu&&(vr=Gm):((vr===Yu||vr===Gm)&&(vr=Py),lp!==0&&Di!==null&&(Uu(Di,vi),jL(Di,lp)))),(n||r)&&(t.effectTag|=4),null);case 4:return qf(),vx(t),null;case 10:return Zb(t),null;case 17:return gi(t.type)&&Rm(),null;case 19:if(Cn(Pn),r=t.memoizedState,r===null)return null;if(i=(t.effectTag&64)!==0,a=r.rendering,a===null){if(i)Av(r,!1);else if(vr!==Yu||e!==null&&e.effectTag&64)for(a=t.child;a!==null;){if(e=Dm(a),e!==null){for(t.effectTag|=64,Av(r,!1),i=e.updateQueue,i!==null&&(t.updateQueue=i,t.effectTag|=4),r.lastEffect===null&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=t.child;r!==null;)i=r,a=n,i.effectTag&=2,i.nextEffect=null,i.firstEffect=null,i.lastEffect=null,e=i.alternate,e===null?(i.childExpirationTime=0,i.expirationTime=a,i.child=null,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null):(i.childExpirationTime=e.childExpirationTime,i.expirationTime=e.expirationTime,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,a=e.dependencies,i.dependencies=a===null?null:{expirationTime:a.expirationTime,firstContext:a.firstContext,responders:a.responders}),r=r.sibling;return Bn(Pn,Pn.current&1|2),t.child}a=a.sibling}}else{if(!i)if(e=Dm(a),e!==null){if(t.effectTag|=64,i=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.effectTag|=4),Av(r,!0),r.tail===null&&r.tailMode==="hidden"&&!a.alternate)return t=t.lastEffect=r.lastEffect,t!==null&&(t.nextEffect=null),null}else 2*lo()-r.renderingStartTime>r.tailExpiration&&1<n&&(t.effectTag|=64,i=!0,Av(r,!1),t.expirationTime=t.childExpirationTime=n-1);r.isBackwards?(a.sibling=t.child,t.child=a):(n=r.last,n!==null?n.sibling=a:t.child=a,r.last=a)}return r.tail!==null?(r.tailExpiration===0&&(r.tailExpiration=lo()+500),n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=lo(),n.sibling=null,t=Pn.current,Bn(Pn,i?t&1|2:t&1),n):null}throw Error(Ue(156,t.tag))}function xD(e){switch(e.tag){case 1:gi(e.type)&&Rm();var t=e.effectTag;return t&4096?(e.effectTag=t&-4097|64,e):null;case 3:if(qf(),Cn(pi),Cn(zr),t=e.effectTag,t&64)throw Error(Ue(285));return e.effectTag=t&-4097|64,e;case 5:return nE(e),null;case 13:return Cn(Pn),t=e.effectTag,t&4096?(e.effectTag=t&-4097|64,e):null;case 19:return Cn(Pn),null;case 4:return qf(),null;case 10:return Zb(e),null;default:return null}}function uE(e,t){return{value:e,source:t,stack:Mb(t)}}var bD=typeof WeakSet=="function"?WeakSet:Set;function mx(e,t){var n=t.source,r=t.stack;r===null&&n!==null&&(r=Mb(n)),n!==null&&Ls(n.type),t=t.value,e!==null&&e.tag===1&&Ls(e.type);try{console.error(t)}catch(i){setTimeout(function(){throw i})}}function ED(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(n){Zu(e,n)}}function bT(e){var t=e.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(n){Zu(e,n)}else t.current=null}function SD(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(t.effectTag&256&&e!==null){var n=e.memoizedProps,r=e.memoizedState;e=t.stateNode,t=e.getSnapshotBeforeUpdate(t.elementType===t.type?n:Ao(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(Ue(163))}function yL(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.destroy;n.destroy=void 0,r!==void 0&&r()}n=n.next}while(n!==t)}}function wL(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function CD(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:wL(3,n);return;case 1:if(e=n.stateNode,n.effectTag&4)if(t===null)e.componentDidMount();else{var r=n.elementType===n.type?t.memoizedProps:Ao(n.type,t.memoizedProps);e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}t=n.updateQueue,t!==null&&aT(n,t,e);return;case 3:if(t=n.updateQueue,t!==null){if(e=null,n.child!==null)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}aT(n,t,e)}return;case 5:e=n.stateNode,t===null&&n.effectTag&4&&IO(n.type,n.memoizedProps)&&e.focus();return;case 6:return;case 4:return;case 12:return;case 13:n.memoizedState===null&&(n=n.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&TO(n))));return;case 19:case 17:case 20:case 21:return}throw Error(Ue(163))}function ET(e,t,n){switch(typeof Tx=="function"&&Tx(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(e=t.updateQueue,e!==null&&(e=e.lastEffect,e!==null)){var r=e.next;Ml(97<n?97:n,function(){var i=r;do{var a=i.destroy;if(a!==void 0){var l=t;try{a()}catch(c){Zu(l,c)}}i=i.next}while(i!==r)})}break;case 1:bT(t),n=t.stateNode,typeof n.componentWillUnmount=="function"&&ED(t,n);break;case 5:bT(t);break;case 4:bL(e,t,n)}}function xL(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,t!==null&&xL(t)}function ST(e){return e.tag===5||e.tag===3||e.tag===4}function CT(e){e:{for(var t=e.return;t!==null;){if(ST(t)){var n=t;break e}t=t.return}throw Error(Ue(160))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:t=t.containerInfo,r=!0;break;case 4:t=t.containerInfo,r=!0;break;default:throw Error(Ue(161))}n.effectTag&16&&(Jh(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;n.sibling===null;){if(n.return===null||ST(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.effectTag&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.effectTag&2)){n=n.stateNode;break e}}r?yx(e,n,t):wx(e,n,t)}function yx(e,t,n){var r=e.tag,i=r===5||r===6;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Am));else if(r!==4&&(e=e.child,e!==null))for(yx(e,t,n),e=e.sibling;e!==null;)yx(e,t,n),e=e.sibling}function wx(e,t,n){var r=e.tag,i=r===5||r===6;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(wx(e,t,n),e=e.sibling;e!==null;)wx(e,t,n),e=e.sibling}function bL(e,t,n){for(var r=t,i=!1,a,l;;){if(!i){i=r.return;e:for(;;){if(i===null)throw Error(Ue(160));switch(a=i.stateNode,i.tag){case 5:l=!1;break e;case 3:a=a.containerInfo,l=!0;break e;case 4:a=a.containerInfo,l=!0;break e}i=i.return}i=!0}if(r.tag===5||r.tag===6){e:for(var c=e,p=r,v=n,m=p;;)if(ET(c,m,v),m.child!==null&&m.tag!==4)m.child.return=m,m=m.child;else{if(m===p)break e;for(;m.sibling===null;){if(m.return===null||m.return===p)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}l?(c=a,p=r.stateNode,c.nodeType===8?c.parentNode.removeChild(p):c.removeChild(p)):a.removeChild(r.stateNode)}else if(r.tag===4){if(r.child!==null){a=r.stateNode.containerInfo,l=!0,r.child.return=r,r=r.child;continue}}else if(ET(e,r,n),r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return,r.tag===4&&(i=!1)}r.sibling.return=r.return,r=r.sibling}}function zw(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:yL(3,t);return;case 1:return;case 5:var n=t.stateNode;if(n!=null){var r=t.memoizedProps,i=e!==null?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,a!==null){for(n[Nm]=r,e==="input"&&r.type==="radio"&&r.name!=null&&sO(n,r),J1(e,i),t=J1(e,r),i=0;i<a.length;i+=2){var l=a[i],c=a[i+1];l==="style"?LO(n,c):l==="dangerouslySetInnerHTML"?fO(n,c):l==="children"?Jh(n,c):Nb(n,l,c,t)}switch(e){case"input":U1(n,r);break;case"textarea":lO(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,e=r.value,e!=null?Mf(n,!!r.multiple,e,!1):t!==!!r.multiple&&(r.defaultValue!=null?Mf(n,!!r.multiple,r.defaultValue,!0):Mf(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(t.stateNode===null)throw Error(Ue(162));t.stateNode.nodeValue=t.memoizedProps;return;case 3:t=t.stateNode,t.hydrate&&(t.hydrate=!1,TO(t.containerInfo));return;case 12:return;case 13:if(n=t,t.memoizedState===null?r=!1:(r=!0,n=t.child,dE=lo()),n!==null)e:for(e=n;;){if(e.tag===5)a=e.stateNode,r?(a=a.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(a=e.stateNode,i=e.memoizedProps.style,i=i!=null&&i.hasOwnProperty("display")?i.display:null,a.style.display=OO("display",i));else if(e.tag===6)e.stateNode.nodeValue=r?"":e.memoizedProps;else if(e.tag===13&&e.memoizedState!==null&&e.memoizedState.dehydrated===null){a=e.child.sibling,a.return=e,e=a;continue}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}TT(t);return;case 19:TT(t);return;case 17:return}throw Error(Ue(163))}function TT(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new bD),t.forEach(function(r){var i=RD.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}var TD=typeof WeakMap=="function"?WeakMap:Map;function EL(e,t,n){n=Ol(n,null),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Vm||(Vm=!0,xx=r),mx(e,t)},n}function SL(e,t,n){n=Ol(n,null),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return mx(e,t),r(i)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){typeof r!="function"&&(Pl===null?Pl=new Set([this]):Pl.add(this),mx(e,t));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}var kD=Math.ceil,Wm=Mo.ReactCurrentDispatcher,CL=Mo.ReactCurrentOwner,mr=0,cE=8,Fo=16,Aa=32,Yu=0,Km=1,TL=2,Gm=3,Py=4,fE=5,St=mr,Di=null,It=null,vi=0,vr=Yu,Ay=null,Ss=1073741823,sp=1073741823,qm=null,lp=0,Xm=!1,dE=0,kL=500,ft=null,Vm=!1,xx=null,Pl=null,Ym=!1,Wh=null,Ih=90,zu=null,Kh=0,bx=null,hm=0;function Oa(){return(St&(Fo|Aa))!==mr?1073741821-(lo()/10|0):hm!==0?hm:hm=1073741821-(lo()/10|0)}function Qu(e,t,n){if(t=t.mode,!(t&2))return 1073741823;var r=Oy();if(!(t&4))return r===99?1073741823:1073741822;if((St&Fo)!==mr)return vi;if(n!==null)e=fm(e,n.timeoutMs|0||5e3,250);else switch(r){case 99:e=1073741823;break;case 98:e=fm(e,150,100);break;case 97:case 96:e=fm(e,5e3,250);break;case 95:e=2;break;default:throw Error(Ue(326))}return Di!==null&&e===vi&&--e,e}function Al(e,t){if(50<Kh)throw Kh=0,bx=null,Error(Ue(185));if(e=Ny(e,t),e!==null){var n=Oy();t===1073741823?(St&cE)!==mr&&(St&(Fo|Aa))===mr?Ex(e):(Bi(e),St===mr&&Ra()):Bi(e),(St&4)===mr||n!==98&&n!==99||(zu===null?zu=new Map([[e,t]]):(n=zu.get(e),(n===void 0||n>t)&&zu.set(e,t)))}}function Ny(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;n!==null&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(r===null&&e.tag===3)i=e.stateNode;else for(;r!==null;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),n!==null&&n.childExpirationTime<t&&(n.childExpirationTime=t),r.return===null&&r.tag===3){i=r.stateNode;break}r=r.return}return i!==null&&(Di===i&&(Iy(t),vr===Py&&Uu(i,vi)),jL(i,t)),i}function pm(e){var t=e.lastExpiredTime;if(t!==0||(t=e.firstPendingTime,!FL(e,t)))return t;var n=e.lastPingedTime;return e=e.nextKnownPendingLevel,e=n>e?n:e,2>=e&&t!==e?0:e}function Bi(e){if(e.lastExpiredTime!==0)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=iT(Ex.bind(null,e));else{var t=pm(e),n=e.callbackNode;if(t===0)n!==null&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=Oa();if(t===1073741823?r=99:t===1||t===2?r=95:(r=10*(1073741821-t)-10*(1073741821-r),r=0>=r?99:250>=r?98:5250>=r?97:95),n!==null){var i=e.callbackPriority;if(e.callbackExpirationTime===t&&i>=r)return;n!==ZO&&qO(n)}e.callbackExpirationTime=t,e.callbackPriority=r,t=t===1073741823?iT(Ex.bind(null,e)):eL(r,_L.bind(null,e),{timeout:10*(1073741821-t)-lo()}),e.callbackNode=t}}}function _L(e,t){if(hm=0,t)return t=Oa(),kx(e,t),Bi(e),null;var n=pm(e);if(n!==0){if(t=e.callbackNode,(St&(Fo|Aa))!==mr)throw Error(Ue(327));if(rd(),e===Di&&n===vi||Hu(e,n),It!==null){var r=St;St|=Fo;var i=AL();do try{LD();break}catch(c){PL(e,c)}while(1);if(Qb(),St=r,Wm.current=i,vr===Km)throw t=Ay,Hu(e,n),Uu(e,n),Bi(e),t;if(It===null)switch(i=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,r=vr,Di=null,r){case Yu:case Km:throw Error(Ue(345));case TL:kx(e,2<n?2:n);break;case Gm:if(Uu(e,n),r=e.lastSuspendedTime,n===r&&(e.nextKnownPendingLevel=Sx(i)),Ss===1073741823&&(i=dE+kL-lo(),10<i)){if(Xm){var a=e.lastPingedTime;if(a===0||a>=n){e.lastPingedTime=n,Hu(e,n);break}}if(a=pm(e),a!==0&&a!==n)break;if(r!==0&&r!==n){e.lastPingedTime=r;break}e.timeoutHandle=Mw(Nu.bind(null,e),i);break}Nu(e);break;case Py:if(Uu(e,n),r=e.lastSuspendedTime,n===r&&(e.nextKnownPendingLevel=Sx(i)),Xm&&(i=e.lastPingedTime,i===0||i>=n)){e.lastPingedTime=n,Hu(e,n);break}if(i=pm(e),i!==0&&i!==n)break;if(r!==0&&r!==n){e.lastPingedTime=r;break}if(sp!==1073741823?r=10*(1073741821-sp)-lo():Ss===1073741823?r=0:(r=10*(1073741821-Ss)-5e3,i=lo(),n=10*(1073741821-n)-i,r=i-r,0>r&&(r=0),r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kD(r/1960))-r,n<r&&(r=n)),10<r){e.timeoutHandle=Mw(Nu.bind(null,e),r);break}Nu(e);break;case fE:if(Ss!==1073741823&&qm!==null){a=Ss;var l=qm;if(r=l.busyMinDurationMs|0,0>=r?r=0:(i=l.busyDelayMs|0,a=lo()-(10*(1073741821-a)-(l.timeoutMs|0||5e3)),r=a<=i?0:i+r-a),10<r){Uu(e,n),e.timeoutHandle=Mw(Nu.bind(null,e),r);break}}Nu(e);break;default:throw Error(Ue(329))}if(Bi(e),e.callbackNode===t)return _L.bind(null,e)}}return null}function Ex(e){var t=e.lastExpiredTime;if(t=t!==0?t:1073741823,(St&(Fo|Aa))!==mr)throw Error(Ue(327));if(rd(),e===Di&&t===vi||Hu(e,t),It!==null){var n=St;St|=Fo;var r=AL();do try{OD();break}catch(i){PL(e,i)}while(1);if(Qb(),St=n,Wm.current=r,vr===Km)throw n=Ay,Hu(e,t),Uu(e,t),Bi(e),n;if(It!==null)throw Error(Ue(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,Di=null,Nu(e),Bi(e)}return null}function _D(){if(zu!==null){var e=zu;zu=null,e.forEach(function(t,n){kx(n,t),Bi(n)}),Ra()}}function OL(e,t){var n=St;St|=1;try{return e(t)}finally{St=n,St===mr&&Ra()}}function LL(e,t){var n=St;St&=-2,St|=cE;try{return e(t)}finally{St=n,St===mr&&Ra()}}function Hu(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,k$(n)),It!==null)for(n=It.return;n!==null;){var r=n;switch(r.tag){case 1:r=r.type.childContextTypes,r!=null&&Rm();break;case 3:qf(),Cn(pi),Cn(zr);break;case 5:nE(r);break;case 4:qf();break;case 13:Cn(Pn);break;case 19:Cn(Pn);break;case 10:Zb(r)}n=n.return}Di=e,It=oc(e.current,null),vi=t,vr=Yu,Ay=null,sp=Ss=1073741823,qm=null,lp=0,Xm=!1}function PL(e,t){do{try{if(Qb(),dm.current=Um,Bm)for(var n=rr.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}if(bl=0,Dr=$r=rr=null,Bm=!1,It===null||It.return===null)return vr=Km,Ay=t,It=null;e:{var i=e,a=It.return,l=It,c=t;if(t=vi,l.effectTag|=2048,l.firstEffect=l.lastEffect=null,c!==null&&typeof c=="object"&&typeof c.then=="function"){var p=c;if(!(l.mode&2)){var v=l.alternate;v?(l.updateQueue=v.updateQueue,l.memoizedState=v.memoizedState,l.expirationTime=v.expirationTime):(l.updateQueue=null,l.memoizedState=null)}var m=(Pn.current&1)!==0,x=a;do{var E;if(E=x.tag===13){var C=x.memoizedState;if(C!==null)E=C.dehydrated!==null;else{var I=x.memoizedProps;E=I.fallback===void 0?!1:I.unstable_avoidThisFallback!==!0?!0:!m}}if(E){var j=x.updateQueue;if(j===null){var A=new Set;A.add(p),x.updateQueue=A}else j.add(p);if(!(x.mode&2)){if(x.effectTag|=64,l.effectTag&=-2981,l.tag===1)if(l.alternate===null)l.tag=17;else{var P=Ol(1073741823,null);P.tag=2,Ll(l,P)}l.expirationTime=1073741823;break e}c=void 0,l=t;var M=i.pingCache;if(M===null?(M=i.pingCache=new TD,c=new Set,M.set(p,c)):(c=M.get(p),c===void 0&&(c=new Set,M.set(p,c))),!c.has(l)){c.add(l);var z=ID.bind(null,i,p,l);p.then(z,z)}x.effectTag|=4096,x.expirationTime=t;break e}x=x.return}while(x!==null);c=Error((Ls(l.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+Mb(l))}vr!==fE&&(vr=TL),c=uE(c,l),x=a;do{switch(x.tag){case 3:p=c,x.effectTag|=4096,x.expirationTime=t;var $=EL(x,p,t);oT(x,$);break e;case 1:p=c;var U=x.type,X=x.stateNode;if(!(x.effectTag&64)&&(typeof U.getDerivedStateFromError=="function"||X!==null&&typeof X.componentDidCatch=="function"&&(Pl===null||!Pl.has(X)))){x.effectTag|=4096,x.expirationTime=t;var V=SL(x,p,t);oT(x,V);break e}}x=x.return}while(x!==null)}It=RL(It)}catch(ne){t=ne;continue}break}while(1)}function AL(){var e=Wm.current;return Wm.current=Um,e===null?Um:e}function NL(e,t){e<Ss&&2<e&&(Ss=e),t!==null&&e<sp&&2<e&&(sp=e,qm=t)}function Iy(e){e>lp&&(lp=e)}function OD(){for(;It!==null;)It=IL(It)}function LD(){for(;It!==null&&!hD();)It=IL(It)}function IL(e){var t=ML(e.alternate,e,vi);return e.memoizedProps=e.pendingProps,t===null&&(t=RL(e)),CL.current=null,t}function RL(e){It=e;do{var t=It.alternate;if(e=It.return,It.effectTag&2048){if(t=xD(It),t!==null)return t.effectTag&=2047,t;e!==null&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}else{if(t=wD(t,It,vi),vi===1||It.childExpirationTime!==1){for(var n=0,r=It.child;r!==null;){var i=r.expirationTime,a=r.childExpirationTime;i>n&&(n=i),a>n&&(n=a),r=r.sibling}It.childExpirationTime=n}if(t!==null)return t;e!==null&&!(e.effectTag&2048)&&(e.firstEffect===null&&(e.firstEffect=It.firstEffect),It.lastEffect!==null&&(e.lastEffect!==null&&(e.lastEffect.nextEffect=It.firstEffect),e.lastEffect=It.lastEffect),1<It.effectTag&&(e.lastEffect!==null?e.lastEffect.nextEffect=It:e.firstEffect=It,e.lastEffect=It))}if(t=It.sibling,t!==null)return t;It=e}while(It!==null);return vr===Yu&&(vr=fE),null}function Sx(e){var t=e.expirationTime;return e=e.childExpirationTime,t>e?t:e}function Nu(e){var t=Oy();return Ml(99,PD.bind(null,e,t)),null}function PD(e,t){do rd();while(Wh!==null);if((St&(Fo|Aa))!==mr)throw Error(Ue(327));var n=e.finishedWork,r=e.finishedExpirationTime;if(n===null)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(Ue(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var i=Sx(n);if(e.firstPendingTime=i,r<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:r<=e.firstSuspendedTime&&(e.firstSuspendedTime=r-1),r<=e.lastPingedTime&&(e.lastPingedTime=0),r<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===Di&&(It=Di=null,vi=0),1<n.effectTag?n.lastEffect!==null?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,i!==null){var a=St;St|=Aa,CL.current=null,Iw=om;var l=UC();if(tx(l)){if("selectionStart"in l)var c={start:l.selectionStart,end:l.selectionEnd};else e:{c=(c=l.ownerDocument)&&c.defaultView||window;var p=c.getSelection&&c.getSelection();if(p&&p.rangeCount!==0){c=p.anchorNode;var v=p.anchorOffset,m=p.focusNode;p=p.focusOffset;try{c.nodeType,m.nodeType}catch{c=null;break e}var x=0,E=-1,C=-1,I=0,j=0,A=l,P=null;t:for(;;){for(var M;A!==c||v!==0&&A.nodeType!==3||(E=x+v),A!==m||p!==0&&A.nodeType!==3||(C=x+p),A.nodeType===3&&(x+=A.nodeValue.length),(M=A.firstChild)!==null;)P=A,A=M;for(;;){if(A===l)break t;if(P===c&&++I===v&&(E=x),P===m&&++j===p&&(C=x),(M=A.nextSibling)!==null)break;A=P,P=A.parentNode}A=M}c=E===-1||C===-1?null:{start:E,end:C}}else c=null}c=c||{start:0,end:0}}else c=null;Rw={activeElementDetached:null,focusedElem:l,selectionRange:c},om=!1,ft=i;do try{AD()}catch(he){if(ft===null)throw Error(Ue(330));Zu(ft,he),ft=ft.nextEffect}while(ft!==null);ft=i;do try{for(l=e,c=t;ft!==null;){var z=ft.effectTag;if(z&16&&Jh(ft.stateNode,""),z&128){var $=ft.alternate;if($!==null){var U=$.ref;U!==null&&(typeof U=="function"?U(null):U.current=null)}}switch(z&1038){case 2:CT(ft),ft.effectTag&=-3;break;case 6:CT(ft),ft.effectTag&=-3,zw(ft.alternate,ft);break;case 1024:ft.effectTag&=-1025;break;case 1028:ft.effectTag&=-1025,zw(ft.alternate,ft);break;case 4:zw(ft.alternate,ft);break;case 8:v=ft,bL(l,v,c),xL(v)}ft=ft.nextEffect}}catch(he){if(ft===null)throw Error(Ue(330));Zu(ft,he),ft=ft.nextEffect}while(ft!==null);if(U=Rw,$=UC(),z=U.focusedElem,c=U.selectionRange,$!==z&&z&&z.ownerDocument&&PO(z.ownerDocument.documentElement,z)){for(c!==null&&tx(z)&&($=c.start,U=c.end,U===void 0&&(U=$),"selectionStart"in z?(z.selectionStart=$,z.selectionEnd=Math.min(U,z.value.length)):(U=($=z.ownerDocument||document)&&$.defaultView||window,U.getSelection&&(U=U.getSelection(),v=z.textContent.length,l=Math.min(c.start,v),c=c.end===void 0?l:Math.min(c.end,v),!U.extend&&l>c&&(v=c,c=l,l=v),v=HC(z,l),m=HC(z,c),v&&m&&(U.rangeCount!==1||U.anchorNode!==v.node||U.anchorOffset!==v.offset||U.focusNode!==m.node||U.focusOffset!==m.offset)&&($=$.createRange(),$.setStart(v.node,v.offset),U.removeAllRanges(),l>c?(U.addRange($),U.extend(m.node,m.offset)):($.setEnd(m.node,m.offset),U.addRange($)))))),$=[],U=z;U=U.parentNode;)U.nodeType===1&&$.push({element:U,left:U.scrollLeft,top:U.scrollTop});for(typeof z.focus=="function"&&z.focus(),z=0;z<$.length;z++)U=$[z],U.element.scrollLeft=U.left,U.element.scrollTop=U.top}om=!!Iw,Rw=Iw=null,e.current=n,ft=i;do try{for(z=e;ft!==null;){var X=ft.effectTag;if(X&36&&CD(z,ft.alternate,ft),X&128){$=void 0;var V=ft.ref;if(V!==null){var ne=ft.stateNode;switch(ft.tag){case 5:$=ne;break;default:$=ne}typeof V=="function"?V($):V.current=$}}ft=ft.nextEffect}}catch(he){if(ft===null)throw Error(Ue(330));Zu(ft,he),ft=ft.nextEffect}while(ft!==null);ft=null,pD(),St=a}else e.current=n;if(Ym)Ym=!1,Wh=e,Ih=t;else for(ft=i;ft!==null;)t=ft.nextEffect,ft.nextEffect=null,ft=t;if(t=e.firstPendingTime,t===0&&(Pl=null),t===1073741823?e===bx?Kh++:(Kh=0,bx=e):Kh=0,typeof Cx=="function"&&Cx(n.stateNode,r),Bi(e),Vm)throw Vm=!1,e=xx,xx=null,e;return(St&cE)!==mr||Ra(),null}function AD(){for(;ft!==null;){var e=ft.effectTag;e&256&&SD(ft.alternate,ft),!(e&512)||Ym||(Ym=!0,eL(97,function(){return rd(),null})),ft=ft.nextEffect}}function rd(){if(Ih!==90){var e=97<Ih?97:Ih;return Ih=90,Ml(e,ND)}}function ND(){if(Wh===null)return!1;var e=Wh;if(Wh=null,(St&(Fo|Aa))!==mr)throw Error(Ue(331));var t=St;for(St|=Aa,e=e.current.firstEffect;e!==null;){try{var n=e;if(n.effectTag&512)switch(n.tag){case 0:case 11:case 15:case 22:yL(5,n),wL(5,n)}}catch(r){if(e===null)throw Error(Ue(330));Zu(e,r)}n=e.nextEffect,e.nextEffect=null,e=n}return St=t,Ra(),!0}function kT(e,t,n){t=uE(n,t),t=EL(e,t,1073741823),Ll(e,t),e=Ny(e,1073741823),e!==null&&Bi(e)}function Zu(e,t){if(e.tag===3)kT(e,e,t);else for(var n=e.return;n!==null;){if(n.tag===3){kT(n,e,t);break}else if(n.tag===1){var r=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Pl===null||!Pl.has(r))){e=uE(t,e),e=SL(n,e,1073741823),Ll(n,e),n=Ny(n,1073741823),n!==null&&Bi(n);break}}n=n.return}}function ID(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),Di===e&&vi===n?vr===Py||vr===Gm&&Ss===1073741823&&lo()-dE<kL?Hu(e,vi):Xm=!0:FL(e,n)&&(t=e.lastPingedTime,t!==0&&t<n||(e.lastPingedTime=n,Bi(e)))}function RD(e,t){var n=e.stateNode;n!==null&&n.delete(t),t=0,t===0&&(t=Oa(),t=Qu(t,e,null)),e=Ny(e,t),e!==null&&Bi(e)}var ML;ML=function(e,t,n){var r=t.expirationTime;if(e!==null){var i=t.pendingProps;if(e.memoizedProps!==i||pi.current)Ca=!0;else{if(r<n){switch(Ca=!1,t.tag){case 3:mT(t),$w();break;case 5:if(uT(t),t.mode&4&&n!==1&&i.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:gi(t.type)&&um(t);break;case 4:cx(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value,i=t.type._context,Bn(Mm,i._currentValue),i._currentValue=r;break;case 13:if(t.memoizedState!==null)return r=t.child.childExpirationTime,r!==0&&r>=n?yT(e,t,n):(Bn(Pn,Pn.current&1),t=Ts(e,t,n),t!==null?t.sibling:null);Bn(Pn,Pn.current&1);break;case 19:if(r=t.childExpirationTime>=n,e.effectTag&64){if(r)return xT(e,t,n);t.effectTag|=64}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null),Bn(Pn,Pn.current),!r)return null}return Ts(e,t,n)}Ca=!1}}else Ca=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,e!==null&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=Kf(t,zr.current),jf(t,n),i=oE(null,t,r,e,i,n),t.effectTag|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,gi(r)){var a=!0;um(t)}else a=!1;t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Jb(t);var l=r.getDerivedStateFromProps;typeof l=="function"&&$m(t,r,l,e),i.updater=Ly,t.stateNode=i,i._reactInternalFiber=t,ux(t,r,e,n),t=gx(null,t,r,!0,a,n)}else t.tag=0,Mi(null,t,i,n),t=t.child;return t;case 16:e:{if(i=t.elementType,e!==null&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,u$(i),i._status!==1)throw i._result;switch(i=i._result,t.type=i,a=t.tag=jD(i),e=Ao(i,e),a){case 0:t=px(null,t,i,e,n);break e;case 1:t=vT(null,t,i,e,n);break e;case 11:t=pT(null,t,i,e,n);break e;case 14:t=gT(null,t,i,Ao(i.type,e),r,n);break e}throw Error(Ue(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ao(r,i),px(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ao(r,i),vT(e,t,r,i,n);case 3:if(mT(t),r=t.updateQueue,e===null||r===null)throw Error(Ue(282));if(r=t.pendingProps,i=t.memoizedState,i=i!==null?i.element:null,eE(e,t),ip(t,r,null,n),r=t.memoizedState.element,r===i)$w(),t=Ts(e,t,n);else{if((i=t.stateNode.hydrate)&&(El=Ff(t.stateNode.containerInfo.firstChild),Cs=t,i=Vu=!0),i)for(n=tE(t,null,r,n),t.child=n;n;)n.effectTag=n.effectTag&-3|1024,n=n.sibling;else Mi(e,t,r,n),$w();t=t.child}return t;case 5:return uT(t),e===null&&hx(t),r=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,l=i.children,nx(r,i)?l=null:a!==null&&nx(r,a)&&(t.effectTag|=16),pL(e,t),t.mode&4&&n!==1&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Mi(e,t,l,n),t=t.child),t;case 6:return e===null&&hx(t),null;case 13:return yT(e,t,n);case 4:return cx(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Gf(t,null,r,n):Mi(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ao(r,i),pT(e,t,r,i,n);case 7:return Mi(e,t,t.pendingProps,n),t.child;case 8:return Mi(e,t,t.pendingProps.children,n),t.child;case 12:return Mi(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,l=t.memoizedProps,a=i.value;var c=t.type._context;if(Bn(Mm,c._currentValue),c._currentValue=a,l!==null)if(c=l.value,a=rc(c,a)?0:(typeof r._calculateChangedBits=="function"?r._calculateChangedBits(c,a):1073741823)|0,a===0){if(l.children===i.children&&!pi.current){t=Ts(e,t,n);break e}}else for(c=t.child,c!==null&&(c.return=t);c!==null;){var p=c.dependencies;if(p!==null){l=c.child;for(var v=p.firstContext;v!==null;){if(v.context===r&&v.observedBits&a){c.tag===1&&(v=Ol(n,null),v.tag=2,Ll(c,v)),c.expirationTime<n&&(c.expirationTime=n),v=c.alternate,v!==null&&v.expirationTime<n&&(v.expirationTime=n),nL(c.return,n),p.expirationTime<n&&(p.expirationTime=n);break}v=v.next}}else l=c.tag===10&&c.type===t.type?null:c.child;if(l!==null)l.return=c;else for(l=c;l!==null;){if(l===t){l=null;break}if(c=l.sibling,c!==null){c.return=l.return,l=c;break}l=l.return}c=l}Mi(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,a=t.pendingProps,r=a.children,jf(t,n),i=fo(i,a.unstable_observedBits),r=r(i),t.effectTag|=1,Mi(e,t,r,n),t.child;case 14:return i=t.type,a=Ao(i,t.pendingProps),a=Ao(i.type,a),gT(e,t,i,a,r,n);case 15:return hL(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ao(r,i),e!==null&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,gi(r)?(e=!0,um(t)):e=!1,jf(t,n),iL(t,r,i),ux(t,r,i,n),gx(null,t,r,!0,e,n);case 19:return xT(e,t,n)}throw Error(Ue(156,t.tag))};var Cx=null,Tx=null;function MD(e){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);Cx=function(r){try{t.onCommitFiberRoot(n,r,void 0,(r.current.effectTag&64)===64)}catch{}},Tx=function(r){try{t.onCommitFiberUnmount(n,r)}catch{}}}catch{}return!0}function FD(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Ta(e,t,n,r){return new FD(e,t,n,r)}function hE(e){return e=e.prototype,!(!e||!e.isReactComponent)}function jD(e){if(typeof e=="function")return hE(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ib)return 11;if(e===Rb)return 14}return 2}function oc(e,t){var n=e.alternate;return n===null?(n=Ta(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function gm(e,t,n,r,i,a){var l=2;if(r=e,typeof e=="function")hE(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case Fu:return Sl(n.children,i,a,t);case l$:l=8,i|=7;break;case eO:l=8,i|=1;break;case nm:return e=Ta(12,n,t,i|8),e.elementType=nm,e.type=nm,e.expirationTime=a,e;case rm:return e=Ta(13,n,t,i),e.type=rm,e.elementType=rm,e.expirationTime=a,e;case z1:return e=Ta(19,n,t,i),e.elementType=z1,e.expirationTime=a,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case tO:l=10;break e;case nO:l=9;break e;case Ib:l=11;break e;case Rb:l=14;break e;case rO:l=16,r=null;break e;case iO:l=22;break e}throw Error(Ue(130,e==null?e:typeof e,""))}return t=Ta(l,n,t,i),t.elementType=e,t.type=r,t.expirationTime=a,t}function Sl(e,t,n,r){return e=Ta(7,e,r,t),e.expirationTime=n,e}function Hw(e,t,n){return e=Ta(6,e,null,t),e.expirationTime=n,e}function Uw(e,t,n){return t=Ta(4,e.children!==null?e.children:[],e.key,t),t.expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $D(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function FL(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,n!==0&&n>=t&&e<=t}function Uu(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(r>t||n===0)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function jL(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;n!==0&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function kx(e,t){var n=e.lastExpiredTime;(n===0||n>t)&&(e.lastExpiredTime=t)}function Qm(e,t,n,r){var i=t.current,a=Oa(),l=Uh.suspense;a=Qu(a,i,l);e:if(n){n=n._reactInternalFiber;t:{if(uc(n)!==n||n.tag!==1)throw Error(Ue(170));var c=n;do{switch(c.tag){case 3:c=c.stateNode.context;break t;case 1:if(gi(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break t}}c=c.return}while(c!==null);throw Error(Ue(171))}if(n.tag===1){var p=n.type;if(gi(p)){n=GO(n,p,c);break e}}n=c}else n=Rl;return t.context===null?t.context=n:t.pendingContext=n,t=Ol(a,l),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),Ll(i,t),Al(i,a),a}function Ww(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function _T(e,t){e=e.memoizedState,e!==null&&e.dehydrated!==null&&e.retryTime<t&&(e.retryTime=t)}function pE(e,t){_T(e,t),(e=e.alternate)&&_T(e,t)}function gE(e,t,n){n=n!=null&&n.hydrate===!0;var r=new $D(e,t,n),i=Ta(3,null,null,t===2?7:t===1?3:0);r.current=i,i.stateNode=r,Jb(i),e[Ip]=r.current,n&&t!==0&&g$(e,e.nodeType===9?e:e.ownerDocument),this._internalRoot=r}gE.prototype.render=function(e){Qm(e,this._internalRoot,null,null)};gE.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Qm(null,e,null,function(){t[Ip]=null})};function Dp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function DD(e,t){if(t||(t=e?e.nodeType===9?e.documentElement:e.firstChild:null,t=!(!t||t.nodeType!==1||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new gE(e,0,t?{hydrate:!0}:void 0)}function Ry(e,t,n,r,i){var a=n._reactRootContainer;if(a){var l=a._internalRoot;if(typeof i=="function"){var c=i;i=function(){var v=Ww(l);c.call(v)}}Qm(t,l,e,i)}else{if(a=n._reactRootContainer=DD(n,r),l=a._internalRoot,typeof i=="function"){var p=i;i=function(){var v=Ww(l);p.call(v)}}LL(function(){Qm(t,l,e,i)})}return Ww(l)}function BD(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Tf,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}SO=function(e){if(e.tag===13){var t=fm(Oa(),150,100);Al(e,t),pE(e,t)}};Db=function(e){e.tag===13&&(Al(e,3),pE(e,3))};CO=function(e){if(e.tag===13){var t=Oa();t=Qu(t,e,null),Al(e,t),pE(e,t)}};B1=function(e,t,n){switch(t){case"input":if(U1(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Gb(r);if(!i)throw Error(Ue(90));aO(r),U1(r,i)}}}break;case"textarea":lO(e,n);break;case"select":t=n.value,t!=null&&Mf(e,!!n.multiple,t,!1)}};_b=OL;Q_=function(e,t,n,r,i){var a=St;St|=4;try{return Ml(98,e.bind(null,t,n,r,i))}finally{St=a,St===mr&&Ra()}};Ob=function(){(St&(1|Fo|Aa))===mr&&(_D(),rd())};Z_=function(e,t){var n=St;St|=2;try{return e(t)}finally{St=n,St===mr&&Ra()}};function $L(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Dp(t))throw Error(Ue(200));return BD(e,t,null,n)}var zD={Events:[Mp,nc,Gb,X_,D1,Wf,function(e){jb(e,O$)},V_,Y_,Ty,Cy,rd,{current:!1}]};(function(e){var t=e.findFiberByHostInstance;return MD(Jr({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Mo.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=yO(n),n===null?null:n.stateNode},findFiberByHostInstance:function(n){return t?t(n):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))})({findFiberByHostInstance:Rp,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"});mo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zD;mo.createPortal=$L;mo.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternalFiber;if(t===void 0)throw typeof e.render=="function"?Error(Ue(188)):Error(Ue(268,Object.keys(e)));return e=yO(t),e=e===null?null:e.stateNode,e};mo.flushSync=function(e,t){if((St&(Fo|Aa))!==mr)throw Error(Ue(187));var n=St;St|=1;try{return Ml(99,e.bind(null,t))}finally{St=n,Ra()}};mo.hydrate=function(e,t,n){if(!Dp(t))throw Error(Ue(200));return Ry(null,e,t,!0,n)};mo.render=function(e,t,n){if(!Dp(t))throw Error(Ue(200));return Ry(null,e,t,!1,n)};mo.unmountComponentAtNode=function(e){if(!Dp(e))throw Error(Ue(40));return e._reactRootContainer?(LL(function(){Ry(null,null,e,!1,function(){e._reactRootContainer=null,e[Ip]=null})}),!0):!1};mo.unstable_batchedUpdates=OL;mo.unstable_createPortal=function(e,t){return $L(e,t,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};mo.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Dp(n))throw Error(Ue(200));if(e==null||e._reactInternalFiber===void 0)throw Error(Ue(38));return Ry(e,t,n,!1,r)};mo.version="16.14.0";function DL(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(DL)}catch(e){console.error(e)}}DL(),H_.exports=mo;var Bp=H_.exports;const Kw=Tn(Bp);function lt(){return lt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lt.apply(this,arguments)}function dt(e,t){if(e==null)return{};var n,r,i=function(l,c){if(l==null)return{};var p,v,m={},x=Object.keys(l);for(v=0;v<x.length;v++)p=x[v],c.indexOf(p)>=0||(m[p]=l[p]);return m}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var HD=["size","color","stroke"];function UD(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=dt(e,HD);return O.createElement("svg",lt({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-alert-octagon",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("path",{d:"M8.7 3h6.6c.3 0 .5 .1 .7 .3l4.7 4.7c.2 .2 .3 .4 .3 .7v6.6c0 .3 -.1 .5 -.3 .7l-4.7 4.7c-.2 .2 -.4 .3 -.7 .3h-6.6c-.3 0 -.5 -.1 -.7 -.3l-4.7 -4.7c-.2 -.2 -.3 -.4 -.3 -.7v-6.6c0 -.3 .1 -.5 .3 -.7l4.7 -4.7c.2 -.2 .4 -.3 .7 -.3z"}),O.createElement("line",{x1:12,y1:8,x2:12,y2:12}),O.createElement("line",{x1:12,y1:16,x2:12.01,y2:16}))}var WD=["size","color","stroke"];function KD(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=dt(e,WD);return O.createElement("svg",lt({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-alert-triangle",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("path",{d:"M12 9v2m0 4v.01"}),O.createElement("path",{d:"M5 19h14a2 2 0 0 0 1.84 -2.75l-7.1 -12.25a2 2 0 0 0 -3.5 0l-7.1 12.25a2 2 0 0 0 1.75 2.75"}))}var GD=["size","color","stroke"];function BL(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=dt(e,GD);return O.createElement("svg",lt({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-arrow-back",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("path",{d:"M9 11l-4 4l4 4m-4 -4h11a4 4 0 0 0 0 -8h-1"}))}var qD=["size","color","stroke"];function XD(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=dt(e,qD);return O.createElement("svg",lt({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-arrow-bar-to-right",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("line",{x1:14,y1:12,x2:4,y2:12}),O.createElement("line",{x1:14,y1:12,x2:10,y2:16}),O.createElement("line",{x1:14,y1:12,x2:10,y2:8}),O.createElement("line",{x1:20,y1:4,x2:20,y2:20}))}var VD=["size","color","stroke"];function zL(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=dt(e,VD);return O.createElement("svg",lt({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-arrow-forward",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("path",{d:"M15 11l4 4l-4 4m4 -4h-11a4 4 0 0 1 0 -8h1"}))}var YD=["size","color","stroke"];function QD(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=dt(e,YD);return O.createElement("svg",lt({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-arrow-left",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("line",{x1:5,y1:12,x2:19,y2:12}),O.createElement("line",{x1:5,y1:12,x2:11,y2:18}),O.createElement("line",{x1:5,y1:12,x2:11,y2:6}))}var ZD=["size","color","stroke"];function JD(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=dt(e,ZD);return O.createElement("svg",lt({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-arrow-right",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("line",{x1:5,y1:12,x2:19,y2:12}),O.createElement("line",{x1:13,y1:18,x2:19,y2:12}),O.createElement("line",{x1:13,y1:6,x2:19,y2:12}))}var e3=["size","color","stroke"];function t3(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=dt(e,e3);return O.createElement("svg",lt({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-arrows-diagonal-minimize",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("path",{d:"M6 10h4v-4"}),O.createElement("path",{d:"M4 4l6 6"}),O.createElement("path",{d:"M18 14h-4v4"}),O.createElement("path",{d:"M14 14l6 6"}))}var n3=["size","color","stroke"];function r3(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=dt(e,n3);return O.createElement("svg",lt({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-arrows-diagonal",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("polyline",{points:"16 4 20 4 20 8"}),O.createElement("line",{x1:14,y1:10,x2:20,y2:4}),O.createElement("polyline",{points:"8 20 4 20 4 16"}),O.createElement("line",{x1:4,y1:20,x2:10,y2:14}))}var i3=["size","color","stroke"];function o3(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=dt(e,i3);return O.createElement("svg",lt({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-arrows-sort",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("path",{d:"M3 9l4 -4l4 4m-4 -4v14"}),O.createElement("path",{d:"M21 15l-4 4l-4 -4m4 4v-14"}))}var a3=["size","color","stroke"];function s3(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=dt(e,a3);return O.createElement("svg",lt({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-award",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("circle",{cx:12,cy:9,r:6}),O.createElement("path",{d:"M12.002 15.003l3.4 5.89l1.598 -3.233l3.598 .232l-3.4 -5.889"}),O.createElement("path",{d:"M6.802 12.003l-3.4 5.89l3.598 -.233l1.598 3.232l3.4 -5.889"}))}var l3=["size","color","stroke"];function u3(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=dt(e,l3);return O.createElement("svg",lt({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-braces",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("path",{d:"M7 4a2 2 0 0 0 -2 2v3a2 3 0 0 1 -2 3a2 3 0 0 1 2 3v3a2 2 0 0 0 2 2"}),O.createElement("path",{d:"M17 4a2 2 0 0 1 2 2v3a2 3 0 0 0 2 3a2 3 0 0 0 -2 3v3a2 2 0 0 1 -2 2"}))}var c3=["size","color","stroke"];function f3(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=dt(e,c3);return O.createElement("svg",lt({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-bug",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("path",{d:"M9 9v-1a3 3 0 0 1 6 0v1"}),O.createElement("path",{d:"M8 9h8a6 6 0 0 1 1 3v3a5 5 0 0 1 -10 0v-3a6 6 0 0 1 1 -3"}),O.createElement("line",{x1:3,y1:13,x2:7,y2:13}),O.createElement("line",{x1:17,y1:13,x2:21,y2:13}),O.createElement("line",{x1:12,y1:20,x2:12,y2:14}),O.createElement("line",{x1:4,y1:19,x2:7.35,y2:17}),O.createElement("line",{x1:20,y1:19,x2:16.65,y2:17}),O.createElement("line",{x1:4,y1:7,x2:7.75,y2:9.4}),O.createElement("line",{x1:20,y1:7,x2:16.25,y2:9.4}))}var d3=["size","color","stroke"];function vE(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=dt(e,d3);return O.createElement("svg",lt({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-check",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("path",{d:"M5 12l5 5l10 -10"}))}var h3=["size","color","stroke"];function HL(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=dt(e,h3);return O.createElement("svg",lt({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-chevron-down",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("polyline",{points:"6 9 12 15 18 9"}))}var p3=["size","color","stroke"];function g3(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=dt(e,p3);return O.createElement("svg",lt({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-chevron-up",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("polyline",{points:"6 15 12 9 18 15"}))}var v3=["size","color","stroke"];function m3(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=dt(e,v3);return O.createElement("svg",lt({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-chevrons-right",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("polyline",{points:"7 7 12 12 7 17"}),O.createElement("polyline",{points:"13 7 18 12 13 17"}))}var y3=["size","color","stroke"];function w3(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=dt(e,y3);return O.createElement("svg",lt({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-circle",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("circle",{cx:12,cy:12,r:9}))}var x3=["size","color","stroke"];function b3(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=dt(e,x3);return O.createElement("svg",lt({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-code",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("polyline",{points:"7 8 3 12 7 16"}),O.createElement("polyline",{points:"17 8 21 12 17 16"}),O.createElement("line",{x1:14,y1:4,x2:10,y2:20}))}var E3=["size","color","stroke"];function S3(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=dt(e,E3);return O.createElement("svg",lt({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-copy",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("rect",{x:8,y:8,width:12,height:12,rx:2}),O.createElement("path",{d:"M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"}))}var C3=["size","color","stroke"];function OT(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=dt(e,C3);return O.createElement("svg",lt({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-device-floppy",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("path",{d:"M6 4h10l4 4v10a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2"}),O.createElement("circle",{cx:12,cy:14,r:2}),O.createElement("polyline",{points:"14 4 14 8 8 8 8 4"}))}var T3=["size","color","stroke"];function UL(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=dt(e,T3);return O.createElement("svg",lt({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-edit",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("path",{d:"M7 7h-1a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-1"}),O.createElement("path",{d:"M20.385 6.585a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3l8.385 -8.415z"}),O.createElement("path",{d:"M16 5l3 3"}))}var k3=["size","color","stroke"];function _3(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=dt(e,k3);return O.createElement("svg",lt({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-eye",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("circle",{cx:12,cy:12,r:2}),O.createElement("path",{d:"M22 12c-2.667 4.667 -6 7 -10 7s-7.333 -2.333 -10 -7c2.667 -4.667 6 -7 10 -7s7.333 2.333 10 7"}))}var O3=["size","color","stroke"];function L3(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=dt(e,O3);return O.createElement("svg",lt({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-eyeglass",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("path",{d:"M8 4h-2l-3 10"}),O.createElement("path",{d:"M16 4h2l3 10"}),O.createElement("line",{x1:10,y1:16,x2:14,y2:16}),O.createElement("path",{d:"M21 16.5a3.5 3.5 0 0 1 -7 0v-2.5h7v2.5"}),O.createElement("path",{d:"M10 16.5a3.5 3.5 0 0 1 -7 0v-2.5h7v2.5"}))}var P3=["size","color","stroke"];function A3(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=dt(e,P3);return O.createElement("svg",lt({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-file-code",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("path",{d:"M14 3v4a1 1 0 0 0 1 1h4"}),O.createElement("path",{d:"M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z"}),O.createElement("path",{d:"M10 13l-1 2l1 2"}),O.createElement("path",{d:"M14 13l1 2l-1 2"}))}var N3=["size","color","stroke"];function WL(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=dt(e,N3);return O.createElement("svg",lt({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-file-import",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("path",{d:"M14 3v4a1 1 0 0 0 1 1h4"}),O.createElement("path",{d:"M5 13v-8a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2h-5.5m-9.5 -2h7m-3 -3l3 3l-3 3"}))}var I3=["size","color","stroke"];function R3(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=dt(e,I3);return O.createElement("svg",lt({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-file-text",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("path",{d:"M14 3v4a1 1 0 0 0 1 1h4"}),O.createElement("path",{d:"M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z"}),O.createElement("line",{x1:9,y1:9,x2:10,y2:9}),O.createElement("line",{x1:9,y1:13,x2:15,y2:13}),O.createElement("line",{x1:9,y1:17,x2:15,y2:17}))}var M3=["size","color","stroke"];function F3(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=dt(e,M3);return O.createElement("svg",lt({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-focus-2",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("circle",{cx:12,cy:12,r:.5,fill:"currentColor"}),O.createElement("circle",{cx:12,cy:12,r:7}),O.createElement("line",{x1:12,y1:3,x2:12,y2:5}),O.createElement("line",{x1:3,y1:12,x2:5,y2:12}),O.createElement("line",{x1:12,y1:19,x2:12,y2:21}),O.createElement("line",{x1:19,y1:12,x2:21,y2:12}))}var j3=["size","color","stroke"];function $3(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=dt(e,j3);return O.createElement("svg",lt({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-grid-dots",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("circle",{cx:5,cy:5,r:1}),O.createElement("circle",{cx:12,cy:5,r:1}),O.createElement("circle",{cx:19,cy:5,r:1}),O.createElement("circle",{cx:5,cy:12,r:1}),O.createElement("circle",{cx:12,cy:12,r:1}),O.createElement("circle",{cx:19,cy:12,r:1}),O.createElement("circle",{cx:5,cy:19,r:1}),O.createElement("circle",{cx:12,cy:19,r:1}),O.createElement("circle",{cx:19,cy:19,r:1}))}var D3=["size","color","stroke"];function B3(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=dt(e,D3);return O.createElement("svg",lt({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-hash",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("line",{x1:5,y1:9,x2:19,y2:9}),O.createElement("line",{x1:5,y1:15,x2:19,y2:15}),O.createElement("line",{x1:11,y1:4,x2:7,y2:20}),O.createElement("line",{x1:17,y1:4,x2:13,y2:20}))}var z3=["size","color","stroke"];function KL(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=dt(e,z3);return O.createElement("svg",lt({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-heart",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("path",{d:"M19.5 12.572l-7.5 7.428l-7.5 -7.428m0 0a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572"}))}var H3=["size","color","stroke"];function GL(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=dt(e,H3);return O.createElement("svg",lt({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-help",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("circle",{cx:12,cy:12,r:9}),O.createElement("line",{x1:12,y1:17,x2:12,y2:17.01}),O.createElement("path",{d:"M12 13.5a1.5 1.5 0 0 1 1 -1.5a2.6 2.6 0 1 0 -3 -4"}))}var U3=["size","color","stroke"];function W3(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=dt(e,U3);return O.createElement("svg",lt({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-indent-decrease",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("line",{x1:20,y1:6,x2:13,y2:6}),O.createElement("line",{x1:20,y1:12,x2:11,y2:12}),O.createElement("line",{x1:20,y1:18,x2:13,y2:18}),O.createElement("path",{d:"M8 8l-4 4l4 4"}))}var K3=["size","color","stroke"];function G3(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=dt(e,K3);return O.createElement("svg",lt({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-indent-increase",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("line",{x1:20,y1:6,x2:9,y2:6}),O.createElement("line",{x1:20,y1:12,x2:13,y2:12}),O.createElement("line",{x1:20,y1:18,x2:9,y2:18}),O.createElement("path",{d:"M4 8l4 4l-4 4"}))}var q3=["size","color","stroke"];function _x(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=dt(e,q3);return O.createElement("svg",lt({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-info-circle",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("circle",{cx:12,cy:12,r:9}),O.createElement("line",{x1:12,y1:8,x2:12.01,y2:8}),O.createElement("polyline",{points:"11 12 12 12 12 16 13 16"}))}var X3=["size","color","stroke"];function V3(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=dt(e,X3);return O.createElement("svg",lt({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-layout-grid",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("rect",{x:4,y:4,width:6,height:6,rx:1}),O.createElement("rect",{x:14,y:4,width:6,height:6,rx:1}),O.createElement("rect",{x:4,y:14,width:6,height:6,rx:1}),O.createElement("rect",{x:14,y:14,width:6,height:6,rx:1}))}var Y3=["size","color","stroke"];function Q3(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=dt(e,Y3);return O.createElement("svg",lt({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-marquee",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("path",{d:"M4 6a2 2 0 0 1 2 -2m3 0h1.5m3 0h1.5m3 0a2 2 0 0 1 2 2m0 3v1.5m0 3v1.5m0 3a2 2 0 0 1 -2 2m-3 0h-1.5m-3 0h-1.5m-3 0a2 2 0 0 1 -2 -2m0 -3v-1.5m0 -3v-1.5m0 -3"}))}var Z3=["size","color","stroke"];function J3(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=dt(e,Z3);return O.createElement("svg",lt({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-mood-smile",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("circle",{cx:12,cy:12,r:9}),O.createElement("line",{x1:9,y1:10,x2:9.01,y2:10}),O.createElement("line",{x1:15,y1:10,x2:15.01,y2:10}),O.createElement("path",{d:"M9.5 15a3.5 3.5 0 0 0 5 0"}))}var e4=["size","color","stroke"];function t4(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=dt(e,e4);return O.createElement("svg",lt({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-package",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("polyline",{points:"12 3 20 7.5 20 16.5 12 21 4 16.5 4 7.5 12 3"}),O.createElement("line",{x1:12,y1:12,x2:20,y2:7.5}),O.createElement("line",{x1:12,y1:12,x2:12,y2:21}),O.createElement("line",{x1:12,y1:12,x2:4,y2:7.5}),O.createElement("line",{x1:16,y1:5.25,x2:8,y2:9.75}))}var n4=["size","color","stroke"];function r4(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=dt(e,n4);return O.createElement("svg",lt({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-player-play",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("path",{d:"M7 4v16l13 -8z"}))}var i4=["size","color","stroke"];function Xf(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=dt(e,i4);return O.createElement("svg",lt({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-plus",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("line",{x1:12,y1:5,x2:12,y2:19}),O.createElement("line",{x1:5,y1:12,x2:19,y2:12}))}var o4=["size","color","stroke"];function a4(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=dt(e,o4);return O.createElement("svg",lt({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-puzzle",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("path",{d:"M4 7h3a1 1 0 0 0 1 -1v-1a2 2 0 0 1 4 0v1a1 1 0 0 0 1 1h3a1 1 0 0 1 1 1v3a1 1 0 0 0 1 1h1a2 2 0 0 1 0 4h-1a1 1 0 0 0 -1 1v3a1 1 0 0 1 -1 1h-3a1 1 0 0 1 -1 -1v-1a2 2 0 0 0 -4 0v1a1 1 0 0 1 -1 1h-3a1 1 0 0 1 -1 -1v-3a1 1 0 0 1 1 -1h1a2 2 0 0 0 0 -4h-1a1 1 0 0 1 -1 -1v-3a1 1 0 0 1 1 -1"}))}var s4=["size","color","stroke"];function l4(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=dt(e,s4);return O.createElement("svg",lt({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-replace",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("rect",{x:3,y:3,width:6,height:6,rx:1}),O.createElement("rect",{x:15,y:15,width:6,height:6,rx:1}),O.createElement("path",{d:"M21 11v-3a2 2 0 0 0 -2 -2h-6l3 3m0 -6l-3 3"}),O.createElement("path",{d:"M3 13v3a2 2 0 0 0 2 2h6l-3 -3m0 6l3 -3"}))}var u4=["size","color","stroke"];function c4(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=dt(e,u4);return O.createElement("svg",lt({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-resize",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("path",{d:"M4 11v8a1 1 0 0 0 1 1h8m-9 -14v-1a1 1 0 0 1 1 -1h1m5 0h2m5 0h1a1 1 0 0 1 1 1v1m0 5v2m0 5v1a1 1 0 0 1 -1 1h-1"}),O.createElement("path",{d:"M4 12h7a1 1 0 0 1 1 1v7"}))}var f4=["size","color","stroke"];function d4(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=dt(e,f4);return O.createElement("svg",lt({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-rocket",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("path",{d:"M4 13a8 8 0 0 1 7 7a6 6 0 0 0 3 -5a9 9 0 0 0 6 -8a3 3 0 0 0 -3 -3a9 9 0 0 0 -8 6a6 6 0 0 0 -5 3"}),O.createElement("path",{d:"M7 14a6 6 0 0 0 -3 6a6 6 0 0 0 6 -3"}),O.createElement("circle",{cx:15,cy:9,r:1}))}var h4=["size","color","stroke"];function p4(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=dt(e,h4);return O.createElement("svg",lt({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-search",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("circle",{cx:10,cy:10,r:7}),O.createElement("line",{x1:21,y1:21,x2:15,y2:15}))}var g4=["size","color","stroke"];function v4(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=dt(e,g4);return O.createElement("svg",lt({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-settings",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("path",{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z"}),O.createElement("circle",{cx:12,cy:12,r:3}))}var m4=["size","color","stroke"];function LT(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=dt(e,m4);return O.createElement("svg",lt({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-space",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("path",{d:"M4 10v3a1 1 0 0 0 1 1h14a1 1 0 0 0 1 -1v-3"}))}var y4=["size","color","stroke"];function w4(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=dt(e,y4);return O.createElement("svg",lt({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-square-check",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("rect",{x:4,y:4,width:16,height:16,rx:2}),O.createElement("path",{d:"M9 12l2 2l4 -4"}))}var x4=["size","color","stroke"];function qL(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=dt(e,x4);return O.createElement("svg",lt({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-square",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("rect",{x:4,y:4,width:16,height:16,rx:2}))}var b4=["size","color","stroke"];function E4(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=dt(e,b4);return O.createElement("svg",lt({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-star",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("path",{d:"M12 17.75l-6.172 3.245l1.179 -6.873l-5 -4.867l6.9 -1l3.086 -6.253l3.086 6.253l6.9 1l-5 4.867l1.179 6.873z"}))}var S4=["size","color","stroke"];function XL(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=dt(e,S4);return O.createElement("svg",lt({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-tag",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("circle",{cx:8.5,cy:8.5,r:1,fill:"currentColor"}),O.createElement("path",{d:"M4 7v3.859c0 .537 .213 1.052 .593 1.432l8.116 8.116a2.025 2.025 0 0 0 2.864 0l4.834 -4.834a2.025 2.025 0 0 0 0 -2.864l-8.117 -8.116a2.025 2.025 0 0 0 -1.431 -.593h-3.859a3 3 0 0 0 -3 3z"}))}var C4=["size","color","stroke"];function VL(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=dt(e,C4);return O.createElement("svg",lt({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-tags",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("path",{d:"M7.859 6h-2.834a2.025 2.025 0 0 0 -2.025 2.025v2.834c0 .537 .213 1.052 .593 1.432l6.116 6.116a2.025 2.025 0 0 0 2.864 0l2.834 -2.834a2.025 2.025 0 0 0 0 -2.864l-6.117 -6.116a2.025 2.025 0 0 0 -1.431 -.593z"}),O.createElement("path",{d:"M17.573 18.407l2.834 -2.834a2.025 2.025 0 0 0 0 -2.864l-7.117 -7.116"}),O.createElement("path",{d:"M6 9h-.01"}))}var T4=["size","color","stroke"];function YL(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=dt(e,T4);return O.createElement("svg",lt({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-tool",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("path",{d:"M7 10h3v-3l-3.5 -3.5a6 6 0 0 1 8 8l6 6a2 2 0 0 1 -3 3l-6 -6a6 6 0 0 1 -8 -8l3.5 3.5"}))}var k4=["size","color","stroke"];function Zm(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=dt(e,k4);return O.createElement("svg",lt({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-trash",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("line",{x1:4,y1:7,x2:20,y2:7}),O.createElement("line",{x1:10,y1:11,x2:10,y2:17}),O.createElement("line",{x1:14,y1:11,x2:14,y2:17}),O.createElement("path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"}),O.createElement("path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"}))}var _4=["size","color","stroke"];function zp(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=dt(e,_4);return O.createElement("svg",lt({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-writing",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("path",{d:"M20 17v-12c0 -1.121 -.879 -2 -2 -2s-2 .879 -2 2v12l2 2l2 -2z"}),O.createElement("path",{d:"M16 7h4"}),O.createElement("path",{d:"M18 19h-13a2 2 0 1 1 0 -4h4a2 2 0 1 0 0 -4h-3"}))}var O4=["size","color","stroke"];function No(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=dt(e,O4);return O.createElement("svg",lt({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-x",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("line",{x1:18,y1:6,x2:6,y2:18}),O.createElement("line",{x1:6,y1:6,x2:18,y2:18}))}const Hl=({children:e})=>b.jsxs("div",{className:"error-message",children:[b.jsx(UD,{}),b.jsx("div",{className:"message",children:e})]});var L4=function(e){var t,n;function r(a){var l;return(l=e.call(this,a)||this).state={hasError:!1,error:null},l}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.getDerivedStateFromError=function(a){return{hasError:!0,error:a}};var i=r.prototype;return i.componentDidCatch=function(a,l){return this.props.onDidCatch(a,l)},i.render=function(){var a=this.state,l=this.props,c=l.render,p=l.children,v=l.renderError;return a.hasError?v?v({error:a.error}):null:c?c():p||null},r}(O.PureComponent),P4=function(e,t){switch(t.type){case"catch":return{didCatch:!0,error:t.error};case"reset":return{didCatch:!1,error:null};default:return e}};function My(e){var t=O.useReducer(P4,{didCatch:!1,error:null}),n=t[0],r=t[1],i=O.useRef(null);function a(){return p=function(v,m){r({type:"catch",error:v}),e&&e.onDidCatch&&e.onDidCatch(v,m)},function(v){return ht.createElement(L4,{onDidCatch:p,children:v.children,render:v.render,renderError:v.renderError})};var p}var l,c=O.useCallback(function(){i.current=a(),r({type:"reset"})},[]);return{ErrorBoundary:(l=i.current,l!==null?l:(i.current=a(),i.current)),didCatch:n.didCatch,error:n.error,reset:c}}const A4=({children:e})=>{const{ErrorBoundary:t,didCatch:n,error:r}=My();return n?b.jsx("div",{className:"global-error-boundary",children:b.jsxs("div",{children:[b.jsxs(Hl,{children:[b.jsx("p",{children:"Something went wrong and Twine can't continue."}),b.jsx("p",{children:"Please try restarting Twine or reloading the page."}),b.jsxs("p",{children:["If you see this message repeatedly, please"," ",b.jsx("a",{href:"https://twinery.org/2bugs",rel:"noreferrer",target:"_blank",children:"report a bug"}),"."]})]}),b.jsx("p",{children:"Details:"}),b.jsx("pre",{children:r.stack})]})}):b.jsx(t,{children:e})};function cc(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Ro(e){"@babel/helpers - typeof";return Ro=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ro(e)}function N4(e,t){if(Ro(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ro(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function QL(e){var t=N4(e,"string");return Ro(t)==="symbol"?t:String(t)}function mE(e,t,n){return t=QL(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ma(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,QL(r.key),r)}}function Fa(e,t,n){return t&&PT(e.prototype,t),n&&PT(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function AT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function NT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AT(Object(n),!0).forEach(function(r){mE(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Ox={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0},ZL,I4=ht.createContext();function R4(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ox=NT(NT({},Ox),e)}function M4(){return Ox}var F4=function(){function e(){Ma(this,e),this.usedNamespaces={}}return Fa(e,[{key:"addUsedNamespaces",value:function(n){var r=this;n.forEach(function(i){r.usedNamespaces[i]||(r.usedNamespaces[i]=!0)})}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]),e}();function j4(e){ZL=e}function $4(){return ZL}var D4={type:"3rdParty",init:function(t){R4(t.options.react),j4(t)}};function B4(){if(console&&console.warn){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];typeof n[0]=="string"&&(n[0]="react-i18next:: ".concat(n[0])),(e=console).warn.apply(e,n)}}var IT={};function Lx(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];typeof t[0]=="string"&&IT[t[0]]||(typeof t[0]=="string"&&(IT[t[0]]=new Date),B4.apply(void 0,t))}function RT(e,t,n){e.loadNamespaces(t,function(){if(e.isInitialized)n();else{var r=function i(){setTimeout(function(){e.off("initialized",i)},0),n()};e.on("initialized",r)}})}function z4(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!t.languages||!t.languages.length)return Lx("i18n.languages were undefined or empty",t.languages),!0;var r=t.languages[0],i=t.options?t.options.fallbackLng:!1,a=t.languages[t.languages.length-1];if(r.toLowerCase()==="cimode")return!0;var l=function(p,v){var m=t.services.backendConnector.state["".concat(p,"|").concat(v)];return m===-1||m===2};return n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!l(t.isLanguageChangingTo,e)?!1:!!(t.hasResourceBundle(r,e)||!t.services.backendConnector.backend||l(r,e)&&(!i||l(a,e)))}function H4(e){if(Array.isArray(e))return e}function U4(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,l,c=[],p=!0,v=!1;try{if(a=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;p=!1}else for(;!(p=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);p=!0);}catch(m){v=!0,i=m}finally{try{if(!p&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(v)throw i}}return c}}function MT(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function W4(e,t){if(e){if(typeof e=="string")return MT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MT(e,t)}}function K4(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function G4(e,t){return H4(e)||U4(e,t)||W4(e,t)||K4()}function FT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Gw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FT(Object(n),!0).forEach(function(r){mE(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Xe(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.i18n,r=O.useContext(I4)||{},i=r.i18n,a=r.defaultNS,l=n||i||$4();if(l&&!l.reportNamespaces&&(l.reportNamespaces=new F4),!l){Lx("You will need to pass in an i18next instance by using initReactI18next");var c=function(X){return Array.isArray(X)?X[X.length-1]:X},p=[c,{},!1];return p.t=c,p.i18n={},p.ready=!1,p}l.options.react&&l.options.react.wait!==void 0&&Lx("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var v=Gw(Gw(Gw({},M4()),l.options.react),t),m=v.useSuspense,x=e||a||l.options&&l.options.defaultNS;x=typeof x=="string"?[x]:x||["translation"],l.reportNamespaces.addUsedNamespaces&&l.reportNamespaces.addUsedNamespaces(x);var E=(l.isInitialized||l.initializedStoreOnce)&&x.every(function(U){return z4(U,l,v)});function C(){return{t:l.getFixedT(null,v.nsMode==="fallback"?x:x[0])}}var I=O.useState(C()),j=G4(I,2),A=j[0],P=j[1],M=O.useRef(!0);O.useEffect(function(){var U=v.bindI18n,X=v.bindI18nStore;M.current=!0,!E&&!m&&RT(l,x,function(){M.current&&P(C())});function V(){M.current&&P(C())}return U&&l&&l.on(U,V),X&&l&&l.store.on(X,V),function(){M.current=!1,U&&l&&U.split(" ").forEach(function(ne){return l.off(ne,V)}),X&&l&&X.split(" ").forEach(function(ne){return l.store.off(ne,V)})}},[l,x.join()]);var z=O.useRef(!0);O.useEffect(function(){M.current&&!z.current&&P(C()),z.current=!1},[l]);var $=[A.t,l,E];if($.t=A.t,$.i18n=l,$.ready=E,E||!E&&!m)return $;throw new Promise(function(U){RT(l,x,function(){U()})})}var Px={exports:{}};(function(e,t){(function(n,r){var i="0.7.33",a="",l="?",c="function",p="undefined",v="object",m="string",x="major",E="model",C="name",I="type",j="vendor",A="version",P="architecture",M="console",z="mobile",$="tablet",U="smarttv",X="wearable",V="embedded",ne=350,he="Amazon",me="Apple",we="ASUS",ze="BlackBerry",J="Browser",Z="Chrome",q="Edge",Me="Firefox",Ne="Google",_e="Huawei",Se="LG",Le="Microsoft",te="Motorola",ce="Opera",ye="Samsung",re="Sharp",se="Sony",pe="Xiaomi",Ce="Zebra",Ae="Facebook",He=function(Ee,ge){var We={};for(var Lt in Ee)ge[Lt]&&ge[Lt].length%2===0?We[Lt]=ge[Lt].concat(Ee[Lt]):We[Lt]=Ee[Lt];return We},tt=function(Ee){for(var ge={},We=0;We<Ee.length;We++)ge[Ee[We].toUpperCase()]=Ee[We];return ge},Ye=function(Ee,ge){return typeof Ee===m?vt(ge).indexOf(vt(Ee))!==-1:!1},vt=function(Ee){return Ee.toLowerCase()},Bt=function(Ee){return typeof Ee===m?Ee.replace(/[^\d\.]/g,a).split(".")[0]:r},Pt=function(Ee,ge){if(typeof Ee===m)return Ee=Ee.replace(/^\s\s*/,a),typeof ge===p?Ee:Ee.substring(0,ne)},rt=function(Ee,ge){for(var We=0,Lt,B,k,L,K,ie;We<ge.length&&!K;){var ve=ge[We],Te=ge[We+1];for(Lt=B=0;Lt<ve.length&&!K;)if(K=ve[Lt++].exec(Ee),K)for(k=0;k<Te.length;k++)ie=K[++B],L=Te[k],typeof L===v&&L.length>0?L.length===2?typeof L[1]==c?this[L[0]]=L[1].call(this,ie):this[L[0]]=L[1]:L.length===3?typeof L[1]===c&&!(L[1].exec&&L[1].test)?this[L[0]]=ie?L[1].call(this,ie,L[2]):r:this[L[0]]=ie?ie.replace(L[1],L[2]):r:L.length===4&&(this[L[0]]=ie?L[3].call(this,ie.replace(L[1],L[2])):r):this[L]=ie||r;We+=2}},pt=function(Ee,ge){for(var We in ge)if(typeof ge[We]===v&&ge[We].length>0){for(var Lt=0;Lt<ge[We].length;Lt++)if(Ye(ge[We][Lt],Ee))return We===l?r:We}else if(Ye(ge[We],Ee))return We===l?r:We;return Ee},kt={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},Rt={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},$t={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[A,[C,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[A,[C,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[C,A],[/opios[\/ ]+([\w\.]+)/i],[A,[C,ce+" Mini"]],[/\bopr\/([\w\.]+)/i],[A,[C,ce]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[C,A],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[A,[C,"UC"+J]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[A,[C,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[A,[C,"WeChat"]],[/konqueror\/([\w\.]+)/i],[A,[C,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[A,[C,"IE"]],[/yabrowser\/([\w\.]+)/i],[A,[C,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[C,/(.+)/,"$1 Secure "+J],A],[/\bfocus\/([\w\.]+)/i],[A,[C,Me+" Focus"]],[/\bopt\/([\w\.]+)/i],[A,[C,ce+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[A,[C,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[A,[C,"Dolphin"]],[/coast\/([\w\.]+)/i],[A,[C,ce+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[A,[C,"MIUI "+J]],[/fxios\/([-\w\.]+)/i],[A,[C,Me]],[/\bqihu|(qi?ho?o?|360)browser/i],[[C,"360 "+J]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[C,/(.+)/,"$1 "+J],A],[/(comodo_dragon)\/([\w\.]+)/i],[[C,/_/g," "],A],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[C,A],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[C],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[C,Ae],A],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[C,A],[/\bgsa\/([\w\.]+) .*safari\//i],[A,[C,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[A,[C,Z+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[C,Z+" WebView"],A],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[A,[C,"Android "+J]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[C,A],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[A,[C,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[A,C],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[C,[A,pt,kt]],[/(webkit|khtml)\/([\w\.]+)/i],[C,A],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[C,"Netscape"],A],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[A,[C,Me+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[C,A],[/(cobalt)\/([\w\.]+)/i],[C,[A,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[P,"amd64"]],[/(ia32(?=;))/i],[[P,vt]],[/((?:i[346]|x)86)[;\)]/i],[[P,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[P,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[P,"armhf"]],[/windows (ce|mobile); ppc;/i],[[P,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[P,/ower/,a,vt]],[/(sun4\w)[;\)]/i],[[P,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[P,vt]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[E,[j,ye],[I,$]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[E,[j,ye],[I,z]],[/\((ip(?:hone|od)[\w ]*);/i],[E,[j,me],[I,z]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[E,[j,me],[I,$]],[/(macintosh);/i],[E,[j,me]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[E,[j,_e],[I,$]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[E,[j,_e],[I,z]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[E,/_/g," "],[j,pe],[I,z]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[E,/_/g," "],[j,pe],[I,$]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[E,[j,"OPPO"],[I,z]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[E,[j,"Vivo"],[I,z]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[E,[j,"Realme"],[I,z]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[E,[j,te],[I,z]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[E,[j,te],[I,$]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[E,[j,Se],[I,$]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[E,[j,Se],[I,z]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[E,[j,"Lenovo"],[I,$]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[E,/_/g," "],[j,"Nokia"],[I,z]],[/(pixel c)\b/i],[E,[j,Ne],[I,$]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[E,[j,Ne],[I,z]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[E,[j,se],[I,z]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[E,"Xperia Tablet"],[j,se],[I,$]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[E,[j,"OnePlus"],[I,z]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[E,[j,he],[I,$]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[E,/(.+)/g,"Fire Phone $1"],[j,he],[I,z]],[/(playbook);[-\w\),; ]+(rim)/i],[E,j,[I,$]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[E,[j,ze],[I,z]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[E,[j,we],[I,$]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[E,[j,we],[I,z]],[/(nexus 9)/i],[E,[j,"HTC"],[I,$]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony(?!-bra))[-_ ]?([-\w]*)/i],[j,[E,/_/g," "],[I,z]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[E,[j,"Acer"],[I,$]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[E,[j,"Meizu"],[I,z]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[E,[j,re],[I,z]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[j,E,[I,z]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[j,E,[I,$]],[/(surface duo)/i],[E,[j,Le],[I,$]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[E,[j,"Fairphone"],[I,z]],[/(u304aa)/i],[E,[j,"AT&T"],[I,z]],[/\bsie-(\w*)/i],[E,[j,"Siemens"],[I,z]],[/\b(rct\w+) b/i],[E,[j,"RCA"],[I,$]],[/\b(venue[\d ]{2,7}) b/i],[E,[j,"Dell"],[I,$]],[/\b(q(?:mv|ta)\w+) b/i],[E,[j,"Verizon"],[I,$]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[E,[j,"Barnes & Noble"],[I,$]],[/\b(tm\d{3}\w+) b/i],[E,[j,"NuVision"],[I,$]],[/\b(k88) b/i],[E,[j,"ZTE"],[I,$]],[/\b(nx\d{3}j) b/i],[E,[j,"ZTE"],[I,z]],[/\b(gen\d{3}) b.+49h/i],[E,[j,"Swiss"],[I,z]],[/\b(zur\d{3}) b/i],[E,[j,"Swiss"],[I,$]],[/\b((zeki)?tb.*\b) b/i],[E,[j,"Zeki"],[I,$]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[j,"Dragon Touch"],E,[I,$]],[/\b(ns-?\w{0,9}) b/i],[E,[j,"Insignia"],[I,$]],[/\b((nxa|next)-?\w{0,9}) b/i],[E,[j,"NextBook"],[I,$]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[j,"Voice"],E,[I,z]],[/\b(lvtel\-)?(v1[12]) b/i],[[j,"LvTel"],E,[I,z]],[/\b(ph-1) /i],[E,[j,"Essential"],[I,z]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[E,[j,"Envizen"],[I,$]],[/\b(trio[-\w\. ]+) b/i],[E,[j,"MachSpeed"],[I,$]],[/\btu_(1491) b/i],[E,[j,"Rotor"],[I,$]],[/(shield[\w ]+) b/i],[E,[j,"Nvidia"],[I,$]],[/(sprint) (\w+)/i],[j,E,[I,z]],[/(kin\.[onetw]{3})/i],[[E,/\./g," "],[j,Le],[I,z]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[E,[j,Ce],[I,$]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[E,[j,Ce],[I,z]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[j,E,[I,M]],[/droid.+; (shield) bui/i],[E,[j,"Nvidia"],[I,M]],[/(playstation [345portablevi]+)/i],[E,[j,se],[I,M]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[E,[j,Le],[I,M]],[/smart-tv.+(samsung)/i],[j,[I,U]],[/hbbtv.+maple;(\d+)/i],[[E,/^/,"SmartTV"],[j,ye],[I,U]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[j,Se],[I,U]],[/(apple) ?tv/i],[j,[E,me+" TV"],[I,U]],[/crkey/i],[[E,Z+"cast"],[j,Ne],[I,U]],[/droid.+aft(\w)( bui|\))/i],[E,[j,he],[I,U]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[E,[j,re],[I,U]],[/(bravia[\w ]+)( bui|\))/i],[E,[j,se],[I,U]],[/(mitv-\w{5}) bui/i],[E,[j,pe],[I,U]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[j,Pt],[E,Pt],[I,U]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[I,U]],[/((pebble))app/i],[j,E,[I,X]],[/droid.+; (glass) \d/i],[E,[j,Ne],[I,X]],[/droid.+; (wt63?0{2,3})\)/i],[E,[j,Ce],[I,X]],[/(quest( 2)?)/i],[E,[j,Ae],[I,X]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[j,[I,V]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[E,[I,z]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[E,[I,$]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[I,$]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[I,z]],[/(android[-\w\. ]{0,9});.+buil/i],[E,[j,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[A,[C,q+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[A,[C,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[C,A],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[A,C]],os:[[/microsoft (windows) (vista|xp)/i],[C,A],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[C,[A,pt,Rt]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[C,"Windows"],[A,pt,Rt]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[A,/_/g,"."],[C,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[C,"Mac OS"],[A,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[A,C],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[C,A],[/\(bb(10);/i],[A,[C,ze]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[A,[C,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[A,[C,Me+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[A,[C,"webOS"]],[/crkey\/([\d\.]+)/i],[A,[C,Z+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[C,"Chromium OS"],A],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[C,A],[/(sunos) ?([\w\.\d]*)/i],[[C,"Solaris"],A],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[C,A]]},Wt=function(Ee,ge){if(typeof Ee===v&&(ge=Ee,Ee=r),!(this instanceof Wt))return new Wt(Ee,ge).getResult();var We=Ee||(typeof n!==p&&n.navigator&&n.navigator.userAgent?n.navigator.userAgent:a),Lt=ge?He($t,ge):$t;return this.getBrowser=function(){var B={};return B[C]=r,B[A]=r,rt.call(B,We,Lt.browser),B.major=Bt(B.version),B},this.getCPU=function(){var B={};return B[P]=r,rt.call(B,We,Lt.cpu),B},this.getDevice=function(){var B={};return B[j]=r,B[E]=r,B[I]=r,rt.call(B,We,Lt.device),B},this.getEngine=function(){var B={};return B[C]=r,B[A]=r,rt.call(B,We,Lt.engine),B},this.getOS=function(){var B={};return B[C]=r,B[A]=r,rt.call(B,We,Lt.os),B},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return We},this.setUA=function(B){return We=typeof B===m&&B.length>ne?Pt(B,ne):B,this},this.setUA(We),this};Wt.VERSION=i,Wt.BROWSER=tt([C,A,x]),Wt.CPU=tt([P]),Wt.DEVICE=tt([E,j,I,M,z,U,$,X,V]),Wt.ENGINE=Wt.OS=tt([C,A]),e.exports&&(t=e.exports=Wt),t.UAParser=Wt;var ut=typeof n!==p&&(n.jQuery||n.Zepto);if(ut&&!ut.ua){var fe=new Wt;ut.ua=fe.getResult(),ut.ua.get=function(){return fe.getUA()},ut.ua.set=function(Ee){fe.setUA(Ee);var ge=fe.getResult();for(var We in ge)ut.ua[We]=ge[We]}}})(typeof window=="object"?window:An)})(Px,Px.exports);var q4=Px.exports;const X4=Tn(q4);var JL={exports:{}};/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var a=arguments[i];if(a){var l=typeof a;if(l==="string"||l==="number")r.push(a);else if(Array.isArray(a)&&a.length){var c=n.apply(null,a);c&&r.push(c)}else if(l==="object")for(var p in a)t.call(a,p)&&a[p]&&r.push(p)}}return r.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(JL);var eP=JL.exports;const ir=Tn(eP);const Nn=e=>{var t;return b.jsx("div",{className:ir("button-bar","orientation-".concat((t=e.orientation)!=null?t:"horizontal")),children:e.children})};const V4=()=>b.jsx("div",{className:"button-bar-separator"});const Ul=e=>{const{children:t,floating:n,highlighted:r}=e,i=ir("card",{floating:n,highlighted:r});return b.jsx("div",{className:i,children:t})};const _r=({children:e})=>b.jsx("div",{className:"card-content",children:e});const up=e=>{const{href:t,icon:n,label:r,target:i,variant:a}=e,l=ir("icon-link","variant-".concat(a));return b.jsxs("a",{href:t,className:l,target:i!=null?i:"_blank",children:[b.jsx("span",{className:"icon",children:n}),r]})};const Y4=e=>{const{t}=Xe(),n=new X4().getBrowser();if(n.name!=="Safari")return null;if(n.version){const a=parseInt(n.version.replace(/\..*/,""));if(Number.isFinite(a)&&a<13)return null}const r=window.navigator;if(r.standalone)return null;const i=r.standalone!==void 0;return b.jsx("div",{className:"safari-warning-card",children:b.jsxs(Ul,{children:[b.jsxs(Hl,{children:[b.jsx("p",{children:t("components.safariWarningCard.message")}),i&&b.jsx("p",{children:t("components.safariWarningCard.addToHomeScreen")}),b.jsx("p",{children:t("components.safariWarningCard.archiveAndUseAnotherBrowser")})]}),b.jsxs(Nn,{children:[b.jsx(up,{href:"https://twinery.org/2ioslocalstorage",icon:b.jsx(_x,{}),label:t("components.safariWarningCard.learnMore"),variant:"primary"}),i&&b.jsx(up,{href:"https://twinery.org/2ioshomescreen",icon:b.jsx(_x,{}),label:t("components.safariWarningCard.howToAddToHomeScreen")})]})]})})},jT=()=>b.jsx("svg",{viewBox:"0 0 24 24",width:"24",height:"24",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"});const tP=()=>b.jsx("span",{className:"icon-loading",children:b.jsx(w3,{})}),Q4=()=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[b.jsx("path",{d:"M14 3v4a1 1 0 0 0 1 1h4"}),b.jsx("path",{d:"M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z"}),b.jsx("circle",{cx:"10",cy:"12",r:"0.5"}),b.jsx("circle",{cx:"14",cy:"12",r:"0.5"}),b.jsx("circle",{cx:"10",cy:"16",r:"0.5"}),b.jsx("circle",{cx:"14",cy:"16",r:"0.5"})]}),Z4=()=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 1200 1200",width:"1200",height:"1200",children:[b.jsxs("defs",{children:[b.jsxs("linearGradient",{id:"b",children:[b.jsx("stop",{offset:"0",stopColor:"#127aee"}),b.jsx("stop",{offset:"1",stopColor:"#117aef",stopOpacity:".251"})]}),b.jsxs("linearGradient",{id:"a",children:[b.jsx("stop",{offset:"0",stopColor:"#10f05e",stopOpacity:".251"}),b.jsx("stop",{offset:"1",stopColor:"#10f05e"})]}),b.jsx("linearGradient",{xlinkHref:"#a",id:"d",x1:"52",y1:"604.362",x2:"972",y2:"604.362",gradientUnits:"userSpaceOnUse"}),b.jsx("linearGradient",{xlinkHref:"#b",id:"c",x1:"256",y1:"0",x2:"231.987",y2:"725.548",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(0 28.362)"})]}),b.jsx("path",{fill:"url(#c)",d:"M64 28.362h384v1024H64z",transform:"translate(88 59.638)"}),b.jsx("path",{d:"M64 860.362c0-704 896-704 896-704v384s-512 0-512 320v192H64z",fill:"url(#d)",transform:"translate(88 59.638)"})]});const nP=()=>b.jsx("div",{className:"loading-curtain",children:b.jsx(tP,{})});function pr(e,t){return{type:"update",name:e,value:t}}const Vf=()=>({appTheme:"system",codeEditorFontFamily:"var(--font-monospaced)",codeEditorFontScale:1,dialogWidth:600,disabledStoryFormatEditorExtensions:[],donateShown:!1,editorCursorBlinks:!0,firstRunTime:new Date().getTime(),lastUpdateSeen:"",lastUpdateCheckTime:new Date().getTime(),locale:window.navigator.userLanguage||window.navigator.language||window.navigator.browserLanguage||window.navigator.systemLanguage||"en-us",passageEditorFontFamily:"var(--font-system)",passageEditorFontScale:1,proofingFormat:{name:"Paperthin",version:"1.0.0"},storyFormat:{name:"Harlowe",version:"3.3.8"},storyFormatListFilter:"current",storyListSort:"name",storyListTagFilter:[],storyTagColors:{},welcomeSeen:!1});function yE(e,t,n){return e.disabledStoryFormatEditorExtensions.some(r=>r.name===t&&r.version===n)}async function J4(){const{twineElectron:e}=window,t={},n=Object.keys(Vf());if(!e)throw new Error("Electron bridge is not present on window.");const r=await e.loadPrefs();if(r&&typeof r=="object")for(const i in r)n.includes(i)&&(t[i]=r[i]);return t}function rP(e,t){const{twineElectron:n}=window;if(!n)throw new Error("Electron bridge is not present on window.");n.saveJson(e,t)}function eB(e,t){(t.type==="repair"||t.type==="update")&&rP("prefs.json",e)}function tB(e){return e}var Fy=tB;function nB(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var rB=nB,iB=rB,$T=Math.max;function oB(e,t,n){return t=$T(t===void 0?e.length-1:t,0),function(){for(var r=arguments,i=-1,a=$T(r.length-t,0),l=Array(a);++i<a;)l[i]=r[t+i];i=-1;for(var c=Array(t+1);++i<t;)c[i]=r[i];return c[t]=n(l),iB(e,this,c)}}var aB=oB;function sB(e){return function(){return e}}var lB=sB,uB=typeof An=="object"&&An&&An.Object===Object&&An,iP=uB,cB=iP,fB=typeof self=="object"&&self&&self.Object===Object&&self,dB=cB||fB||Function("return this")(),Is=dB,hB=Is,pB=hB.Symbol,Hp=pB,DT=Hp,oP=Object.prototype,gB=oP.hasOwnProperty,vB=oP.toString,yh=DT?DT.toStringTag:void 0;function mB(e){var t=gB.call(e,yh),n=e[yh];try{e[yh]=void 0;var r=!0}catch{}var i=vB.call(e);return r&&(t?e[yh]=n:delete e[yh]),i}var yB=mB,wB=Object.prototype,xB=wB.toString;function bB(e){return xB.call(e)}var EB=bB,BT=Hp,SB=yB,CB=EB,TB="[object Null]",kB="[object Undefined]",zT=BT?BT.toStringTag:void 0;function _B(e){return e==null?e===void 0?kB:TB:zT&&zT in Object(e)?SB(e):CB(e)}var Up=_B;function OB(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Wp=OB,LB=Up,PB=Wp,AB="[object AsyncFunction]",NB="[object Function]",IB="[object GeneratorFunction]",RB="[object Proxy]";function MB(e){if(!PB(e))return!1;var t=LB(e);return t==NB||t==IB||t==AB||t==RB}var aP=MB,FB=Is,jB=FB["__core-js_shared__"],$B=jB,qw=$B,HT=function(){var e=/[^.]+$/.exec(qw&&qw.keys&&qw.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function DB(e){return!!HT&&HT in e}var BB=DB,zB=Function.prototype,HB=zB.toString;function UB(e){if(e!=null){try{return HB.call(e)}catch{}try{return e+""}catch{}}return""}var sP=UB,WB=aP,KB=BB,GB=Wp,qB=sP,XB=/[\\^$.*+?()[\]{}|]/g,VB=/^\[object .+?Constructor\]$/,YB=Function.prototype,QB=Object.prototype,ZB=YB.toString,JB=QB.hasOwnProperty,ez=RegExp("^"+ZB.call(JB).replace(XB,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function tz(e){if(!GB(e)||KB(e))return!1;var t=WB(e)?ez:VB;return t.test(qB(e))}var nz=tz;function rz(e,t){return e==null?void 0:e[t]}var iz=rz,oz=nz,az=iz;function sz(e,t){var n=az(e,t);return oz(n)?n:void 0}var fc=sz,lz=fc,uz=function(){try{var e=lz(Object,"defineProperty");return e({},"",{}),e}catch{}}(),cz=uz,fz=lB,UT=cz,dz=Fy,hz=UT?function(e,t){return UT(e,"toString",{configurable:!0,enumerable:!1,value:fz(t),writable:!0})}:dz,pz=hz,gz=800,vz=16,mz=Date.now;function yz(e){var t=0,n=0;return function(){var r=mz(),i=vz-(r-n);if(n=r,i>0){if(++t>=gz)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var wz=yz,xz=pz,bz=wz,Ez=bz(xz),Sz=Ez,Cz=Fy,Tz=aB,kz=Sz;function _z(e,t){return kz(Tz(e,t,Cz),e+"")}var lP=_z;function Oz(e,t){return e===t||e!==e&&t!==t}var jy=Oz,Lz=9007199254740991;function Pz(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Lz}var wE=Pz,Az=aP,Nz=wE;function Iz(e){return e!=null&&Nz(e.length)&&!Az(e)}var Kp=Iz,Rz=9007199254740991,Mz=/^(?:0|[1-9]\d*)$/;function Fz(e,t){var n=typeof e;return t=t==null?Rz:t,!!t&&(n=="number"||n!="symbol"&&Mz.test(e))&&e>-1&&e%1==0&&e<t}var xE=Fz,jz=jy,$z=Kp,Dz=xE,Bz=Wp;function zz(e,t,n){if(!Bz(n))return!1;var r=typeof t;return(r=="number"?$z(n)&&Dz(t,n.length):r=="string"&&t in n)?jz(n[t],e):!1}var uP=zz;function Hz(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var Uz=Hz;function Wz(e){return e!=null&&typeof e=="object"}var Gp=Wz,Kz=Up,Gz=Gp,qz="[object Arguments]";function Xz(e){return Gz(e)&&Kz(e)==qz}var Vz=Xz,WT=Vz,Yz=Gp,cP=Object.prototype,Qz=cP.hasOwnProperty,Zz=cP.propertyIsEnumerable,Jz=WT(function(){return arguments}())?WT:function(e){return Yz(e)&&Qz.call(e,"callee")&&!Zz.call(e,"callee")},bE=Jz,eH=Array.isArray,ja=eH,Jm={exports:{}};function tH(){return!1}var nH=tH;Jm.exports;(function(e,t){var n=Is,r=nH,i=t&&!t.nodeType&&t,a=i&&!0&&e&&!e.nodeType&&e,l=a&&a.exports===i,c=l?n.Buffer:void 0,p=c?c.isBuffer:void 0,v=p||r;e.exports=v})(Jm,Jm.exports);var fP=Jm.exports,rH=Up,iH=wE,oH=Gp,aH="[object Arguments]",sH="[object Array]",lH="[object Boolean]",uH="[object Date]",cH="[object Error]",fH="[object Function]",dH="[object Map]",hH="[object Number]",pH="[object Object]",gH="[object RegExp]",vH="[object Set]",mH="[object String]",yH="[object WeakMap]",wH="[object ArrayBuffer]",xH="[object DataView]",bH="[object Float32Array]",EH="[object Float64Array]",SH="[object Int8Array]",CH="[object Int16Array]",TH="[object Int32Array]",kH="[object Uint8Array]",_H="[object Uint8ClampedArray]",OH="[object Uint16Array]",LH="[object Uint32Array]",wn={};wn[bH]=wn[EH]=wn[SH]=wn[CH]=wn[TH]=wn[kH]=wn[_H]=wn[OH]=wn[LH]=!0;wn[aH]=wn[sH]=wn[wH]=wn[lH]=wn[xH]=wn[uH]=wn[cH]=wn[fH]=wn[dH]=wn[hH]=wn[pH]=wn[gH]=wn[vH]=wn[mH]=wn[yH]=!1;function PH(e){return oH(e)&&iH(e.length)&&!!wn[rH(e)]}var AH=PH;function NH(e){return function(t){return e(t)}}var dP=NH,ey={exports:{}};ey.exports;(function(e,t){var n=iP,r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===r,l=a&&n.process,c=function(){try{var p=i&&i.require&&i.require("util").types;return p||l&&l.binding&&l.binding("util")}catch{}}();e.exports=c})(ey,ey.exports);var IH=ey.exports,RH=AH,MH=dP,KT=IH,GT=KT&&KT.isTypedArray,FH=GT?MH(GT):RH,hP=FH,jH=Uz,$H=bE,DH=ja,BH=fP,zH=xE,HH=hP,UH=Object.prototype,WH=UH.hasOwnProperty;function KH(e,t){var n=DH(e),r=!n&&$H(e),i=!n&&!r&&BH(e),a=!n&&!r&&!i&&HH(e),l=n||r||i||a,c=l?jH(e.length,String):[],p=c.length;for(var v in e)(t||WH.call(e,v))&&!(l&&(v=="length"||i&&(v=="offset"||v=="parent")||a&&(v=="buffer"||v=="byteLength"||v=="byteOffset")||zH(v,p)))&&c.push(v);return c}var pP=KH,GH=Object.prototype;function qH(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||GH;return e===n}var gP=qH;function XH(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var VH=XH,YH=Wp,QH=gP,ZH=VH,JH=Object.prototype,e6=JH.hasOwnProperty;function t6(e){if(!YH(e))return ZH(e);var t=QH(e),n=[];for(var r in e)r=="constructor"&&(t||!e6.call(e,r))||n.push(r);return n}var n6=t6,r6=pP,i6=n6,o6=Kp;function a6(e){return o6(e)?r6(e,!0):i6(e)}var s6=a6,l6=lP,u6=jy,c6=uP,f6=s6,vP=Object.prototype,d6=vP.hasOwnProperty,h6=l6(function(e,t){e=Object(e);var n=-1,r=t.length,i=r>2?t[2]:void 0;for(i&&c6(t[0],t[1],i)&&(r=1);++n<r;)for(var a=t[n],l=f6(a),c=-1,p=l.length;++c<p;){var v=l[c],m=e[v];(m===void 0||u6(m,vP[v])&&!d6.call(e,v))&&(e[v]=a[v])}return e}),p6=h6;const qT=Tn(p6);var g6=function(e,t){for(t=e="";e++<36;t+=e*51&52?(e^15?8^Math.random()*(e^20?16:4):4).toString(16):"-");return t};const pn=Tn(g6);function Br(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&r.push.apply(r,Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),r.forEach(function(i){mE(e,i,n[i])})}return e}function Fl(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cp(e,t){if(t&&(Ro(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fl(e)}function Yf(e){return Yf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Yf(e)}function ty(e,t){return ty=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ty(e,t)}function $y(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ty(e,t)}var v6={type:"logger",log:function(t){this.output("log",t)},warn:function(t){this.output("warn",t)},error:function(t){this.output("error",t)},output:function(t,n){console&&console[t]&&console[t].apply(console,n)}},m6=function(){function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Ma(this,e),this.init(t,n)}return Fa(e,[{key:"init",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=r.prefix||"i18next:",this.logger=n||v6,this.options=r,this.debug=r.debug}},{key:"setDebug",value:function(n){this.debug=n}},{key:"log",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return this.forward(r,"log","",!0)}},{key:"warn",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return this.forward(r,"warn","",!0)}},{key:"error",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return this.forward(r,"error","")}},{key:"deprecate",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return this.forward(r,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(n,r,i,a){return a&&!this.debug?null:(typeof n[0]=="string"&&(n[0]="".concat(i).concat(this.prefix," ").concat(n[0])),this.logger[r](n))}},{key:"create",value:function(n){return new e(this.logger,Br({},{prefix:"".concat(this.prefix,":").concat(n,":")},this.options))}}]),e}(),ks=new m6,jl=function(){function e(){Ma(this,e),this.observers={}}return Fa(e,[{key:"on",value:function(n,r){var i=this;return n.split(" ").forEach(function(a){i.observers[a]=i.observers[a]||[],i.observers[a].push(r)}),this}},{key:"off",value:function(n,r){if(this.observers[n]){if(!r){delete this.observers[n];return}this.observers[n]=this.observers[n].filter(function(i){return i!==r})}}},{key:"emit",value:function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];if(this.observers[n]){var l=[].concat(this.observers[n]);l.forEach(function(p){p.apply(void 0,i)})}if(this.observers["*"]){var c=[].concat(this.observers["*"]);c.forEach(function(p){p.apply(p,[n].concat(i))})}}}]),e}();function wh(){var e,t,n=new Promise(function(r,i){e=r,t=i});return n.resolve=e,n.reject=t,n}function XT(e){return e==null?"":""+e}function y6(e,t,n){e.forEach(function(r){t[r]&&(n[r]=t[r])})}function EE(e,t,n){function r(c){return c&&c.indexOf("###")>-1?c.replace(/###/g,"."):c}function i(){return!e||typeof e=="string"}for(var a=typeof t!="string"?[].concat(t):t.split(".");a.length>1;){if(i())return{};var l=r(a.shift());!e[l]&&n&&(e[l]=new n),Object.prototype.hasOwnProperty.call(e,l)?e=e[l]:e={}}return i()?{}:{obj:e,k:r(a.shift())}}function VT(e,t,n){var r=EE(e,t,Object),i=r.obj,a=r.k;i[a]=n}function w6(e,t,n,r){var i=EE(e,t,Object),a=i.obj,l=i.k;a[l]=a[l]||[],r&&(a[l]=a[l].concat(n)),r||a[l].push(n)}function ny(e,t){var n=EE(e,t),r=n.obj,i=n.k;if(r)return r[i]}function YT(e,t,n){var r=ny(e,n);return r!==void 0?r:ny(t,n)}function mP(e,t,n){for(var r in t)r!=="__proto__"&&r!=="constructor"&&(r in e?typeof e[r]=="string"||e[r]instanceof String||typeof t[r]=="string"||t[r]instanceof String?n&&(e[r]=t[r]):mP(e[r],t[r],n):e[r]=t[r]);return e}function pf(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var x6={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function b6(e){return typeof e=="string"?e.replace(/[&<>"'\/]/g,function(t){return x6[t]}):e}var Dy=typeof window<"u"&&window.navigator&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,E6=function(e){$y(t,e);function t(n){var r,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};return Ma(this,t),r=cp(this,Yf(t).call(this)),Dy&&jl.call(Fl(r)),r.data=n||{},r.options=i,r.options.keySeparator===void 0&&(r.options.keySeparator="."),r}return Fa(t,[{key:"addNamespaces",value:function(r){this.options.ns.indexOf(r)<0&&this.options.ns.push(r)}},{key:"removeNamespaces",value:function(r){var i=this.options.ns.indexOf(r);i>-1&&this.options.ns.splice(i,1)}},{key:"getResource",value:function(r,i,a){var l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},c=l.keySeparator!==void 0?l.keySeparator:this.options.keySeparator,p=[r,i];return a&&typeof a!="string"&&(p=p.concat(a)),a&&typeof a=="string"&&(p=p.concat(c?a.split(c):a)),r.indexOf(".")>-1&&(p=r.split(".")),ny(this.data,p)}},{key:"addResource",value:function(r,i,a,l){var c=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1},p=this.options.keySeparator;p===void 0&&(p=".");var v=[r,i];a&&(v=v.concat(p?a.split(p):a)),r.indexOf(".")>-1&&(v=r.split("."),l=i,i=v[1]),this.addNamespaces(i),VT(this.data,v,l),c.silent||this.emit("added",r,i,a,l)}},{key:"addResources",value:function(r,i,a){var l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(var c in a)(typeof a[c]=="string"||Object.prototype.toString.apply(a[c])==="[object Array]")&&this.addResource(r,i,c,a[c],{silent:!0});l.silent||this.emit("added",r,i,a)}},{key:"addResourceBundle",value:function(r,i,a,l,c){var p=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},v=[r,i];r.indexOf(".")>-1&&(v=r.split("."),l=a,a=i,i=v[1]),this.addNamespaces(i);var m=ny(this.data,v)||{};l?mP(m,a,c):m=Br({},m,a),VT(this.data,v,m),p.silent||this.emit("added",r,i,a)}},{key:"removeResourceBundle",value:function(r,i){this.hasResourceBundle(r,i)&&delete this.data[r][i],this.removeNamespaces(i),this.emit("removed",r,i)}},{key:"hasResourceBundle",value:function(r,i){return this.getResource(r,i)!==void 0}},{key:"getResourceBundle",value:function(r,i){return i||(i=this.options.defaultNS),this.options.compatibilityAPI==="v1"?Br({},{},this.getResource(r,i)):this.getResource(r,i)}},{key:"getDataByLanguage",value:function(r){return this.data[r]}},{key:"toJSON",value:function(){return this.data}}]),t}(jl),yP={processors:{},addPostProcessor:function(t){this.processors[t.name]=t},handle:function(t,n,r,i,a){var l=this;return t.forEach(function(c){l.processors[c]&&(n=l.processors[c].process(n,r,i,a))}),n}},QT={},ZT=function(e){$y(t,e);function t(n){var r,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Ma(this,t),r=cp(this,Yf(t).call(this)),Dy&&jl.call(Fl(r)),y6(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],n,Fl(r)),r.options=i,r.options.keySeparator===void 0&&(r.options.keySeparator="."),r.logger=ks.create("translator"),r}return Fa(t,[{key:"changeLanguage",value:function(r){r&&(this.language=r)}},{key:"exists",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}},a=this.resolve(r,i);return a&&a.res!==void 0}},{key:"extractFromKey",value:function(r,i){var a=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;a===void 0&&(a=":");var l=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,c=i.ns||this.options.defaultNS;if(a&&r.indexOf(a)>-1){var p=r.match(this.interpolator.nestingRegexp);if(p&&p.length>0)return{key:r,namespaces:c};var v=r.split(a);(a!==l||a===l&&this.options.ns.indexOf(v[0])>-1)&&(c=v.shift()),r=v.join(l)}return typeof c=="string"&&(c=[c]),{key:r,namespaces:c}}},{key:"translate",value:function(r,i,a){var l=this;if(Ro(i)!=="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),i||(i={}),r==null)return"";Array.isArray(r)||(r=[String(r)]);var c=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,p=this.extractFromKey(r[r.length-1],i),v=p.key,m=p.namespaces,x=m[m.length-1],E=i.lng||this.language,C=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(E&&E.toLowerCase()==="cimode"){if(C){var I=i.nsSeparator||this.options.nsSeparator;return x+I+v}return v}var j=this.resolve(r,i),A=j&&j.res,P=j&&j.usedKey||v,M=j&&j.exactUsedKey||v,z=Object.prototype.toString.apply(A),$=["[object Number]","[object Function]","[object RegExp]"],U=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,X=!this.i18nFormat||this.i18nFormat.handleAsObject,V=typeof A!="string"&&typeof A!="boolean"&&typeof A!="number";if(X&&A&&V&&$.indexOf(z)<0&&!(typeof U=="string"&&z==="[object Array]")){if(!i.returnObjects&&!this.options.returnObjects)return this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(P,A,i):"key '".concat(v," (").concat(this.language,")' returned an object instead of string.");if(c){var ne=z==="[object Array]",he=ne?[]:{},me=ne?M:P;for(var we in A)if(Object.prototype.hasOwnProperty.call(A,we)){var ze="".concat(me).concat(c).concat(we);he[we]=this.translate(ze,Br({},i,{joinArrays:!1,ns:m})),he[we]===ze&&(he[we]=A[we])}A=he}}else if(X&&typeof U=="string"&&z==="[object Array]")A=A.join(U),A&&(A=this.extendTranslation(A,r,i,a));else{var J=!1,Z=!1,q=i.count!==void 0&&typeof i.count!="string",Me=t.hasDefaultValue(i),Ne=q?this.pluralResolver.getSuffix(E,i.count):"",_e=i["defaultValue".concat(Ne)]||i.defaultValue;!this.isValidLookup(A)&&Me&&(J=!0,A=_e),this.isValidLookup(A)||(Z=!0,A=v);var Se=Me&&_e!==A&&this.options.updateMissing;if(Z||J||Se){if(this.logger.log(Se?"updateKey":"missingKey",E,x,v,Se?_e:A),c){var Le=this.resolve(v,Br({},i,{keySeparator:!1}));Le&&Le.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var te=[],ce=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&ce&&ce[0])for(var ye=0;ye<ce.length;ye++)te.push(ce[ye]);else this.options.saveMissingTo==="all"?te=this.languageUtils.toResolveHierarchy(i.lng||this.language):te.push(i.lng||this.language);var re=function(pe,Ce,Ae){l.options.missingKeyHandler?l.options.missingKeyHandler(pe,x,Ce,Se?Ae:A,Se,i):l.backendConnector&&l.backendConnector.saveMissing&&l.backendConnector.saveMissing(pe,x,Ce,Se?Ae:A,Se,i),l.emit("missingKey",pe,x,Ce,A)};this.options.saveMissing&&(this.options.saveMissingPlurals&&q?te.forEach(function(se){l.pluralResolver.getSuffixes(se).forEach(function(pe){re([se],v+pe,i["defaultValue".concat(pe)]||_e)})}):re(te,v,_e))}A=this.extendTranslation(A,r,i,j,a),Z&&A===v&&this.options.appendNamespaceToMissingKey&&(A="".concat(x,":").concat(v)),Z&&this.options.parseMissingKeyHandler&&(A=this.options.parseMissingKeyHandler(A))}return A}},{key:"extendTranslation",value:function(r,i,a,l,c){var p=this;if(this.i18nFormat&&this.i18nFormat.parse)r=this.i18nFormat.parse(r,a,l.usedLng,l.usedNS,l.usedKey,{resolved:l});else if(!a.skipInterpolation){a.interpolation&&this.interpolator.init(Br({},a,{interpolation:Br({},this.options.interpolation,a.interpolation)}));var v=a.interpolation&&a.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables,m;if(v){var x=r.match(this.interpolator.nestingRegexp);m=x&&x.length}var E=a.replace&&typeof a.replace!="string"?a.replace:a;if(this.options.interpolation.defaultVariables&&(E=Br({},this.options.interpolation.defaultVariables,E)),r=this.interpolator.interpolate(r,E,a.lng||this.language,a),v){var C=r.match(this.interpolator.nestingRegexp),I=C&&C.length;m<I&&(a.nest=!1)}a.nest!==!1&&(r=this.interpolator.nest(r,function(){for(var P=arguments.length,M=new Array(P),z=0;z<P;z++)M[z]=arguments[z];return c&&c[0]===M[0]&&!a.context?(p.logger.warn("It seems you are nesting recursively key: ".concat(M[0]," in key: ").concat(i[0])),null):p.translate.apply(p,M.concat([i]))},a)),a.interpolation&&this.interpolator.reset()}var j=a.postProcess||this.options.postProcess,A=typeof j=="string"?[j]:j;return r!=null&&A&&A.length&&a.applyPostProcessor!==!1&&(r=yP.handle(A,r,i,this.options&&this.options.postProcessPassResolved?Br({i18nResolved:l},a):a,this)),r}},{key:"resolve",value:function(r){var i=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l,c,p,v,m;return typeof r=="string"&&(r=[r]),r.forEach(function(x){if(!i.isValidLookup(l)){var E=i.extractFromKey(x,a),C=E.key;c=C;var I=E.namespaces;i.options.fallbackNS&&(I=I.concat(i.options.fallbackNS));var j=a.count!==void 0&&typeof a.count!="string",A=a.context!==void 0&&typeof a.context=="string"&&a.context!=="",P=a.lngs?a.lngs:i.languageUtils.toResolveHierarchy(a.lng||i.language,a.fallbackLng);I.forEach(function(M){i.isValidLookup(l)||(m=M,!QT["".concat(P[0],"-").concat(M)]&&i.utils&&i.utils.hasLoadedNamespace&&!i.utils.hasLoadedNamespace(m)&&(QT["".concat(P[0],"-").concat(M)]=!0,i.logger.warn('key "'.concat(c,'" for languages "').concat(P.join(", "),'" won\'t get resolved as namespace "').concat(m,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),P.forEach(function(z){if(!i.isValidLookup(l)){v=z;var $=C,U=[$];if(i.i18nFormat&&i.i18nFormat.addLookupKeys)i.i18nFormat.addLookupKeys(U,C,z,M,a);else{var X;j&&(X=i.pluralResolver.getSuffix(z,a.count)),j&&A&&U.push($+X),A&&U.push($+="".concat(i.options.contextSeparator).concat(a.context)),j&&U.push($+=X)}for(var V;V=U.pop();)i.isValidLookup(l)||(p=V,l=i.getResource(z,M,V,a))}}))})}}),{res:l,usedKey:c,exactUsedKey:p,usedLng:v,usedNS:m}}},{key:"isValidLookup",value:function(r){return r!==void 0&&!(!this.options.returnNull&&r===null)&&!(!this.options.returnEmptyString&&r==="")}},{key:"getResource",value:function(r,i,a){var l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(r,i,a,l):this.resourceStore.getResource(r,i,a,l)}}],[{key:"hasDefaultValue",value:function(r){var i="defaultValue";for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)&&i===a.substring(0,i.length)&&r[a]!==void 0)return!0;return!1}}]),t}(jl);function Xw(e){return e.charAt(0).toUpperCase()+e.slice(1)}var S6=function(){function e(t){Ma(this,e),this.options=t,this.whitelist=this.options.supportedLngs||!1,this.supportedLngs=this.options.supportedLngs||!1,this.logger=ks.create("languageUtils")}return Fa(e,[{key:"getScriptPartFromCode",value:function(n){if(!n||n.indexOf("-")<0)return null;var r=n.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}},{key:"getLanguagePartFromCode",value:function(n){if(!n||n.indexOf("-")<0)return n;var r=n.split("-");return this.formatLanguageCode(r[0])}},{key:"formatLanguageCode",value:function(n){if(typeof n=="string"&&n.indexOf("-")>-1){var r=["hans","hant","latn","cyrl","cans","mong","arab"],i=n.split("-");return this.options.lowerCaseLng?i=i.map(function(a){return a.toLowerCase()}):i.length===2?(i[0]=i[0].toLowerCase(),i[1]=i[1].toUpperCase(),r.indexOf(i[1].toLowerCase())>-1&&(i[1]=Xw(i[1].toLowerCase()))):i.length===3&&(i[0]=i[0].toLowerCase(),i[1].length===2&&(i[1]=i[1].toUpperCase()),i[0]!=="sgn"&&i[2].length===2&&(i[2]=i[2].toUpperCase()),r.indexOf(i[1].toLowerCase())>-1&&(i[1]=Xw(i[1].toLowerCase())),r.indexOf(i[2].toLowerCase())>-1&&(i[2]=Xw(i[2].toLowerCase()))),i.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?n.toLowerCase():n}},{key:"isWhitelisted",value:function(n){return this.logger.deprecate("languageUtils.isWhitelisted",'function "isWhitelisted" will be renamed to "isSupportedCode" in the next major - please make sure to rename it\'s usage asap.'),this.isSupportedCode(n)}},{key:"isSupportedCode",value:function(n){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(n=this.getLanguagePartFromCode(n)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(n)>-1}},{key:"getBestMatchFromCodes",value:function(n){var r=this;if(!n)return null;var i;return n.forEach(function(a){if(!i){var l=r.formatLanguageCode(a);(!r.options.supportedLngs||r.isSupportedCode(l))&&(i=l)}}),!i&&this.options.supportedLngs&&n.forEach(function(a){if(!i){var l=r.getLanguagePartFromCode(a);if(r.isSupportedCode(l))return i=l;i=r.options.supportedLngs.find(function(c){if(c.indexOf(l)===0)return c})}}),i||(i=this.getFallbackCodes(this.options.fallbackLng)[0]),i}},{key:"getFallbackCodes",value:function(n,r){if(!n)return[];if(typeof n=="function"&&(n=n(r)),typeof n=="string"&&(n=[n]),Object.prototype.toString.apply(n)==="[object Array]")return n;if(!r)return n.default||[];var i=n[r];return i||(i=n[this.getScriptPartFromCode(r)]),i||(i=n[this.formatLanguageCode(r)]),i||(i=n[this.getLanguagePartFromCode(r)]),i||(i=n.default),i||[]}},{key:"toResolveHierarchy",value:function(n,r){var i=this,a=this.getFallbackCodes(r||this.options.fallbackLng||[],n),l=[],c=function(v){v&&(i.isSupportedCode(v)?l.push(v):i.logger.warn("rejecting language code not found in supportedLngs: ".concat(v)))};return typeof n=="string"&&n.indexOf("-")>-1?(this.options.load!=="languageOnly"&&c(this.formatLanguageCode(n)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&c(this.getScriptPartFromCode(n)),this.options.load!=="currentOnly"&&c(this.getLanguagePartFromCode(n))):typeof n=="string"&&c(this.formatLanguageCode(n)),a.forEach(function(p){l.indexOf(p)<0&&c(i.formatLanguageCode(p))}),l}}]),e}(),C6=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","kk","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],T6={1:function(t){return+(t>1)},2:function(t){return+(t!=1)},3:function(t){return 0},4:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},5:function(t){return t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5},6:function(t){return t==1?0:t>=2&&t<=4?1:2},7:function(t){return t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},8:function(t){return t==1?0:t==2?1:t!=8&&t!=11?2:3},9:function(t){return+(t>=2)},10:function(t){return t==1?0:t==2?1:t<7?2:t<11?3:4},11:function(t){return t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3},12:function(t){return+(t%10!=1||t%100==11)},13:function(t){return+(t!==0)},14:function(t){return t==1?0:t==2?1:t==3?2:3},15:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2},16:function(t){return t%10==1&&t%100!=11?0:t!==0?1:2},17:function(t){return t==1||t%10==1&&t%100!=11?0:1},18:function(t){return t==0?0:t==1?1:2},19:function(t){return t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3},20:function(t){return t==1?0:t==0||t%100>0&&t%100<20?1:2},21:function(t){return t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0},22:function(t){return t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3}};function k6(){var e={};return C6.forEach(function(t){t.lngs.forEach(function(n){e[n]={numbers:t.nr,plurals:T6[t.fc]}})}),e}var _6=function(){function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Ma(this,e),this.languageUtils=t,this.options=n,this.logger=ks.create("pluralResolver"),this.rules=k6()}return Fa(e,[{key:"addRule",value:function(n,r){this.rules[n]=r}},{key:"getRule",value:function(n){return this.rules[n]||this.rules[this.languageUtils.getLanguagePartFromCode(n)]}},{key:"needsPlural",value:function(n){var r=this.getRule(n);return r&&r.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(n,r){return this.getSuffixes(n).map(function(i){return r+i})}},{key:"getSuffixes",value:function(n){var r=this,i=this.getRule(n);return i?i.numbers.map(function(a){return r.getSuffix(n,a)}):[]}},{key:"getSuffix",value:function(n,r){var i=this,a=this.getRule(n);if(a){var l=a.noAbs?a.plurals(r):a.plurals(Math.abs(r)),c=a.numbers[l];this.options.simplifyPluralSuffix&&a.numbers.length===2&&a.numbers[0]===1&&(c===2?c="plural":c===1&&(c=""));var p=function(){return i.options.prepend&&c.toString()?i.options.prepend+c.toString():c.toString()};return this.options.compatibilityJSON==="v1"?c===1?"":typeof c=="number"?"_plural_".concat(c.toString()):p():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&a.numbers.length===2&&a.numbers[0]===1?p():this.options.prepend&&l.toString()?this.options.prepend+l.toString():l.toString()}return this.logger.warn("no plural rule found for: ".concat(n)),""}}]),e}(),O6=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ma(this,e),this.logger=ks.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||function(n){return n},this.init(t)}return Fa(e,[{key:"init",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};n.interpolation||(n.interpolation={escapeValue:!0});var r=n.interpolation;this.escape=r.escape!==void 0?r.escape:b6,this.escapeValue=r.escapeValue!==void 0?r.escapeValue:!0,this.useRawValueToEscape=r.useRawValueToEscape!==void 0?r.useRawValueToEscape:!1,this.prefix=r.prefix?pf(r.prefix):r.prefixEscaped||"{{",this.suffix=r.suffix?pf(r.suffix):r.suffixEscaped||"}}",this.formatSeparator=r.formatSeparator?r.formatSeparator:r.formatSeparator||",",this.unescapePrefix=r.unescapeSuffix?"":r.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":r.unescapeSuffix||"",this.nestingPrefix=r.nestingPrefix?pf(r.nestingPrefix):r.nestingPrefixEscaped||pf("$t("),this.nestingSuffix=r.nestingSuffix?pf(r.nestingSuffix):r.nestingSuffixEscaped||pf(")"),this.nestingOptionsSeparator=r.nestingOptionsSeparator?r.nestingOptionsSeparator:r.nestingOptionsSeparator||",",this.maxReplaces=r.maxReplaces?r.maxReplaces:1e3,this.alwaysFormat=r.alwaysFormat!==void 0?r.alwaysFormat:!1,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var n="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(n,"g");var r="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(r,"g");var i="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(i,"g")}},{key:"interpolate",value:function(n,r,i,a){var l=this,c,p,v,m=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function x(A){return A.replace(/\$/g,"$$$$")}var E=function(P){if(P.indexOf(l.formatSeparator)<0){var M=YT(r,m,P);return l.alwaysFormat?l.format(M,void 0,i):M}var z=P.split(l.formatSeparator),$=z.shift().trim(),U=z.join(l.formatSeparator).trim();return l.format(YT(r,m,$),U,i,a)};this.resetRegExp();var C=a&&a.missingInterpolationHandler||this.options.missingInterpolationHandler,I=a&&a.interpolation&&a.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables,j=[{regex:this.regexpUnescape,safeValue:function(P){return x(P)}},{regex:this.regexp,safeValue:function(P){return l.escapeValue?x(l.escape(P)):x(P)}}];return j.forEach(function(A){for(v=0;c=A.regex.exec(n);){if(p=E(c[1].trim()),p===void 0)if(typeof C=="function"){var P=C(n,c,a);p=typeof P=="string"?P:""}else if(I){p=c[0];continue}else l.logger.warn("missed to pass in variable ".concat(c[1]," for interpolating ").concat(n)),p="";else typeof p!="string"&&!l.useRawValueToEscape&&(p=XT(p));if(n=n.replace(c[0],A.safeValue(p)),A.regex.lastIndex=0,v++,v>=l.maxReplaces)break}}),n}},{key:"nest",value:function(n,r){var i=this,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},l,c,p=Br({},a);p.applyPostProcessor=!1,delete p.defaultValue;function v(C,I){var j=this.nestingOptionsSeparator;if(C.indexOf(j)<0)return C;var A=C.split(new RegExp("".concat(j,"[ ]*{"))),P="{".concat(A[1]);C=A[0],P=this.interpolate(P,p),P=P.replace(/'/g,'"');try{p=JSON.parse(P),I&&(p=Br({},I,p))}catch(M){return this.logger.warn("failed parsing options string in nesting for key ".concat(C),M),"".concat(C).concat(j).concat(P)}return delete p.defaultValue,C}for(;l=this.nestingRegexp.exec(n);){var m=[],x=!1;if(l[0].includes(this.formatSeparator)&&!/{.*}/.test(l[1])){var E=l[1].split(this.formatSeparator).map(function(C){return C.trim()});l[1]=E.shift(),m=E,x=!0}if(c=r(v.call(this,l[1].trim(),p),p),c&&l[0]===n&&typeof c!="string")return c;typeof c!="string"&&(c=XT(c)),c||(this.logger.warn("missed to resolve ".concat(l[1]," for nesting ").concat(n)),c=""),x&&(c=m.reduce(function(C,I){return i.format(C,I,a.lng,a)},c.trim())),n=n.replace(l[0],c),this.regexp.lastIndex=0}return n}}]),e}();function L6(e,t){for(var n=e.indexOf(t);n!==-1;)e.splice(n,1),n=e.indexOf(t)}var P6=function(e){$y(t,e);function t(n,r,i){var a,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return Ma(this,t),a=cp(this,Yf(t).call(this)),Dy&&jl.call(Fl(a)),a.backend=n,a.store=r,a.services=i,a.languageUtils=i.languageUtils,a.options=l,a.logger=ks.create("backendConnector"),a.state={},a.queue=[],a.backend&&a.backend.init&&a.backend.init(i,l.backend,l),a}return Fa(t,[{key:"queueLoad",value:function(r,i,a,l){var c=this,p=[],v=[],m=[],x=[];return r.forEach(function(E){var C=!0;i.forEach(function(I){var j="".concat(E,"|").concat(I);!a.reload&&c.store.hasResourceBundle(E,I)?c.state[j]=2:c.state[j]<0||(c.state[j]===1?v.indexOf(j)<0&&v.push(j):(c.state[j]=1,C=!1,v.indexOf(j)<0&&v.push(j),p.indexOf(j)<0&&p.push(j),x.indexOf(I)<0&&x.push(I)))}),C||m.push(E)}),(p.length||v.length)&&this.queue.push({pending:v,loaded:{},errors:[],callback:l}),{toLoad:p,pending:v,toLoadLanguages:m,toLoadNamespaces:x}}},{key:"loaded",value:function(r,i,a){var l=r.split("|"),c=l[0],p=l[1];i&&this.emit("failedLoading",c,p,i),a&&this.store.addResourceBundle(c,p,a),this.state[r]=i?-1:2;var v={};this.queue.forEach(function(m){w6(m.loaded,[c],p),L6(m.pending,r),i&&m.errors.push(i),m.pending.length===0&&!m.done&&(Object.keys(m.loaded).forEach(function(x){v[x]||(v[x]=[]),m.loaded[x].length&&m.loaded[x].forEach(function(E){v[x].indexOf(E)<0&&v[x].push(E)})}),m.done=!0,m.errors.length?m.callback(m.errors):m.callback())}),this.emit("loaded",v),this.queue=this.queue.filter(function(m){return!m.done})}},{key:"read",value:function(r,i,a){var l=this,c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,p=arguments.length>4&&arguments[4]!==void 0?arguments[4]:350,v=arguments.length>5?arguments[5]:void 0;return r.length?this.backend[a](r,i,function(m,x){if(m&&x&&c<5){setTimeout(function(){l.read.call(l,r,i,a,c+1,p*2,v)},p);return}v(m,x)}):v(null,{})}},{key:"prepareLoading",value:function(r,i){var a=this,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},c=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),c&&c();typeof r=="string"&&(r=this.languageUtils.toResolveHierarchy(r)),typeof i=="string"&&(i=[i]);var p=this.queueLoad(r,i,l,c);if(!p.toLoad.length)return p.pending.length||c(),null;p.toLoad.forEach(function(v){a.loadOne(v)})}},{key:"load",value:function(r,i,a){this.prepareLoading(r,i,{},a)}},{key:"reload",value:function(r,i,a){this.prepareLoading(r,i,{reload:!0},a)}},{key:"loadOne",value:function(r){var i=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",l=r.split("|"),c=l[0],p=l[1];this.read(c,p,"read",void 0,void 0,function(v,m){v&&i.logger.warn("".concat(a,"loading namespace ").concat(p," for language ").concat(c," failed"),v),!v&&m&&i.logger.log("".concat(a,"loaded namespace ").concat(p," for language ").concat(c),m),i.loaded(r,v,m)})}},{key:"saveMissing",value:function(r,i,a,l,c){var p=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(i)){this.logger.warn('did not save key "'.concat(a,'" as the namespace "').concat(i,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}a==null||a===""||(this.backend&&this.backend.create&&this.backend.create(r,i,a,l,null,Br({},p,{isUpdate:c})),!(!r||!r[0])&&this.store.addResource(r[0],i,a,l))}}]),t}(jl);function A6(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,whitelist:!1,nonExplicitWhitelist:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(t){var n={};if(Ro(t[1])==="object"&&(n=t[1]),typeof t[1]=="string"&&(n.defaultValue=t[1]),typeof t[2]=="string"&&(n.tDescription=t[2]),Ro(t[2])==="object"||Ro(t[3])==="object"){var r=t[3]||t[2];Object.keys(r).forEach(function(i){n[i]=r[i]})}return n},interpolation:{escapeValue:!0,format:function(t,n,r,i){return t},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!1}}}function JT(e){return typeof e.ns=="string"&&(e.ns=[e.ns]),typeof e.fallbackLng=="string"&&(e.fallbackLng=[e.fallbackLng]),typeof e.fallbackNS=="string"&&(e.fallbackNS=[e.fallbackNS]),e.whitelist&&(e.whitelist&&e.whitelist.indexOf("cimode")<0&&(e.whitelist=e.whitelist.concat(["cimode"])),e.supportedLngs=e.whitelist),e.nonExplicitWhitelist&&(e.nonExplicitSupportedLngs=e.nonExplicitWhitelist),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function Nv(){}var N6=function(e){$y(t,e);function t(){var n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;if(Ma(this,t),n=cp(this,Yf(t).call(this)),Dy&&jl.call(Fl(n)),n.options=JT(r),n.services={},n.logger=ks,n.modules={external:[]},i&&!n.isInitialized&&!r.isClone){if(!n.options.initImmediate)return n.init(r,i),cp(n,Fl(n));setTimeout(function(){n.init(r,i)},0)}return n}return Fa(t,[{key:"init",value:function(){var r=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;typeof i=="function"&&(a=i,i={}),i.whitelist&&!i.supportedLngs&&this.logger.deprecate("whitelist",'option "whitelist" will be renamed to "supportedLngs" in the next major - please make sure to rename this option asap.'),i.nonExplicitWhitelist&&!i.nonExplicitSupportedLngs&&this.logger.deprecate("whitelist",'options "nonExplicitWhitelist" will be renamed to "nonExplicitSupportedLngs" in the next major - please make sure to rename this option asap.'),this.options=Br({},A6(),this.options,JT(i)),this.format=this.options.interpolation.format,a||(a=Nv);function l(I){return I?typeof I=="function"?new I:I:null}if(!this.options.isClone){this.modules.logger?ks.init(l(this.modules.logger),this.options):ks.init(null,this.options);var c=new S6(this.options);this.store=new E6(this.options.resources,this.options);var p=this.services;p.logger=ks,p.resourceStore=this.store,p.languageUtils=c,p.pluralResolver=new _6(c,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),p.interpolator=new O6(this.options),p.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},p.backendConnector=new P6(l(this.modules.backend),p.resourceStore,p,this.options),p.backendConnector.on("*",function(I){for(var j=arguments.length,A=new Array(j>1?j-1:0),P=1;P<j;P++)A[P-1]=arguments[P];r.emit.apply(r,[I].concat(A))}),this.modules.languageDetector&&(p.languageDetector=l(this.modules.languageDetector),p.languageDetector.init(p,this.options.detection,this.options)),this.modules.i18nFormat&&(p.i18nFormat=l(this.modules.i18nFormat),p.i18nFormat.init&&p.i18nFormat.init(this)),this.translator=new ZT(this.services,this.options),this.translator.on("*",function(I){for(var j=arguments.length,A=new Array(j>1?j-1:0),P=1;P<j;P++)A[P-1]=arguments[P];r.emit.apply(r,[I].concat(A))}),this.modules.external.forEach(function(I){I.init&&I.init(r)})}if(this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var v=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);v.length>0&&v[0]!=="dev"&&(this.options.lng=v[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined");var m=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];m.forEach(function(I){r[I]=function(){var j;return(j=r.store)[I].apply(j,arguments)}});var x=["addResource","addResources","addResourceBundle","removeResourceBundle"];x.forEach(function(I){r[I]=function(){var j;return(j=r.store)[I].apply(j,arguments),r}});var E=wh(),C=function(){var j=function(P,M){r.isInitialized&&r.logger.warn("init: i18next is already initialized. You should call init just once!"),r.isInitialized=!0,r.options.isClone||r.logger.log("initialized",r.options),r.emit("initialized",r.options),E.resolve(M),a(P,M)};if(r.languages&&r.options.compatibilityAPI!=="v1"&&!r.isInitialized)return j(null,r.t.bind(r));r.changeLanguage(r.options.lng,j)};return this.options.resources||!this.options.initImmediate?C():setTimeout(C,0),E}},{key:"loadResources",value:function(r){var i=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Nv,l=a,c=typeof r=="string"?r:this.language;if(typeof r=="function"&&(l=r),!this.options.resources||this.options.partialBundledLanguages){if(c&&c.toLowerCase()==="cimode")return l();var p=[],v=function(E){if(E){var C=i.services.languageUtils.toResolveHierarchy(E);C.forEach(function(I){p.indexOf(I)<0&&p.push(I)})}};if(c)v(c);else{var m=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);m.forEach(function(x){return v(x)})}this.options.preload&&this.options.preload.forEach(function(x){return v(x)}),this.services.backendConnector.load(p,this.options.ns,l)}else l(null)}},{key:"reloadResources",value:function(r,i,a){var l=wh();return r||(r=this.languages),i||(i=this.options.ns),a||(a=Nv),this.services.backendConnector.reload(r,i,function(c){l.resolve(),a(c)}),l}},{key:"use",value:function(r){if(!r)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!r.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return r.type==="backend"&&(this.modules.backend=r),(r.type==="logger"||r.log&&r.warn&&r.error)&&(this.modules.logger=r),r.type==="languageDetector"&&(this.modules.languageDetector=r),r.type==="i18nFormat"&&(this.modules.i18nFormat=r),r.type==="postProcessor"&&yP.addPostProcessor(r),r.type==="3rdParty"&&this.modules.external.push(r),this}},{key:"changeLanguage",value:function(r,i){var a=this;this.isLanguageChangingTo=r;var l=wh();this.emit("languageChanging",r);var c=function(m,x){x?(a.language=x,a.languages=a.services.languageUtils.toResolveHierarchy(x),a.translator.changeLanguage(x),a.isLanguageChangingTo=void 0,a.emit("languageChanged",x),a.logger.log("languageChanged",x)):a.isLanguageChangingTo=void 0,l.resolve(function(){return a.t.apply(a,arguments)}),i&&i(m,function(){return a.t.apply(a,arguments)})},p=function(m){var x=typeof m=="string"?m:a.services.languageUtils.getBestMatchFromCodes(m);x&&(a.language||(a.language=x,a.languages=a.services.languageUtils.toResolveHierarchy(x)),a.translator.language||a.translator.changeLanguage(x),a.services.languageDetector&&a.services.languageDetector.cacheUserLanguage(x)),a.loadResources(x,function(E){c(E,x)})};return!r&&this.services.languageDetector&&!this.services.languageDetector.async?p(this.services.languageDetector.detect()):!r&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(p):p(r),l}},{key:"getFixedT",value:function(r,i){var a=this,l=function c(p,v){var m;if(Ro(v)!=="object"){for(var x=arguments.length,E=new Array(x>2?x-2:0),C=2;C<x;C++)E[C-2]=arguments[C];m=a.options.overloadTranslationOptionHandler([p,v].concat(E))}else m=Br({},v);return m.lng=m.lng||c.lng,m.lngs=m.lngs||c.lngs,m.ns=m.ns||c.ns,a.t(p,m)};return typeof r=="string"?l.lng=r:l.lngs=r,l.ns=i,l}},{key:"t",value:function(){var r;return this.translator&&(r=this.translator).translate.apply(r,arguments)}},{key:"exists",value:function(){var r;return this.translator&&(r=this.translator).exists.apply(r,arguments)}},{key:"setDefaultNamespace",value:function(r){this.options.defaultNS=r}},{key:"hasLoadedNamespace",value:function(r){var i=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var l=this.languages[0],c=this.options?this.options.fallbackLng:!1,p=this.languages[this.languages.length-1];if(l.toLowerCase()==="cimode")return!0;var v=function(E,C){var I=i.services.backendConnector.state["".concat(E,"|").concat(C)];return I===-1||I===2};if(a.precheck){var m=a.precheck(this,v);if(m!==void 0)return m}return!!(this.hasResourceBundle(l,r)||!this.services.backendConnector.backend||v(l,r)&&(!c||v(p,r)))}},{key:"loadNamespaces",value:function(r,i){var a=this,l=wh();return this.options.ns?(typeof r=="string"&&(r=[r]),r.forEach(function(c){a.options.ns.indexOf(c)<0&&a.options.ns.push(c)}),this.loadResources(function(c){l.resolve(),i&&i(c)}),l):(i&&i(),Promise.resolve())}},{key:"loadLanguages",value:function(r,i){var a=wh();typeof r=="string"&&(r=[r]);var l=this.options.preload||[],c=r.filter(function(p){return l.indexOf(p)<0});return c.length?(this.options.preload=l.concat(c),this.loadResources(function(p){a.resolve(),i&&i(p)}),a):(i&&i(),Promise.resolve())}},{key:"dir",value:function(r){if(r||(r=this.languages&&this.languages.length>0?this.languages[0]:this.language),!r)return"rtl";var i=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"];return i.indexOf(this.services.languageUtils.getLanguagePartFromCode(r))>=0?"rtl":"ltr"}},{key:"createInstance",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;return new t(r,i)}},{key:"cloneInstance",value:function(){var r=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Nv,l=Br({},this.options,i,{isClone:!0}),c=new t(l),p=["store","services","language"];return p.forEach(function(v){c[v]=r[v]}),c.services=Br({},this.services),c.services.utils={hasLoadedNamespace:c.hasLoadedNamespace.bind(c)},c.translator=new ZT(c.services,c.options),c.translator.on("*",function(v){for(var m=arguments.length,x=new Array(m>1?m-1:0),E=1;E<m;E++)x[E-1]=arguments[E];c.emit.apply(c,[v].concat(x))}),c.init(l,a),c.translator.options=c.options,c.translator.backendConnector.services.utils={hasLoadedNamespace:c.hasLoadedNamespace.bind(c)},c}}]),t}(jl),I6=new N6;function vm(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?vm=function(n){return typeof n}:vm=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},vm(e)}var wP=[],R6=wP.forEach,M6=wP.slice;function Ax(e){return R6.call(M6.call(arguments,1),function(t){if(t)for(var n in t)e[n]===void 0&&(e[n]=t[n])}),e}function xP(){return typeof XMLHttpRequest=="function"||(typeof XMLHttpRequest>"u"?"undefined":vm(XMLHttpRequest))==="object"}var yr={},bP={},By={};By.byteLength=$6;By.toByteArray=B6;By.fromByteArray=U6;var ba=[],ao=[],F6=typeof Uint8Array<"u"?Uint8Array:Array,Vw="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var gf=0,j6=Vw.length;gf<j6;++gf)ba[gf]=Vw[gf],ao[Vw.charCodeAt(gf)]=gf;ao["-".charCodeAt(0)]=62;ao["_".charCodeAt(0)]=63;function EP(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");n===-1&&(n=t);var r=n===t?0:4-n%4;return[n,r]}function $6(e){var t=EP(e),n=t[0],r=t[1];return(n+r)*3/4-r}function D6(e,t,n){return(t+n)*3/4-n}function B6(e){var t,n=EP(e),r=n[0],i=n[1],a=new F6(D6(e,r,i)),l=0,c=i>0?r-4:r,p;for(p=0;p<c;p+=4)t=ao[e.charCodeAt(p)]<<18|ao[e.charCodeAt(p+1)]<<12|ao[e.charCodeAt(p+2)]<<6|ao[e.charCodeAt(p+3)],a[l++]=t>>16&255,a[l++]=t>>8&255,a[l++]=t&255;return i===2&&(t=ao[e.charCodeAt(p)]<<2|ao[e.charCodeAt(p+1)]>>4,a[l++]=t&255),i===1&&(t=ao[e.charCodeAt(p)]<<10|ao[e.charCodeAt(p+1)]<<4|ao[e.charCodeAt(p+2)]>>2,a[l++]=t>>8&255,a[l++]=t&255),a}function z6(e){return ba[e>>18&63]+ba[e>>12&63]+ba[e>>6&63]+ba[e&63]}function H6(e,t,n){for(var r,i=[],a=t;a<n;a+=3)r=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(e[a+2]&255),i.push(z6(r));return i.join("")}function U6(e){for(var t,n=e.length,r=n%3,i=[],a=16383,l=0,c=n-r;l<c;l+=a)i.push(H6(e,l,l+a>c?c:l+a));return r===1?(t=e[n-1],i.push(ba[t>>2]+ba[t<<4&63]+"==")):r===2&&(t=(e[n-2]<<8)+e[n-1],i.push(ba[t>>10]+ba[t>>4&63]+ba[t<<2&63]+"=")),i.join("")}var SE={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */SE.read=function(e,t,n,r,i){var a,l,c=i*8-r-1,p=(1<<c)-1,v=p>>1,m=-7,x=n?i-1:0,E=n?-1:1,C=e[t+x];for(x+=E,a=C&(1<<-m)-1,C>>=-m,m+=c;m>0;a=a*256+e[t+x],x+=E,m-=8);for(l=a&(1<<-m)-1,a>>=-m,m+=r;m>0;l=l*256+e[t+x],x+=E,m-=8);if(a===0)a=1-v;else{if(a===p)return l?NaN:(C?-1:1)*(1/0);l=l+Math.pow(2,r),a=a-v}return(C?-1:1)*l*Math.pow(2,a-r)};SE.write=function(e,t,n,r,i,a){var l,c,p,v=a*8-i-1,m=(1<<v)-1,x=m>>1,E=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,C=r?0:a-1,I=r?1:-1,j=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(c=isNaN(t)?1:0,l=m):(l=Math.floor(Math.log(t)/Math.LN2),t*(p=Math.pow(2,-l))<1&&(l--,p*=2),l+x>=1?t+=E/p:t+=E*Math.pow(2,1-x),t*p>=2&&(l++,p/=2),l+x>=m?(c=0,l=m):l+x>=1?(c=(t*p-1)*Math.pow(2,i),l=l+x):(c=t*Math.pow(2,x-1)*Math.pow(2,i),l=0));i>=8;e[n+C]=c&255,C+=I,c/=256,i-=8);for(l=l<<i|c,v+=i;v>0;e[n+C]=l&255,C+=I,l/=256,v-=8);e[n+C-I]|=j*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){const t=By,n=SE,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=c,e.SlowBuffer=M,e.INSPECT_MAX_BYTES=50;const i=2147483647;e.kMaxLength=i,c.TYPED_ARRAY_SUPPORT=a(),!c.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function a(){try{const B=new Uint8Array(1),k={foo:function(){return 42}};return Object.setPrototypeOf(k,Uint8Array.prototype),Object.setPrototypeOf(B,k),B.foo()===42}catch{return!1}}Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}});function l(B){if(B>i)throw new RangeError('The value "'+B+'" is invalid for option "size"');const k=new Uint8Array(B);return Object.setPrototypeOf(k,c.prototype),k}function c(B,k,L){if(typeof B=="number"){if(typeof k=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return x(B)}return p(B,k,L)}c.poolSize=8192;function p(B,k,L){if(typeof B=="string")return E(B,k);if(ArrayBuffer.isView(B))return I(B);if(B==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof B);if(fe(B,ArrayBuffer)||B&&fe(B.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(fe(B,SharedArrayBuffer)||B&&fe(B.buffer,SharedArrayBuffer)))return j(B,k,L);if(typeof B=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const K=B.valueOf&&B.valueOf();if(K!=null&&K!==B)return c.from(K,k,L);const ie=A(B);if(ie)return ie;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof B[Symbol.toPrimitive]=="function")return c.from(B[Symbol.toPrimitive]("string"),k,L);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof B)}c.from=function(B,k,L){return p(B,k,L)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array);function v(B){if(typeof B!="number")throw new TypeError('"size" argument must be of type number');if(B<0)throw new RangeError('The value "'+B+'" is invalid for option "size"')}function m(B,k,L){return v(B),B<=0?l(B):k!==void 0?typeof L=="string"?l(B).fill(k,L):l(B).fill(k):l(B)}c.alloc=function(B,k,L){return m(B,k,L)};function x(B){return v(B),l(B<0?0:P(B)|0)}c.allocUnsafe=function(B){return x(B)},c.allocUnsafeSlow=function(B){return x(B)};function E(B,k){if((typeof k!="string"||k==="")&&(k="utf8"),!c.isEncoding(k))throw new TypeError("Unknown encoding: "+k);const L=z(B,k)|0;let K=l(L);const ie=K.write(B,k);return ie!==L&&(K=K.slice(0,ie)),K}function C(B){const k=B.length<0?0:P(B.length)|0,L=l(k);for(let K=0;K<k;K+=1)L[K]=B[K]&255;return L}function I(B){if(fe(B,Uint8Array)){const k=new Uint8Array(B);return j(k.buffer,k.byteOffset,k.byteLength)}return C(B)}function j(B,k,L){if(k<0||B.byteLength<k)throw new RangeError('"offset" is outside of buffer bounds');if(B.byteLength<k+(L||0))throw new RangeError('"length" is outside of buffer bounds');let K;return k===void 0&&L===void 0?K=new Uint8Array(B):L===void 0?K=new Uint8Array(B,k):K=new Uint8Array(B,k,L),Object.setPrototypeOf(K,c.prototype),K}function A(B){if(c.isBuffer(B)){const k=P(B.length)|0,L=l(k);return L.length===0||B.copy(L,0,0,k),L}if(B.length!==void 0)return typeof B.length!="number"||Ee(B.length)?l(0):C(B);if(B.type==="Buffer"&&Array.isArray(B.data))return C(B.data)}function P(B){if(B>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return B|0}function M(B){return+B!=B&&(B=0),c.alloc(+B)}c.isBuffer=function(k){return k!=null&&k._isBuffer===!0&&k!==c.prototype},c.compare=function(k,L){if(fe(k,Uint8Array)&&(k=c.from(k,k.offset,k.byteLength)),fe(L,Uint8Array)&&(L=c.from(L,L.offset,L.byteLength)),!c.isBuffer(k)||!c.isBuffer(L))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(k===L)return 0;let K=k.length,ie=L.length;for(let ve=0,Te=Math.min(K,ie);ve<Te;++ve)if(k[ve]!==L[ve]){K=k[ve],ie=L[ve];break}return K<ie?-1:ie<K?1:0},c.isEncoding=function(k){switch(String(k).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(k,L){if(!Array.isArray(k))throw new TypeError('"list" argument must be an Array of Buffers');if(k.length===0)return c.alloc(0);let K;if(L===void 0)for(L=0,K=0;K<k.length;++K)L+=k[K].length;const ie=c.allocUnsafe(L);let ve=0;for(K=0;K<k.length;++K){let Te=k[K];if(fe(Te,Uint8Array))ve+Te.length>ie.length?(c.isBuffer(Te)||(Te=c.from(Te)),Te.copy(ie,ve)):Uint8Array.prototype.set.call(ie,Te,ve);else if(c.isBuffer(Te))Te.copy(ie,ve);else throw new TypeError('"list" argument must be an Array of Buffers');ve+=Te.length}return ie};function z(B,k){if(c.isBuffer(B))return B.length;if(ArrayBuffer.isView(B)||fe(B,ArrayBuffer))return B.byteLength;if(typeof B!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof B);const L=B.length,K=arguments.length>2&&arguments[2]===!0;if(!K&&L===0)return 0;let ie=!1;for(;;)switch(k){case"ascii":case"latin1":case"binary":return L;case"utf8":case"utf-8":return kt(B).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L*2;case"hex":return L>>>1;case"base64":return Wt(B).length;default:if(ie)return K?-1:kt(B).length;k=(""+k).toLowerCase(),ie=!0}}c.byteLength=z;function $(B,k,L){let K=!1;if((k===void 0||k<0)&&(k=0),k>this.length||((L===void 0||L>this.length)&&(L=this.length),L<=0)||(L>>>=0,k>>>=0,L<=k))return"";for(B||(B="utf8");;)switch(B){case"hex":return Se(this,k,L);case"utf8":case"utf-8":return Z(this,k,L);case"ascii":return Ne(this,k,L);case"latin1":case"binary":return _e(this,k,L);case"base64":return J(this,k,L);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Le(this,k,L);default:if(K)throw new TypeError("Unknown encoding: "+B);B=(B+"").toLowerCase(),K=!0}}c.prototype._isBuffer=!0;function U(B,k,L){const K=B[k];B[k]=B[L],B[L]=K}c.prototype.swap16=function(){const k=this.length;if(k%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let L=0;L<k;L+=2)U(this,L,L+1);return this},c.prototype.swap32=function(){const k=this.length;if(k%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let L=0;L<k;L+=4)U(this,L,L+3),U(this,L+1,L+2);return this},c.prototype.swap64=function(){const k=this.length;if(k%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let L=0;L<k;L+=8)U(this,L,L+7),U(this,L+1,L+6),U(this,L+2,L+5),U(this,L+3,L+4);return this},c.prototype.toString=function(){const k=this.length;return k===0?"":arguments.length===0?Z(this,0,k):$.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(k){if(!c.isBuffer(k))throw new TypeError("Argument must be a Buffer");return this===k?!0:c.compare(this,k)===0},c.prototype.inspect=function(){let k="";const L=e.INSPECT_MAX_BYTES;return k=this.toString("hex",0,L).replace(/(.{2})/g,"$1 ").trim(),this.length>L&&(k+=" ... "),"<Buffer "+k+">"},r&&(c.prototype[r]=c.prototype.inspect),c.prototype.compare=function(k,L,K,ie,ve){if(fe(k,Uint8Array)&&(k=c.from(k,k.offset,k.byteLength)),!c.isBuffer(k))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof k);if(L===void 0&&(L=0),K===void 0&&(K=k?k.length:0),ie===void 0&&(ie=0),ve===void 0&&(ve=this.length),L<0||K>k.length||ie<0||ve>this.length)throw new RangeError("out of range index");if(ie>=ve&&L>=K)return 0;if(ie>=ve)return-1;if(L>=K)return 1;if(L>>>=0,K>>>=0,ie>>>=0,ve>>>=0,this===k)return 0;let Te=ve-ie,Be=K-L;const Xt=Math.min(Te,Be),Ct=this.slice(ie,ve),Qe=k.slice(L,K);for(let mt=0;mt<Xt;++mt)if(Ct[mt]!==Qe[mt]){Te=Ct[mt],Be=Qe[mt];break}return Te<Be?-1:Be<Te?1:0};function X(B,k,L,K,ie){if(B.length===0)return-1;if(typeof L=="string"?(K=L,L=0):L>2147483647?L=2147483647:L<-2147483648&&(L=-2147483648),L=+L,Ee(L)&&(L=ie?0:B.length-1),L<0&&(L=B.length+L),L>=B.length){if(ie)return-1;L=B.length-1}else if(L<0)if(ie)L=0;else return-1;if(typeof k=="string"&&(k=c.from(k,K)),c.isBuffer(k))return k.length===0?-1:V(B,k,L,K,ie);if(typeof k=="number")return k=k&255,typeof Uint8Array.prototype.indexOf=="function"?ie?Uint8Array.prototype.indexOf.call(B,k,L):Uint8Array.prototype.lastIndexOf.call(B,k,L):V(B,[k],L,K,ie);throw new TypeError("val must be string, number or Buffer")}function V(B,k,L,K,ie){let ve=1,Te=B.length,Be=k.length;if(K!==void 0&&(K=String(K).toLowerCase(),K==="ucs2"||K==="ucs-2"||K==="utf16le"||K==="utf-16le")){if(B.length<2||k.length<2)return-1;ve=2,Te/=2,Be/=2,L/=2}function Xt(Qe,mt){return ve===1?Qe[mt]:Qe.readUInt16BE(mt*ve)}let Ct;if(ie){let Qe=-1;for(Ct=L;Ct<Te;Ct++)if(Xt(B,Ct)===Xt(k,Qe===-1?0:Ct-Qe)){if(Qe===-1&&(Qe=Ct),Ct-Qe+1===Be)return Qe*ve}else Qe!==-1&&(Ct-=Ct-Qe),Qe=-1}else for(L+Be>Te&&(L=Te-Be),Ct=L;Ct>=0;Ct--){let Qe=!0;for(let mt=0;mt<Be;mt++)if(Xt(B,Ct+mt)!==Xt(k,mt)){Qe=!1;break}if(Qe)return Ct}return-1}c.prototype.includes=function(k,L,K){return this.indexOf(k,L,K)!==-1},c.prototype.indexOf=function(k,L,K){return X(this,k,L,K,!0)},c.prototype.lastIndexOf=function(k,L,K){return X(this,k,L,K,!1)};function ne(B,k,L,K){L=Number(L)||0;const ie=B.length-L;K?(K=Number(K),K>ie&&(K=ie)):K=ie;const ve=k.length;K>ve/2&&(K=ve/2);let Te;for(Te=0;Te<K;++Te){const Be=parseInt(k.substr(Te*2,2),16);if(Ee(Be))return Te;B[L+Te]=Be}return Te}function he(B,k,L,K){return ut(kt(k,B.length-L),B,L,K)}function me(B,k,L,K){return ut(Rt(k),B,L,K)}function we(B,k,L,K){return ut(Wt(k),B,L,K)}function ze(B,k,L,K){return ut($t(k,B.length-L),B,L,K)}c.prototype.write=function(k,L,K,ie){if(L===void 0)ie="utf8",K=this.length,L=0;else if(K===void 0&&typeof L=="string")ie=L,K=this.length,L=0;else if(isFinite(L))L=L>>>0,isFinite(K)?(K=K>>>0,ie===void 0&&(ie="utf8")):(ie=K,K=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const ve=this.length-L;if((K===void 0||K>ve)&&(K=ve),k.length>0&&(K<0||L<0)||L>this.length)throw new RangeError("Attempt to write outside buffer bounds");ie||(ie="utf8");let Te=!1;for(;;)switch(ie){case"hex":return ne(this,k,L,K);case"utf8":case"utf-8":return he(this,k,L,K);case"ascii":case"latin1":case"binary":return me(this,k,L,K);case"base64":return we(this,k,L,K);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ze(this,k,L,K);default:if(Te)throw new TypeError("Unknown encoding: "+ie);ie=(""+ie).toLowerCase(),Te=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function J(B,k,L){return k===0&&L===B.length?t.fromByteArray(B):t.fromByteArray(B.slice(k,L))}function Z(B,k,L){L=Math.min(B.length,L);const K=[];let ie=k;for(;ie<L;){const ve=B[ie];let Te=null,Be=ve>239?4:ve>223?3:ve>191?2:1;if(ie+Be<=L){let Xt,Ct,Qe,mt;switch(Be){case 1:ve<128&&(Te=ve);break;case 2:Xt=B[ie+1],(Xt&192)===128&&(mt=(ve&31)<<6|Xt&63,mt>127&&(Te=mt));break;case 3:Xt=B[ie+1],Ct=B[ie+2],(Xt&192)===128&&(Ct&192)===128&&(mt=(ve&15)<<12|(Xt&63)<<6|Ct&63,mt>2047&&(mt<55296||mt>57343)&&(Te=mt));break;case 4:Xt=B[ie+1],Ct=B[ie+2],Qe=B[ie+3],(Xt&192)===128&&(Ct&192)===128&&(Qe&192)===128&&(mt=(ve&15)<<18|(Xt&63)<<12|(Ct&63)<<6|Qe&63,mt>65535&&mt<1114112&&(Te=mt))}}Te===null?(Te=65533,Be=1):Te>65535&&(Te-=65536,K.push(Te>>>10&1023|55296),Te=56320|Te&1023),K.push(Te),ie+=Be}return Me(K)}const q=4096;function Me(B){const k=B.length;if(k<=q)return String.fromCharCode.apply(String,B);let L="",K=0;for(;K<k;)L+=String.fromCharCode.apply(String,B.slice(K,K+=q));return L}function Ne(B,k,L){let K="";L=Math.min(B.length,L);for(let ie=k;ie<L;++ie)K+=String.fromCharCode(B[ie]&127);return K}function _e(B,k,L){let K="";L=Math.min(B.length,L);for(let ie=k;ie<L;++ie)K+=String.fromCharCode(B[ie]);return K}function Se(B,k,L){const K=B.length;(!k||k<0)&&(k=0),(!L||L<0||L>K)&&(L=K);let ie="";for(let ve=k;ve<L;++ve)ie+=ge[B[ve]];return ie}function Le(B,k,L){const K=B.slice(k,L);let ie="";for(let ve=0;ve<K.length-1;ve+=2)ie+=String.fromCharCode(K[ve]+K[ve+1]*256);return ie}c.prototype.slice=function(k,L){const K=this.length;k=~~k,L=L===void 0?K:~~L,k<0?(k+=K,k<0&&(k=0)):k>K&&(k=K),L<0?(L+=K,L<0&&(L=0)):L>K&&(L=K),L<k&&(L=k);const ie=this.subarray(k,L);return Object.setPrototypeOf(ie,c.prototype),ie};function te(B,k,L){if(B%1!==0||B<0)throw new RangeError("offset is not uint");if(B+k>L)throw new RangeError("Trying to access beyond buffer length")}c.prototype.readUintLE=c.prototype.readUIntLE=function(k,L,K){k=k>>>0,L=L>>>0,K||te(k,L,this.length);let ie=this[k],ve=1,Te=0;for(;++Te<L&&(ve*=256);)ie+=this[k+Te]*ve;return ie},c.prototype.readUintBE=c.prototype.readUIntBE=function(k,L,K){k=k>>>0,L=L>>>0,K||te(k,L,this.length);let ie=this[k+--L],ve=1;for(;L>0&&(ve*=256);)ie+=this[k+--L]*ve;return ie},c.prototype.readUint8=c.prototype.readUInt8=function(k,L){return k=k>>>0,L||te(k,1,this.length),this[k]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(k,L){return k=k>>>0,L||te(k,2,this.length),this[k]|this[k+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(k,L){return k=k>>>0,L||te(k,2,this.length),this[k]<<8|this[k+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(k,L){return k=k>>>0,L||te(k,4,this.length),(this[k]|this[k+1]<<8|this[k+2]<<16)+this[k+3]*16777216},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(k,L){return k=k>>>0,L||te(k,4,this.length),this[k]*16777216+(this[k+1]<<16|this[k+2]<<8|this[k+3])},c.prototype.readBigUInt64LE=We(function(k){k=k>>>0,Bt(k,"offset");const L=this[k],K=this[k+7];(L===void 0||K===void 0)&&Pt(k,this.length-8);const ie=L+this[++k]*2**8+this[++k]*2**16+this[++k]*2**24,ve=this[++k]+this[++k]*2**8+this[++k]*2**16+K*2**24;return BigInt(ie)+(BigInt(ve)<<BigInt(32))}),c.prototype.readBigUInt64BE=We(function(k){k=k>>>0,Bt(k,"offset");const L=this[k],K=this[k+7];(L===void 0||K===void 0)&&Pt(k,this.length-8);const ie=L*2**24+this[++k]*2**16+this[++k]*2**8+this[++k],ve=this[++k]*2**24+this[++k]*2**16+this[++k]*2**8+K;return(BigInt(ie)<<BigInt(32))+BigInt(ve)}),c.prototype.readIntLE=function(k,L,K){k=k>>>0,L=L>>>0,K||te(k,L,this.length);let ie=this[k],ve=1,Te=0;for(;++Te<L&&(ve*=256);)ie+=this[k+Te]*ve;return ve*=128,ie>=ve&&(ie-=Math.pow(2,8*L)),ie},c.prototype.readIntBE=function(k,L,K){k=k>>>0,L=L>>>0,K||te(k,L,this.length);let ie=L,ve=1,Te=this[k+--ie];for(;ie>0&&(ve*=256);)Te+=this[k+--ie]*ve;return ve*=128,Te>=ve&&(Te-=Math.pow(2,8*L)),Te},c.prototype.readInt8=function(k,L){return k=k>>>0,L||te(k,1,this.length),this[k]&128?(255-this[k]+1)*-1:this[k]},c.prototype.readInt16LE=function(k,L){k=k>>>0,L||te(k,2,this.length);const K=this[k]|this[k+1]<<8;return K&32768?K|4294901760:K},c.prototype.readInt16BE=function(k,L){k=k>>>0,L||te(k,2,this.length);const K=this[k+1]|this[k]<<8;return K&32768?K|4294901760:K},c.prototype.readInt32LE=function(k,L){return k=k>>>0,L||te(k,4,this.length),this[k]|this[k+1]<<8|this[k+2]<<16|this[k+3]<<24},c.prototype.readInt32BE=function(k,L){return k=k>>>0,L||te(k,4,this.length),this[k]<<24|this[k+1]<<16|this[k+2]<<8|this[k+3]},c.prototype.readBigInt64LE=We(function(k){k=k>>>0,Bt(k,"offset");const L=this[k],K=this[k+7];(L===void 0||K===void 0)&&Pt(k,this.length-8);const ie=this[k+4]+this[k+5]*2**8+this[k+6]*2**16+(K<<24);return(BigInt(ie)<<BigInt(32))+BigInt(L+this[++k]*2**8+this[++k]*2**16+this[++k]*2**24)}),c.prototype.readBigInt64BE=We(function(k){k=k>>>0,Bt(k,"offset");const L=this[k],K=this[k+7];(L===void 0||K===void 0)&&Pt(k,this.length-8);const ie=(L<<24)+this[++k]*2**16+this[++k]*2**8+this[++k];return(BigInt(ie)<<BigInt(32))+BigInt(this[++k]*2**24+this[++k]*2**16+this[++k]*2**8+K)}),c.prototype.readFloatLE=function(k,L){return k=k>>>0,L||te(k,4,this.length),n.read(this,k,!0,23,4)},c.prototype.readFloatBE=function(k,L){return k=k>>>0,L||te(k,4,this.length),n.read(this,k,!1,23,4)},c.prototype.readDoubleLE=function(k,L){return k=k>>>0,L||te(k,8,this.length),n.read(this,k,!0,52,8)},c.prototype.readDoubleBE=function(k,L){return k=k>>>0,L||te(k,8,this.length),n.read(this,k,!1,52,8)};function ce(B,k,L,K,ie,ve){if(!c.isBuffer(B))throw new TypeError('"buffer" argument must be a Buffer instance');if(k>ie||k<ve)throw new RangeError('"value" argument is out of bounds');if(L+K>B.length)throw new RangeError("Index out of range")}c.prototype.writeUintLE=c.prototype.writeUIntLE=function(k,L,K,ie){if(k=+k,L=L>>>0,K=K>>>0,!ie){const Be=Math.pow(2,8*K)-1;ce(this,k,L,K,Be,0)}let ve=1,Te=0;for(this[L]=k&255;++Te<K&&(ve*=256);)this[L+Te]=k/ve&255;return L+K},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(k,L,K,ie){if(k=+k,L=L>>>0,K=K>>>0,!ie){const Be=Math.pow(2,8*K)-1;ce(this,k,L,K,Be,0)}let ve=K-1,Te=1;for(this[L+ve]=k&255;--ve>=0&&(Te*=256);)this[L+ve]=k/Te&255;return L+K},c.prototype.writeUint8=c.prototype.writeUInt8=function(k,L,K){return k=+k,L=L>>>0,K||ce(this,k,L,1,255,0),this[L]=k&255,L+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(k,L,K){return k=+k,L=L>>>0,K||ce(this,k,L,2,65535,0),this[L]=k&255,this[L+1]=k>>>8,L+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(k,L,K){return k=+k,L=L>>>0,K||ce(this,k,L,2,65535,0),this[L]=k>>>8,this[L+1]=k&255,L+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(k,L,K){return k=+k,L=L>>>0,K||ce(this,k,L,4,4294967295,0),this[L+3]=k>>>24,this[L+2]=k>>>16,this[L+1]=k>>>8,this[L]=k&255,L+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(k,L,K){return k=+k,L=L>>>0,K||ce(this,k,L,4,4294967295,0),this[L]=k>>>24,this[L+1]=k>>>16,this[L+2]=k>>>8,this[L+3]=k&255,L+4};function ye(B,k,L,K,ie){vt(k,K,ie,B,L,7);let ve=Number(k&BigInt(4294967295));B[L++]=ve,ve=ve>>8,B[L++]=ve,ve=ve>>8,B[L++]=ve,ve=ve>>8,B[L++]=ve;let Te=Number(k>>BigInt(32)&BigInt(4294967295));return B[L++]=Te,Te=Te>>8,B[L++]=Te,Te=Te>>8,B[L++]=Te,Te=Te>>8,B[L++]=Te,L}function re(B,k,L,K,ie){vt(k,K,ie,B,L,7);let ve=Number(k&BigInt(4294967295));B[L+7]=ve,ve=ve>>8,B[L+6]=ve,ve=ve>>8,B[L+5]=ve,ve=ve>>8,B[L+4]=ve;let Te=Number(k>>BigInt(32)&BigInt(4294967295));return B[L+3]=Te,Te=Te>>8,B[L+2]=Te,Te=Te>>8,B[L+1]=Te,Te=Te>>8,B[L]=Te,L+8}c.prototype.writeBigUInt64LE=We(function(k,L=0){return ye(this,k,L,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeBigUInt64BE=We(function(k,L=0){return re(this,k,L,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeIntLE=function(k,L,K,ie){if(k=+k,L=L>>>0,!ie){const Xt=Math.pow(2,8*K-1);ce(this,k,L,K,Xt-1,-Xt)}let ve=0,Te=1,Be=0;for(this[L]=k&255;++ve<K&&(Te*=256);)k<0&&Be===0&&this[L+ve-1]!==0&&(Be=1),this[L+ve]=(k/Te>>0)-Be&255;return L+K},c.prototype.writeIntBE=function(k,L,K,ie){if(k=+k,L=L>>>0,!ie){const Xt=Math.pow(2,8*K-1);ce(this,k,L,K,Xt-1,-Xt)}let ve=K-1,Te=1,Be=0;for(this[L+ve]=k&255;--ve>=0&&(Te*=256);)k<0&&Be===0&&this[L+ve+1]!==0&&(Be=1),this[L+ve]=(k/Te>>0)-Be&255;return L+K},c.prototype.writeInt8=function(k,L,K){return k=+k,L=L>>>0,K||ce(this,k,L,1,127,-128),k<0&&(k=255+k+1),this[L]=k&255,L+1},c.prototype.writeInt16LE=function(k,L,K){return k=+k,L=L>>>0,K||ce(this,k,L,2,32767,-32768),this[L]=k&255,this[L+1]=k>>>8,L+2},c.prototype.writeInt16BE=function(k,L,K){return k=+k,L=L>>>0,K||ce(this,k,L,2,32767,-32768),this[L]=k>>>8,this[L+1]=k&255,L+2},c.prototype.writeInt32LE=function(k,L,K){return k=+k,L=L>>>0,K||ce(this,k,L,4,2147483647,-2147483648),this[L]=k&255,this[L+1]=k>>>8,this[L+2]=k>>>16,this[L+3]=k>>>24,L+4},c.prototype.writeInt32BE=function(k,L,K){return k=+k,L=L>>>0,K||ce(this,k,L,4,2147483647,-2147483648),k<0&&(k=4294967295+k+1),this[L]=k>>>24,this[L+1]=k>>>16,this[L+2]=k>>>8,this[L+3]=k&255,L+4},c.prototype.writeBigInt64LE=We(function(k,L=0){return ye(this,k,L,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),c.prototype.writeBigInt64BE=We(function(k,L=0){return re(this,k,L,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function se(B,k,L,K,ie,ve){if(L+K>B.length)throw new RangeError("Index out of range");if(L<0)throw new RangeError("Index out of range")}function pe(B,k,L,K,ie){return k=+k,L=L>>>0,ie||se(B,k,L,4),n.write(B,k,L,K,23,4),L+4}c.prototype.writeFloatLE=function(k,L,K){return pe(this,k,L,!0,K)},c.prototype.writeFloatBE=function(k,L,K){return pe(this,k,L,!1,K)};function Ce(B,k,L,K,ie){return k=+k,L=L>>>0,ie||se(B,k,L,8),n.write(B,k,L,K,52,8),L+8}c.prototype.writeDoubleLE=function(k,L,K){return Ce(this,k,L,!0,K)},c.prototype.writeDoubleBE=function(k,L,K){return Ce(this,k,L,!1,K)},c.prototype.copy=function(k,L,K,ie){if(!c.isBuffer(k))throw new TypeError("argument should be a Buffer");if(K||(K=0),!ie&&ie!==0&&(ie=this.length),L>=k.length&&(L=k.length),L||(L=0),ie>0&&ie<K&&(ie=K),ie===K||k.length===0||this.length===0)return 0;if(L<0)throw new RangeError("targetStart out of bounds");if(K<0||K>=this.length)throw new RangeError("Index out of range");if(ie<0)throw new RangeError("sourceEnd out of bounds");ie>this.length&&(ie=this.length),k.length-L<ie-K&&(ie=k.length-L+K);const ve=ie-K;return this===k&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(L,K,ie):Uint8Array.prototype.set.call(k,this.subarray(K,ie),L),ve},c.prototype.fill=function(k,L,K,ie){if(typeof k=="string"){if(typeof L=="string"?(ie=L,L=0,K=this.length):typeof K=="string"&&(ie=K,K=this.length),ie!==void 0&&typeof ie!="string")throw new TypeError("encoding must be a string");if(typeof ie=="string"&&!c.isEncoding(ie))throw new TypeError("Unknown encoding: "+ie);if(k.length===1){const Te=k.charCodeAt(0);(ie==="utf8"&&Te<128||ie==="latin1")&&(k=Te)}}else typeof k=="number"?k=k&255:typeof k=="boolean"&&(k=Number(k));if(L<0||this.length<L||this.length<K)throw new RangeError("Out of range index");if(K<=L)return this;L=L>>>0,K=K===void 0?this.length:K>>>0,k||(k=0);let ve;if(typeof k=="number")for(ve=L;ve<K;++ve)this[ve]=k;else{const Te=c.isBuffer(k)?k:c.from(k,ie),Be=Te.length;if(Be===0)throw new TypeError('The value "'+k+'" is invalid for argument "value"');for(ve=0;ve<K-L;++ve)this[ve+L]=Te[ve%Be]}return this};const Ae={};function He(B,k,L){Ae[B]=class extends L{constructor(){super(),Object.defineProperty(this,"message",{value:k.apply(this,arguments),writable:!0,configurable:!0}),this.name="".concat(this.name," [").concat(B,"]"),this.stack,delete this.name}get code(){return B}set code(ie){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ie,writable:!0})}toString(){return"".concat(this.name," [").concat(B,"]: ").concat(this.message)}}}He("ERR_BUFFER_OUT_OF_BOUNDS",function(B){return B?"".concat(B," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),He("ERR_INVALID_ARG_TYPE",function(B,k){return'The "'.concat(B,'" argument must be of type number. Received type ').concat(typeof k)},TypeError),He("ERR_OUT_OF_RANGE",function(B,k,L){let K='The value of "'.concat(B,'" is out of range.'),ie=L;return Number.isInteger(L)&&Math.abs(L)>2**32?ie=tt(String(L)):typeof L=="bigint"&&(ie=String(L),(L>BigInt(2)**BigInt(32)||L<-(BigInt(2)**BigInt(32)))&&(ie=tt(ie)),ie+="n"),K+=" It must be ".concat(k,". Received ").concat(ie),K},RangeError);function tt(B){let k="",L=B.length;const K=B[0]==="-"?1:0;for(;L>=K+4;L-=3)k="_".concat(B.slice(L-3,L)).concat(k);return"".concat(B.slice(0,L)).concat(k)}function Ye(B,k,L){Bt(k,"offset"),(B[k]===void 0||B[k+L]===void 0)&&Pt(k,B.length-(L+1))}function vt(B,k,L,K,ie,ve){if(B>L||B<k){const Te=typeof k=="bigint"?"n":"";let Be;throw ve>3?k===0||k===BigInt(0)?Be=">= 0".concat(Te," and < 2").concat(Te," ** ").concat((ve+1)*8).concat(Te):Be=">= -(2".concat(Te," ** ").concat((ve+1)*8-1).concat(Te,") and < 2 ** ")+"".concat((ve+1)*8-1).concat(Te):Be=">= ".concat(k).concat(Te," and <= ").concat(L).concat(Te),new Ae.ERR_OUT_OF_RANGE("value",Be,B)}Ye(K,ie,ve)}function Bt(B,k){if(typeof B!="number")throw new Ae.ERR_INVALID_ARG_TYPE(k,"number",B)}function Pt(B,k,L){throw Math.floor(B)!==B?(Bt(B,L),new Ae.ERR_OUT_OF_RANGE(L||"offset","an integer",B)):k<0?new Ae.ERR_BUFFER_OUT_OF_BOUNDS:new Ae.ERR_OUT_OF_RANGE(L||"offset",">= ".concat(L?1:0," and <= ").concat(k),B)}const rt=/[^+/0-9A-Za-z-_]/g;function pt(B){if(B=B.split("=")[0],B=B.trim().replace(rt,""),B.length<2)return"";for(;B.length%4!==0;)B=B+"=";return B}function kt(B,k){k=k||1/0;let L;const K=B.length;let ie=null;const ve=[];for(let Te=0;Te<K;++Te){if(L=B.charCodeAt(Te),L>55295&&L<57344){if(!ie){if(L>56319){(k-=3)>-1&&ve.push(239,191,189);continue}else if(Te+1===K){(k-=3)>-1&&ve.push(239,191,189);continue}ie=L;continue}if(L<56320){(k-=3)>-1&&ve.push(239,191,189),ie=L;continue}L=(ie-55296<<10|L-56320)+65536}else ie&&(k-=3)>-1&&ve.push(239,191,189);if(ie=null,L<128){if((k-=1)<0)break;ve.push(L)}else if(L<2048){if((k-=2)<0)break;ve.push(L>>6|192,L&63|128)}else if(L<65536){if((k-=3)<0)break;ve.push(L>>12|224,L>>6&63|128,L&63|128)}else if(L<1114112){if((k-=4)<0)break;ve.push(L>>18|240,L>>12&63|128,L>>6&63|128,L&63|128)}else throw new Error("Invalid code point")}return ve}function Rt(B){const k=[];for(let L=0;L<B.length;++L)k.push(B.charCodeAt(L)&255);return k}function $t(B,k){let L,K,ie;const ve=[];for(let Te=0;Te<B.length&&!((k-=2)<0);++Te)L=B.charCodeAt(Te),K=L>>8,ie=L%256,ve.push(ie),ve.push(K);return ve}function Wt(B){return t.toByteArray(pt(B))}function ut(B,k,L,K){let ie;for(ie=0;ie<K&&!(ie+L>=k.length||ie>=B.length);++ie)k[ie+L]=B[ie];return ie}function fe(B,k){return B instanceof k||B!=null&&B.constructor!=null&&B.constructor.name!=null&&B.constructor.name===k.name}function Ee(B){return B!==B}const ge=function(){const B="0123456789abcdef",k=new Array(256);for(let L=0;L<16;++L){const K=L*16;for(let ie=0;ie<16;++ie)k[K+ie]=B[L]+B[ie]}return k}();function We(B){return typeof BigInt>"u"?Lt:B}function Lt(){throw new Error("BigInt not supported")}})(bP);var SP={exports:{}},zn=SP.exports={},wa,xa;function Nx(){throw new Error("setTimeout has not been defined")}function Ix(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?wa=setTimeout:wa=Nx}catch{wa=Nx}try{typeof clearTimeout=="function"?xa=clearTimeout:xa=Ix}catch{xa=Ix}})();function CP(e){if(wa===setTimeout)return setTimeout(e,0);if((wa===Nx||!wa)&&setTimeout)return wa=setTimeout,setTimeout(e,0);try{return wa(e,0)}catch{try{return wa.call(null,e,0)}catch{return wa.call(this,e,0)}}}function W6(e){if(xa===clearTimeout)return clearTimeout(e);if((xa===Ix||!xa)&&clearTimeout)return xa=clearTimeout,clearTimeout(e);try{return xa(e)}catch{try{return xa.call(null,e)}catch{return xa.call(this,e)}}}var _s=[],Df=!1,Wu,mm=-1;function K6(){!Df||!Wu||(Df=!1,Wu.length?_s=Wu.concat(_s):mm=-1,_s.length&&TP())}function TP(){if(!Df){var e=CP(K6);Df=!0;for(var t=_s.length;t;){for(Wu=_s,_s=[];++mm<t;)Wu&&Wu[mm].run();mm=-1,t=_s.length}Wu=null,Df=!1,W6(e)}}zn.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];_s.push(new kP(e,t)),_s.length===1&&!Df&&CP(TP)};function kP(e,t){this.fun=e,this.array=t}kP.prototype.run=function(){this.fun.apply(null,this.array)};zn.title="browser";zn.browser=!0;zn.env={};zn.argv=[];zn.version="";zn.versions={};function Rs(){}zn.on=Rs;zn.addListener=Rs;zn.once=Rs;zn.off=Rs;zn.removeListener=Rs;zn.removeAllListeners=Rs;zn.emit=Rs;zn.prependListener=Rs;zn.prependOnceListener=Rs;zn.listeners=function(e){return[]};zn.binding=function(e){throw new Error("process.binding is not supported")};zn.cwd=function(){return"/"};zn.chdir=function(e){throw new Error("process.chdir is not supported")};zn.umask=function(){return 0};var G6=SP.exports;(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bP,n=G6,r=l=>l&&l.__esModule?l:{default:l},i=r(n),a=globalThis||void 0||self;Object.defineProperty(e,"Buffer",{enumerable:!0,get:()=>t.Buffer}),Object.defineProperty(e,"process",{enumerable:!0,get:()=>i.default}),e.global=a})(yr);function q6(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Rx={exports:{}},Iv={exports:{}},ek;function X6(){return ek||(ek=1,function(e,t){var n=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof r<"u")return r;throw new Error("unable to locate global object")},r=n();e.exports=t=r.fetch,r.fetch&&(t.default=r.fetch.bind(r)),t.Headers=r.Headers,t.Request=r.Request,t.Response=r.Response}(Iv,Iv.exports)),Iv.exports}(function(e,t){var n;if(typeof fetch=="function"&&(typeof An<"u"&&An.fetch?n=An.fetch:typeof window<"u"&&window.fetch&&(n=window.fetch)),typeof q6<"u"&&(typeof window>"u"||typeof window.document>"u")){var r=n||X6();r.default&&(r=r.default),t.default=r,e.exports=t.default}})(Rx,Rx.exports);var _P=Rx.exports;const OP=Tn(_P),tk=kj({__proto__:null,default:OP},[_P]);function Gh(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Gh=function(n){return typeof n}:Gh=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Gh(e)}var $l;typeof fetch=="function"&&(typeof yr.global<"u"&&yr.global.fetch?$l=yr.global.fetch:typeof window<"u"&&window.fetch&&($l=window.fetch));var fp;xP&&(typeof yr.global<"u"&&yr.global.XMLHttpRequest?fp=yr.global.XMLHttpRequest:typeof window<"u"&&window.XMLHttpRequest&&(fp=window.XMLHttpRequest));var ry;typeof ActiveXObject=="function"&&(typeof yr.global<"u"&&yr.global.ActiveXObject?ry=yr.global.ActiveXObject:typeof window<"u"&&window.ActiveXObject&&(ry=window.ActiveXObject));!$l&&tk&&!fp&&!ry&&($l=OP||tk);typeof $l!="function"&&($l=void 0);var Mx=function(t,n){if(n&&Gh(n)==="object"){var r="";for(var i in n)r+="&"+encodeURIComponent(i)+"="+encodeURIComponent(n[i]);if(!r)return t;t=t+(t.indexOf("?")!==-1?"&":"?")+r.slice(1)}return t},V6=function(t,n,r,i){t.queryStringParams&&(n=Mx(n,t.queryStringParams));var a=Ax({},typeof t.customHeaders=="function"?t.customHeaders():t.customHeaders);r&&(a["Content-Type"]="application/json"),$l(n,Ax({method:r?"POST":"GET",body:r?t.stringify(r):void 0,headers:a},typeof t.requestOptions=="function"?t.requestOptions(r):t.requestOptions)).then(function(l){if(!l.ok)return i(l.statusText||"Error",{status:l.status});l.text().then(function(c){i(null,{status:l.status,data:c})}).catch(i)}).catch(i)},Y6=function(t,n,r,i){r&&Gh(r)==="object"&&(r=Mx("",r).slice(1)),t.queryStringParams&&(n=Mx(n,t.queryStringParams));try{var a;fp?a=new fp:a=new ry("MSXML2.XMLHTTP.3.0"),a.open(r?"POST":"GET",n,1),t.crossDomain||a.setRequestHeader("X-Requested-With","XMLHttpRequest"),a.withCredentials=!!t.withCredentials,r&&a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.overrideMimeType&&a.overrideMimeType("application/json");var l=t.customHeaders;if(l=typeof l=="function"?l():l,l)for(var c in l)a.setRequestHeader(c,l[c]);a.onreadystatechange=function(){a.readyState>3&&i(a.status>=400?a.statusText:null,{status:a.status,data:a.responseText})},a.send(r)}catch(p){console&&console.log(p)}},Q6=function(t,n,r,i){if(typeof r=="function"&&(i=r,r=void 0),i=i||function(){},$l)return V6(t,n,r,i);if(xP||typeof ActiveXObject=="function")return Y6(t,n,r,i)};function Z6(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nk(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function J6(e,t,n){return t&&nk(e.prototype,t),n&&nk(e,n),e}function eU(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var tU=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",allowMultiLoading:!1,parse:function(n){return JSON.parse(n)},stringify:JSON.stringify,parsePayload:function(n,r,i){return eU({},r,i||"")},request:Q6,reloadInterval:typeof window<"u"?!1:60*60*1e3,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},LP=function(){function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Z6(this,e),this.services=t,this.options=n,this.allOptions=r,this.type="backend",this.init(t,n,r)}return J6(e,[{key:"init",value:function(n){var r=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=n,this.options=Ax(i,this.options||{},tU()),this.allOptions=a,this.services&&this.options.reloadInterval&&setInterval(function(){return r.reload()},this.options.reloadInterval)}},{key:"readMulti",value:function(n,r,i){var a=this.options.loadPath;typeof this.options.loadPath=="function"&&(a=this.options.loadPath(n,r));var l=this.services.interpolator.interpolate(a,{lng:n.join("+"),ns:r.join("+")});this.loadUrl(l,i,n,r)}},{key:"read",value:function(n,r,i){var a=this.options.loadPath;typeof this.options.loadPath=="function"&&(a=this.options.loadPath([n],[r]));var l=this.services.interpolator.interpolate(a,{lng:n,ns:r});this.loadUrl(l,i,n,r)}},{key:"loadUrl",value:function(n,r,i,a){var l=this;this.options.request(this.options,n,void 0,function(c,p){if(p&&(p.status>=500&&p.status<600||!p.status))return r("failed loading "+n+"; status code: "+p.status,!0);if(p&&p.status>=400&&p.status<500)return r("failed loading "+n+"; status code: "+p.status,!1);if(!p&&c&&c.message&&c.message.indexOf("Failed to fetch")>-1)return r("failed loading "+n+": "+c.message,!0);if(c)return r(c,!1);var v,m;try{typeof p.data=="string"?v=l.options.parse(p.data,i,a):v=p.data}catch{m="failed parsing "+n+" to json"}if(m)return r(m,!1);r(null,v)})}},{key:"create",value:function(n,r,i,a,l){var c=this;if(this.options.addPath){typeof n=="string"&&(n=[n]);var p=this.options.parsePayload(r,i,a),v=0,m=[],x=[];n.forEach(function(E){var C=c.options.addPath;typeof c.options.addPath=="function"&&(C=c.options.addPath(E,r));var I=c.services.interpolator.interpolate(C,{lng:E,ns:r});c.options.request(c.options,I,p,function(j,A){v+=1,m.push(j),x.push(A),v===n.length&&l&&l(m,x)})})}}},{key:"reload",value:function(){var n=this,r=this.services,i=r.backendConnector,a=r.languageUtils,l=r.logger,c=i.language;if(!(c&&c.toLowerCase()==="cimode")){var p=[],v=function(x){var E=a.toResolveHierarchy(x);E.forEach(function(C){p.indexOf(C)<0&&p.push(C)})};v(c),this.allOptions.preload&&this.allOptions.preload.forEach(function(m){return v(m)}),p.forEach(function(m){n.allOptions.ns.forEach(function(x){i.read(m,x,"read",null,null,function(E,C){E&&l.warn("loading namespace ".concat(x," for language ").concat(m," failed"),E),!E&&C&&l.log("loaded namespace ".concat(x," for language ").concat(m),C),i.loaded("".concat(m,"|").concat(x),E,C)})})})}}}]),e}();LP.type="backend";const qp=I6.createInstance();qp.use(LP).use(D4).init({debug:!1,backend:{loadPath:"./locales/{{lng}}.json"},fallbackLng:"en-us",interpolation:{escapeValue:!1},load:"currentOnly"});const Wl=()=>({height:100,highlighted:!1,left:0,name:qp.t("store.passageDefaults.name"),selected:!1,tags:[],text:"",top:0,width:100}),id=()=>({ifid:"",lastUpdate:new Date,passages:[],name:qp.t("store.storyDefaults.name"),script:"",selected:!1,snapToGrid:!0,startPassage:"",storyFormat:"",storyFormatVersion:"",stylesheet:"",tags:[],tagColors:{},zoom:1});function rk(e){return e*e}function Yw(e,t){return rk(e[0]-t[0])+rk(e[1]-t[1])}function nU(e,t,n){const r=Yw(t,n);if(r===0)return Yw(e,t);let i=((e[0]-t[0])*(n[0]-t[0])+(e[1]-t[1])*(n[1]-t[1]))/r;return i=Math.max(0,Math.min(1,i)),Yw(e,[t[0]+i*(n[0]-t[0]),t[1]+i*(n[1]-t[1])])}function Rv(e,t,n){return Math.sqrt(nU(e,t,n))<1}const ik=0,PP=1,rU=2;function iU(e,t,n,r,i){let a=t[0],l=t[1],c=n[0],p=n[1],v=r[0],m=r[1],x=i[0],E=i[1],C,I,j,A,P,M,z,$,U,X,V,ne,he;return C=p-l,j=a-c,P=c*l-a*p,U=C*v+j*m+P,X=C*x+j*E+P,U!==0&&X!==0&&(U>=0&&X>=0||U<0&&X<0)||(I=E-m,A=v-x,M=x*m-v*E,z=I*a+A*l+M,$=I*c+A*p+M,z!==0&&$!==0&&(z>=0&&$>=0||z<0&&$<0))?ik:(V=C*A-I*j,V===0?rU:(ne=j*M-A*P,he=I*P-C*M,e[0]=(ne<0,ne/V),e[1]=(he<0,he/V),PP))}function Mv(e,t,n,r,i){const a=iU(e,t,n,r,i);return a===PP?a:Rv(t,r,i)?(e[0]=t[0],e[1]=t[1],!0):Rv(n,r,i)?(e[0]=n[0],e[1]=n[1],!0):Rv(r,t,n)?(e[0]=r[0],e[1]=r[1],!0):Rv(i,t,n)?(e[0]=i[0],e[1]=i[1],!0):!1}function oU(e,t){return Math.atan2(t.top-e.top,t.left-e.left)*180/Math.PI}function aU(e,t){return Math.hypot(e.left-t.left,e.top-t.top)}function ok(e){return{left:e.left+e.width/2,top:e.top+e.height/2}}function Qw(e,t){const n={height:0,left:0,top:0,width:0};return e.left<t.left?(n.left=e.left,n.width=t.left-e.left):(n.left=t.left,n.width=e.left-t.left),e.top<t.top?(n.top=e.top,n.height=t.top-e.top):(n.top=t.top,n.height=e.top-t.top),n}function zy(e,t){return!(t.left>e.left+e.width||t.left+t.width<e.left||t.top>e.top+e.height||t.top+t.height<e.top)}function ak(e,t,n){let r=[NaN,NaN];return Mv(r,[e.left,e.top],[e.left,e.top+e.height],[t.left,t.top],[n.left,n.top])?{left:r[0],top:r[1]}:Mv(r,[e.left+e.width,e.top],[e.left+e.width,e.top+e.height],[t.left,t.top],[n.left,n.top])?{left:r[0],top:r[1]}:Mv(r,[e.left,e.top],[e.left+e.width,e.top],[t.left,t.top],[n.left,n.top])?{left:r[0],top:r[1]}:Mv(r,[e.left,e.top+e.height],[e.left+e.width,e.top+e.height],[t.left,t.top],[n.left,n.top])?{left:r[0],top:r[1]}:null}function sU(e){if(e.length===0)throw new Error("Can't calculate bounding rect for 0 rects");let t=e[0].left,n=e[0].left+e[0].width,r=e[0].top,i=e[0].top+e[0].height;for(let a=1;a<e.length;a++){const l=e[a].left+e[a].width,c=e[a].top+e[a].height;e[a].left<t&&(t=e[a].left),e[a].top<r&&(r=e[a].top),l>n&&(n=l),c>i&&(i=c)}return{left:t,top:r,height:i-r,width:n-t}}var lU=fc,uU=lU(Object,"create"),Hy=uU,sk=Hy;function cU(){this.__data__=sk?sk(null):{},this.size=0}var fU=cU;function dU(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var hU=dU,pU=Hy,gU="__lodash_hash_undefined__",vU=Object.prototype,mU=vU.hasOwnProperty;function yU(e){var t=this.__data__;if(pU){var n=t[e];return n===gU?void 0:n}return mU.call(t,e)?t[e]:void 0}var wU=yU,xU=Hy,bU=Object.prototype,EU=bU.hasOwnProperty;function SU(e){var t=this.__data__;return xU?t[e]!==void 0:EU.call(t,e)}var CU=SU,TU=Hy,kU="__lodash_hash_undefined__";function _U(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=TU&&t===void 0?kU:t,this}var OU=_U,LU=fU,PU=hU,AU=wU,NU=CU,IU=OU;function od(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}od.prototype.clear=LU;od.prototype.delete=PU;od.prototype.get=AU;od.prototype.has=NU;od.prototype.set=IU;var RU=od;function MU(){this.__data__=[],this.size=0}var FU=MU,jU=jy;function $U(e,t){for(var n=e.length;n--;)if(jU(e[n][0],t))return n;return-1}var Uy=$U,DU=Uy,BU=Array.prototype,zU=BU.splice;function HU(e){var t=this.__data__,n=DU(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():zU.call(t,n,1),--this.size,!0}var UU=HU,WU=Uy;function KU(e){var t=this.__data__,n=WU(t,e);return n<0?void 0:t[n][1]}var GU=KU,qU=Uy;function XU(e){return qU(this.__data__,e)>-1}var VU=XU,YU=Uy;function QU(e,t){var n=this.__data__,r=YU(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var ZU=QU,JU=FU,eW=UU,tW=GU,nW=VU,rW=ZU;function ad(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ad.prototype.clear=JU;ad.prototype.delete=eW;ad.prototype.get=tW;ad.prototype.has=nW;ad.prototype.set=rW;var Wy=ad,iW=fc,oW=Is,aW=iW(oW,"Map"),CE=aW,lk=RU,sW=Wy,lW=CE;function uW(){this.size=0,this.__data__={hash:new lk,map:new(lW||sW),string:new lk}}var cW=uW;function fW(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var dW=fW,hW=dW;function pW(e,t){var n=e.__data__;return hW(t)?n[typeof t=="string"?"string":"hash"]:n.map}var Ky=pW,gW=Ky;function vW(e){var t=gW(this,e).delete(e);return this.size-=t?1:0,t}var mW=vW,yW=Ky;function wW(e){return yW(this,e).get(e)}var xW=wW,bW=Ky;function EW(e){return bW(this,e).has(e)}var SW=EW,CW=Ky;function TW(e,t){var n=CW(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var kW=TW,_W=cW,OW=mW,LW=xW,PW=SW,AW=kW;function sd(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}sd.prototype.clear=_W;sd.prototype.delete=OW;sd.prototype.get=LW;sd.prototype.has=PW;sd.prototype.set=AW;var TE=sd,NW="__lodash_hash_undefined__";function IW(e){return this.__data__.set(e,NW),this}var RW=IW;function MW(e){return this.__data__.has(e)}var FW=MW,jW=TE,$W=RW,DW=FW;function iy(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new jW;++t<n;)this.add(e[t])}iy.prototype.add=iy.prototype.push=$W;iy.prototype.has=DW;var AP=iy;function BW(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1}var zW=BW;function HW(e){return e!==e}var UW=HW;function WW(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}var KW=WW,GW=zW,qW=UW,XW=KW;function VW(e,t,n){return t===t?XW(e,t,n):GW(e,qW,n)}var YW=VW,QW=YW;function ZW(e,t){var n=e==null?0:e.length;return!!n&&QW(e,t,0)>-1}var JW=ZW;function e8(e,t,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}var t8=e8;function n8(e,t){return e.has(t)}var NP=n8,r8=fc,i8=Is,o8=r8(i8,"Set"),IP=o8;function a8(){}var s8=a8;function l8(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var kE=l8,Zw=IP,u8=s8,c8=kE,f8=1/0,d8=Zw&&1/c8(new Zw([,-0]))[1]==f8?function(e){return new Zw(e)}:u8,h8=d8,p8=AP,g8=JW,v8=t8,m8=NP,y8=h8,w8=kE,x8=200;function b8(e,t,n){var r=-1,i=g8,a=e.length,l=!0,c=[],p=c;if(n)l=!1,i=v8;else if(a>=x8){var v=t?null:y8(e);if(v)return w8(v);l=!1,i=m8,p=new p8}else p=t?[]:c;e:for(;++r<a;){var m=e[r],x=t?t(m):m;if(m=n||m!==0?m:0,l&&x===x){for(var E=p.length;E--;)if(p[E]===x)continue e;t&&p.push(x),c.push(m)}else i(p,x,n)||(p!==c&&p.push(x),c.push(m))}return c}var E8=b8,S8=E8;function C8(e){return e&&e.length?S8(e):[]}var T8=C8;const RP=Tn(T8),k8=e=>e.match(/\[\[.*?\]\]/g)||[],_8=e=>!/^\w+:\/\/\/?\w/i.test(e),O8=e=>e!=="",L8=e=>{const t=ym(e,"][",0);return t!=null?t:e},P8=e=>e.substr(2,e.length-4),ym=(e,t,n)=>{const r=e.split(t);if(r.length!==1)return n<0?r[r.length+n]:r[n]},A8=e=>ym(e,"->",-1)||ym(e,"<-",0)||ym(e,"|",-1)||e;function Ju(e,t){let n=RP(k8(e).map(P8).map(L8).map(A8).filter(O8));return t&&(n=n.filter(_8)),n}function N8(e,t,n,r){if(!e.passages.some(i=>i.id===t.id))throw new Error("This passage does not belong to this story.");return i=>{const a=Ju(r),l=Ju(n).filter(C=>!a.includes(C)&&!e.passages.some(I=>I.name===C));if(l.length===0)return;const c=Wl(),p=25;let v=t.top+t.height+p;const m=l.length*c.width+(l.length-1)*p;let x=t.left+(t.width-m)/2;const E=()=>e.passages.some(C=>zy(C,{left:x,top:v,height:c.height,width:m}));for(;E()&&(x+=c.width+p,!(!E()||(x-=2*(c.width+p),!E())));)x+=c.width+p,v+=c.height+p;i({type:"createPassages",storyId:e.id,props:l.map(C=>{const I={left:x,name:C,top:v};return x+=c.width+p,I})})}}function I8(e,t,n){const r=pn();if(n.name.trim()==="")throw new Error("Story name cannot be empty");if(e.some(i=>i.name.toLowerCase()===n.name.toLowerCase()))throw new Error('There is already a story named "'.concat(n.name,'"'));return i=>(i({type:"createStory",props:{id:r,storyFormat:t.storyFormat.name,storyFormatVersion:t.storyFormat.version,...n}}),r)}function dp(e,t){if(t.includes(e)){let n=1;for(;t.includes("".concat(e," ").concat(n));)n++;return"".concat(e," ").concat(n)}return e}function MP(e,t,n){if(!Number.isFinite(t)||!Number.isFinite(n))throw new Error("Center must be a finite coordinate pair");const r=Wl(),i=dp(r.name,e.passages.map(p=>p.name)),a=25,l={height:r.height,left:Math.max(t-r.width/2,0),top:Math.max(n-r.height/2,0),width:r.width};e.snapToGrid&&(l.left=Math.round(l.left/a)*a,l.top=Math.round(l.top/a)*a);const c=()=>e.passages.some(p=>zy(p,l));for(;c()&&(l.left+=l.width+a,!(!c()||(l.left-=l.width+a,l.top+=l.height+a,!c())));){if(l.left>=l.width+a){if(l.left-=l.width+a,!c())break;l.left+=l.width+a}l.top+=l.height+a}return{type:"createPassage",storyId:e.id,props:{...l,story:e.id,name:i}}}function R8(e,t){return{type:"deletePassages",storyId:e.id,passageIds:t.map(n=>n.id)}}function M8(e){return{type:"deleteStory",storyId:e.id}}function F8(e,t){const n=pn();return{type:"createStory",props:{...e,id:n,ifid:pn(),name:dp(e.name,t.map(r=>r.name)),passages:e.passages.map(r=>({...r,id:pn(),story:n}))}}}function j8(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var FP=j8,$8=Up,D8=Gp,B8="[object Symbol]";function z8(e){return typeof e=="symbol"||D8(e)&&$8(e)==B8}var Gy=z8,uk=Hp,H8=FP,U8=ja,W8=Gy,K8=1/0,ck=uk?uk.prototype:void 0,fk=ck?ck.toString:void 0;function jP(e){if(typeof e=="string")return e;if(U8(e))return H8(e,jP)+"";if(W8(e))return fk?fk.call(e):"";var t=e+"";return t=="0"&&1/e==-K8?"-0":t}var G8=jP,q8=G8;function X8(e){return e==null?"":q8(e)}var _E=X8,V8=_E,$P=/[\\^$.*+?()[\]{}|]/g,Y8=RegExp($P.source);function Q8(e){return e=V8(e),e&&Y8.test(e)?e.replace($P,"\\$&"):e}var Z8=Q8;const DP=Tn(Z8);function BP(e,t){return new RegExp(t.useRegexes?e:DP(e),t.matchCase?"g":"gi")}function J8(e){return e.replace(/\$/g,"$$$$")}function As(e){return Array.isArray?Array.isArray(e):UP(e)==="[object Array]"}const e5=1/0;function t5(e){if(typeof e=="string")return e;let t=e+"";return t=="0"&&1/e==-e5?"-0":t}function n5(e){return e==null?"":t5(e)}function ka(e){return typeof e=="string"}function zP(e){return typeof e=="number"}function r5(e){return e===!0||e===!1||i5(e)&&UP(e)=="[object Boolean]"}function HP(e){return typeof e=="object"}function i5(e){return HP(e)&&e!==null}function Fi(e){return e!=null}function Jw(e){return!e.trim().length}function UP(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const o5="Incorrect 'index' type",a5=e=>"Invalid value for key ".concat(e),s5=e=>"Pattern length exceeds max of ".concat(e,"."),l5=e=>"Missing ".concat(e," property in key"),u5=e=>"Property 'weight' in key '".concat(e,"' must be a positive integer"),dk=Object.prototype.hasOwnProperty;class c5{constructor(t){this._keys=[],this._keyMap={};let n=0;t.forEach(r=>{let i=WP(r);n+=i.weight,this._keys.push(i),this._keyMap[i.id]=i,n+=i.weight}),this._keys.forEach(r=>{r.weight/=n})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function WP(e){let t=null,n=null,r=null,i=1,a=null;if(ka(e)||As(e))r=e,t=hk(e),n=Fx(e);else{if(!dk.call(e,"name"))throw new Error(l5("name"));const l=e.name;if(r=l,dk.call(e,"weight")&&(i=e.weight,i<=0))throw new Error(u5(l));t=hk(l),n=Fx(l),a=e.getFn}return{path:t,id:n,weight:i,src:r,getFn:a}}function hk(e){return As(e)?e:e.split(".")}function Fx(e){return As(e)?e.join("."):e}function f5(e,t){let n=[],r=!1;const i=(a,l,c)=>{if(Fi(a))if(!l[c])n.push(a);else{let p=l[c];const v=a[p];if(!Fi(v))return;if(c===l.length-1&&(ka(v)||zP(v)||r5(v)))n.push(n5(v));else if(As(v)){r=!0;for(let m=0,x=v.length;m<x;m+=1)i(v[m],l,c+1)}else l.length&&i(v,l,c+1)}};return i(e,ka(t)?t.split("."):t,0),r?n:n[0]}const d5={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},h5={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1},p5={location:0,threshold:.6,distance:100},g5={useExtendedSearch:!1,getFn:f5,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var Et={...h5,...d5,...p5,...g5};const v5=/[^ ]+/g;function m5(e=1,t=3){const n=new Map,r=Math.pow(10,t);return{get(i){const a=i.match(v5).length;if(n.has(a))return n.get(a);const l=1/Math.pow(a,.5*e),c=parseFloat(Math.round(l*r)/r);return n.set(a,c),c},clear(){n.clear()}}}class OE{constructor({getFn:t=Et.getFn,fieldNormWeight:n=Et.fieldNormWeight}={}){this.norm=m5(n,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((n,r)=>{this._keysMap[n.id]=r})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,ka(this.docs[0])?this.docs.forEach((t,n)=>{this._addString(t,n)}):this.docs.forEach((t,n)=>{this._addObject(t,n)}),this.norm.clear())}add(t){const n=this.size();ka(t)?this._addString(t,n):this._addObject(t,n)}removeAt(t){this.records.splice(t,1);for(let n=t,r=this.size();n<r;n+=1)this.records[n].i-=1}getValueForItemAtKeyId(t,n){return t[this._keysMap[n]]}size(){return this.records.length}_addString(t,n){if(!Fi(t)||Jw(t))return;let r={v:t,i:n,n:this.norm.get(t)};this.records.push(r)}_addObject(t,n){let r={i:n,$:{}};this.keys.forEach((i,a)=>{let l=i.getFn?i.getFn(t):this.getFn(t,i.path);if(Fi(l)){if(As(l)){let c=[];const p=[{nestedArrIndex:-1,value:l}];for(;p.length;){const{nestedArrIndex:v,value:m}=p.pop();if(Fi(m))if(ka(m)&&!Jw(m)){let x={v:m,i:v,n:this.norm.get(m)};c.push(x)}else As(m)&&m.forEach((x,E)=>{p.push({nestedArrIndex:E,value:x})})}r.$[a]=c}else if(ka(l)&&!Jw(l)){let c={v:l,n:this.norm.get(l)};r.$[a]=c}}}),this.records.push(r)}toJSON(){return{keys:this.keys,records:this.records}}}function KP(e,t,{getFn:n=Et.getFn,fieldNormWeight:r=Et.fieldNormWeight}={}){const i=new OE({getFn:n,fieldNormWeight:r});return i.setKeys(e.map(WP)),i.setSources(t),i.create(),i}function y5(e,{getFn:t=Et.getFn,fieldNormWeight:n=Et.fieldNormWeight}={}){const{keys:r,records:i}=e,a=new OE({getFn:t,fieldNormWeight:n});return a.setKeys(r),a.setIndexRecords(i),a}function Fv(e,{errors:t=0,currentLocation:n=0,expectedLocation:r=0,distance:i=Et.distance,ignoreLocation:a=Et.ignoreLocation}={}){const l=t/e.length;if(a)return l;const c=Math.abs(r-n);return i?l+c/i:c?1:l}function w5(e=[],t=Et.minMatchCharLength){let n=[],r=-1,i=-1,a=0;for(let l=e.length;a<l;a+=1){let c=e[a];c&&r===-1?r=a:!c&&r!==-1&&(i=a-1,i-r+1>=t&&n.push([r,i]),r=-1)}return e[a-1]&&a-r>=t&&n.push([r,a-1]),n}const ju=32;function x5(e,t,n,{location:r=Et.location,distance:i=Et.distance,threshold:a=Et.threshold,findAllMatches:l=Et.findAllMatches,minMatchCharLength:c=Et.minMatchCharLength,includeMatches:p=Et.includeMatches,ignoreLocation:v=Et.ignoreLocation}={}){if(t.length>ju)throw new Error(s5(ju));const m=t.length,x=e.length,E=Math.max(0,Math.min(r,x));let C=a,I=E;const j=c>1||p,A=j?Array(x):[];let P;for(;(P=e.indexOf(t,I))>-1;){let V=Fv(t,{currentLocation:P,expectedLocation:E,distance:i,ignoreLocation:v});if(C=Math.min(V,C),I=P+m,j){let ne=0;for(;ne<m;)A[P+ne]=1,ne+=1}}I=-1;let M=[],z=1,$=m+x;const U=1<<m-1;for(let V=0;V<m;V+=1){let ne=0,he=$;for(;ne<he;)Fv(t,{errors:V,currentLocation:E+he,expectedLocation:E,distance:i,ignoreLocation:v})<=C?ne=he:$=he,he=Math.floor(($-ne)/2+ne);$=he;let me=Math.max(1,E-he+1),we=l?x:Math.min(E+he,x)+m,ze=Array(we+2);ze[we+1]=(1<<V)-1;for(let Z=we;Z>=me;Z-=1){let q=Z-1,Me=n[e.charAt(q)];if(j&&(A[q]=+!!Me),ze[Z]=(ze[Z+1]<<1|1)&Me,V&&(ze[Z]|=(M[Z+1]|M[Z])<<1|1|M[Z+1]),ze[Z]&U&&(z=Fv(t,{errors:V,currentLocation:q,expectedLocation:E,distance:i,ignoreLocation:v}),z<=C)){if(C=z,I=q,I<=E)break;me=Math.max(1,2*E-I)}}if(Fv(t,{errors:V+1,currentLocation:E,expectedLocation:E,distance:i,ignoreLocation:v})>C)break;M=ze}const X={isMatch:I>=0,score:Math.max(.001,z)};if(j){const V=w5(A,c);V.length?p&&(X.indices=V):X.isMatch=!1}return X}function b5(e){let t={};for(let n=0,r=e.length;n<r;n+=1){const i=e.charAt(n);t[i]=(t[i]||0)|1<<r-n-1}return t}class GP{constructor(t,{location:n=Et.location,threshold:r=Et.threshold,distance:i=Et.distance,includeMatches:a=Et.includeMatches,findAllMatches:l=Et.findAllMatches,minMatchCharLength:c=Et.minMatchCharLength,isCaseSensitive:p=Et.isCaseSensitive,ignoreLocation:v=Et.ignoreLocation}={}){if(this.options={location:n,threshold:r,distance:i,includeMatches:a,findAllMatches:l,minMatchCharLength:c,isCaseSensitive:p,ignoreLocation:v},this.pattern=p?t:t.toLowerCase(),this.chunks=[],!this.pattern.length)return;const m=(E,C)=>{this.chunks.push({pattern:E,alphabet:b5(E),startIndex:C})},x=this.pattern.length;if(x>ju){let E=0;const C=x%ju,I=x-C;for(;E<I;)m(this.pattern.substr(E,ju),E),E+=ju;if(C){const j=x-ju;m(this.pattern.substr(j),j)}}else m(this.pattern,0)}searchIn(t){const{isCaseSensitive:n,includeMatches:r}=this.options;if(n||(t=t.toLowerCase()),this.pattern===t){let I={isMatch:!0,score:0};return r&&(I.indices=[[0,t.length-1]]),I}const{location:i,distance:a,threshold:l,findAllMatches:c,minMatchCharLength:p,ignoreLocation:v}=this.options;let m=[],x=0,E=!1;this.chunks.forEach(({pattern:I,alphabet:j,startIndex:A})=>{const{isMatch:P,score:M,indices:z}=x5(t,I,j,{location:i+A,distance:a,threshold:l,findAllMatches:c,minMatchCharLength:p,includeMatches:r,ignoreLocation:v});P&&(E=!0),x+=M,P&&z&&(m=[...m,...z])});let C={isMatch:E,score:E?x/this.chunks.length:1};return E&&r&&(C.indices=m),C}}class Kl{constructor(t){this.pattern=t}static isMultiMatch(t){return pk(t,this.multiRegex)}static isSingleMatch(t){return pk(t,this.singleRegex)}search(){}}function pk(e,t){const n=e.match(t);return n?n[1]:null}class E5 extends Kl{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const n=t===this.pattern;return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class S5 extends Kl{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const r=t.indexOf(this.pattern)===-1;return{isMatch:r,score:r?0:1,indices:[0,t.length-1]}}}class C5 extends Kl{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const n=t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class T5 extends Kl{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const n=!t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class k5 extends Kl{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const n=t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[t.length-this.pattern.length,t.length-1]}}}class _5 extends Kl{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const n=!t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class qP extends Kl{constructor(t,{location:n=Et.location,threshold:r=Et.threshold,distance:i=Et.distance,includeMatches:a=Et.includeMatches,findAllMatches:l=Et.findAllMatches,minMatchCharLength:c=Et.minMatchCharLength,isCaseSensitive:p=Et.isCaseSensitive,ignoreLocation:v=Et.ignoreLocation}={}){super(t),this._bitapSearch=new GP(t,{location:n,threshold:r,distance:i,includeMatches:a,findAllMatches:l,minMatchCharLength:c,isCaseSensitive:p,ignoreLocation:v})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class XP extends Kl{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let n=0,r;const i=[],a=this.pattern.length;for(;(r=t.indexOf(this.pattern,n))>-1;)n=r+a,i.push([r,n-1]);const l=!!i.length;return{isMatch:l,score:l?0:1,indices:i}}}const jx=[E5,XP,C5,T5,_5,k5,S5,qP],gk=jx.length,O5=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,L5="|";function P5(e,t={}){return e.split(L5).map(n=>{let r=n.trim().split(O5).filter(a=>a&&!!a.trim()),i=[];for(let a=0,l=r.length;a<l;a+=1){const c=r[a];let p=!1,v=-1;for(;!p&&++v<gk;){const m=jx[v];let x=m.isMultiMatch(c);x&&(i.push(new m(x,t)),p=!0)}if(!p)for(v=-1;++v<gk;){const m=jx[v];let x=m.isSingleMatch(c);if(x){i.push(new m(x,t));break}}}return i})}const A5=new Set([qP.type,XP.type]);class N5{constructor(t,{isCaseSensitive:n=Et.isCaseSensitive,includeMatches:r=Et.includeMatches,minMatchCharLength:i=Et.minMatchCharLength,ignoreLocation:a=Et.ignoreLocation,findAllMatches:l=Et.findAllMatches,location:c=Et.location,threshold:p=Et.threshold,distance:v=Et.distance}={}){this.query=null,this.options={isCaseSensitive:n,includeMatches:r,minMatchCharLength:i,findAllMatches:l,ignoreLocation:a,location:c,threshold:p,distance:v},this.pattern=n?t:t.toLowerCase(),this.query=P5(this.pattern,this.options)}static condition(t,n){return n.useExtendedSearch}searchIn(t){const n=this.query;if(!n)return{isMatch:!1,score:1};const{includeMatches:r,isCaseSensitive:i}=this.options;t=i?t:t.toLowerCase();let a=0,l=[],c=0;for(let p=0,v=n.length;p<v;p+=1){const m=n[p];l.length=0,a=0;for(let x=0,E=m.length;x<E;x+=1){const C=m[x],{isMatch:I,indices:j,score:A}=C.search(t);if(I){if(a+=1,c+=A,r){const P=C.constructor.type;A5.has(P)?l=[...l,...j]:l.push(j)}}else{c=0,a=0,l.length=0;break}}if(a){let x={isMatch:!0,score:c/a};return r&&(x.indices=l),x}}return{isMatch:!1,score:1}}}const $x=[];function I5(...e){$x.push(...e)}function Dx(e,t){for(let n=0,r=$x.length;n<r;n+=1){let i=$x[n];if(i.condition(e,t))return new i(e,t)}return new GP(e,t)}const oy={AND:"$and",OR:"$or"},Bx={PATH:"$path",PATTERN:"$val"},zx=e=>!!(e[oy.AND]||e[oy.OR]),R5=e=>!!e[Bx.PATH],M5=e=>!As(e)&&HP(e)&&!zx(e),vk=e=>({[oy.AND]:Object.keys(e).map(t=>({[t]:e[t]}))});function VP(e,t,{auto:n=!0}={}){const r=i=>{let a=Object.keys(i);const l=R5(i);if(!l&&a.length>1&&!zx(i))return r(vk(i));if(M5(i)){const p=l?i[Bx.PATH]:a[0],v=l?i[Bx.PATTERN]:i[p];if(!ka(v))throw new Error(a5(p));const m={keyId:Fx(p),pattern:v};return n&&(m.searcher=Dx(v,t)),m}let c={children:[],operator:a[0]};return a.forEach(p=>{const v=i[p];As(v)&&v.forEach(m=>{c.children.push(r(m))})}),c};return zx(e)||(e=vk(e)),r(e)}function F5(e,{ignoreFieldNorm:t=Et.ignoreFieldNorm}){e.forEach(n=>{let r=1;n.matches.forEach(({key:i,norm:a,score:l})=>{const c=i?i.weight:null;r*=Math.pow(l===0&&c?Number.EPSILON:l,(c||1)*(t?1:a))}),n.score=r})}function j5(e,t){const n=e.matches;t.matches=[],Fi(n)&&n.forEach(r=>{if(!Fi(r.indices)||!r.indices.length)return;const{indices:i,value:a}=r;let l={indices:i,value:a};r.key&&(l.key=r.key.src),r.idx>-1&&(l.refIndex=r.idx),t.matches.push(l)})}function $5(e,t){t.score=e.score}function D5(e,t,{includeMatches:n=Et.includeMatches,includeScore:r=Et.includeScore}={}){const i=[];return n&&i.push(j5),r&&i.push($5),e.map(a=>{const{idx:l}=a,c={item:t[l],refIndex:l};return i.length&&i.forEach(p=>{p(a,c)}),c})}class ld{constructor(t,n={},r){this.options={...Et,...n},this.options.useExtendedSearch,this._keyStore=new c5(this.options.keys),this.setCollection(t,r)}setCollection(t,n){if(this._docs=t,n&&!(n instanceof OE))throw new Error(o5);this._myIndex=n||KP(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){Fi(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){const n=[];for(let r=0,i=this._docs.length;r<i;r+=1){const a=this._docs[r];t(a,r)&&(this.removeAt(r),r-=1,i-=1,n.push(a))}return n}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:n=-1}={}){const{includeMatches:r,includeScore:i,shouldSort:a,sortFn:l,ignoreFieldNorm:c}=this.options;let p=ka(t)?ka(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return F5(p,{ignoreFieldNorm:c}),a&&p.sort(l),zP(n)&&n>-1&&(p=p.slice(0,n)),D5(p,this._docs,{includeMatches:r,includeScore:i})}_searchStringList(t){const n=Dx(t,this.options),{records:r}=this._myIndex,i=[];return r.forEach(({v:a,i:l,n:c})=>{if(!Fi(a))return;const{isMatch:p,score:v,indices:m}=n.searchIn(a);p&&i.push({item:a,idx:l,matches:[{score:v,value:a,norm:c,indices:m}]})}),i}_searchLogical(t){const n=VP(t,this.options),r=(c,p,v)=>{if(!c.children){const{keyId:x,searcher:E}=c,C=this._findMatches({key:this._keyStore.get(x),value:this._myIndex.getValueForItemAtKeyId(p,x),searcher:E});return C&&C.length?[{idx:v,item:p,matches:C}]:[]}const m=[];for(let x=0,E=c.children.length;x<E;x+=1){const C=c.children[x],I=r(C,p,v);if(I.length)m.push(...I);else if(c.operator===oy.AND)return[]}return m},i=this._myIndex.records,a={},l=[];return i.forEach(({$:c,i:p})=>{if(Fi(c)){let v=r(n,c,p);v.length&&(a[p]||(a[p]={idx:p,item:c,matches:[]},l.push(a[p])),v.forEach(({matches:m})=>{a[p].matches.push(...m)}))}}),l}_searchObjectList(t){const n=Dx(t,this.options),{keys:r,records:i}=this._myIndex,a=[];return i.forEach(({$:l,i:c})=>{if(!Fi(l))return;let p=[];r.forEach((v,m)=>{p.push(...this._findMatches({key:v,value:l[m],searcher:n}))}),p.length&&a.push({idx:c,item:l,matches:p})}),a}_findMatches({key:t,value:n,searcher:r}){if(!Fi(n))return[];let i=[];if(As(n))n.forEach(({v:a,i:l,n:c})=>{if(!Fi(a))return;const{isMatch:p,score:v,indices:m}=r.searchIn(a);p&&i.push({score:v,key:t,value:a,idx:l,norm:c,indices:m})});else{const{v:a,n:l}=n,{isMatch:c,score:p,indices:v}=r.searchIn(a);c&&i.push({score:p,key:t,value:a,norm:l,indices:v})}return i}}ld.version="6.6.2";ld.createIndex=KP;ld.parseIndex=y5;ld.config=Et;ld.parseQuery=VP;I5(N5);function Os(e,t,n){const i=sn(e,t).passages.find(a=>a.id===n);if(i)return i;throw new Error('There is no passage with ID "'.concat(n,'" in a story with ID "').concat(t,'".'))}function ay(e,t,n){const i=sn(e,t).passages.find(a=>a.name===n);if(i)return i;throw new Error('There is no passage with name "'.concat(n,'" in a story with ID "').concat(t,'".'))}function mk(e,t){const n=t!=null?t:a=>Ju(a,!0),r=new Map(e.map(a=>[a.name,a])),i={draggable:{broken:new Set,connections:new Map,self:new Set},fixed:{broken:new Set,connections:new Map,self:new Set}};return e.forEach(a=>n(a.text).forEach(l=>{if(l===a.name)(a.selected?i.draggable:i.fixed).self.add(a);else{const c=r.get(l);if(c){const p=a.selected||c.selected?i.draggable:i.fixed;p.connections.has(a)?p.connections.get(a).add(c):p.connections.set(a,new Set([c]))}else(a.selected?i.draggable:i.fixed).broken.add(a)}})),i}function B5(e,t,n=5){return t.trim()===""?[]:new ld(e,{ignoreLocation:!0,keys:[{name:"name",weight:.6},{name:"text",weight:.4}]}).search(t,{limit:n}).map(({item:i})=>i)}function z5(e,t,n){if(t==="")return[];const{includePassageNames:r,matchCase:i,useRegexes:a}=n;let l;try{l=BP(t,{matchCase:i,useRegexes:a})}catch{return[]}return e.reduce((c,p)=>l.test(p.text)||r&&l.test(p.name)?[...c,p]:c,[])}function YP(e){return Array.from(e.passages.reduce((t,n)=>(n.tags&&n.tags.forEach(r=>t.add(r)),t),new Set)).sort()}function H5(e){const t=e.passages.reduce((r,i)=>[...r,...Ju(i.text).filter(a=>r.indexOf(a)===-1)],[]);return{brokenLinks:RP(t).filter(r=>!e.passages.some(i=>i.name===r)),links:t,characters:e.passages.reduce((r,i)=>r+i.text.length,0),passages:e.passages.length,words:e.passages.reduce((r,i)=>r+i.text.split(/\s+/).length,0)}}function LE(e){return Array.from(e.reduce((t,n)=>(n.tags&&n.tags.forEach(r=>t.add(r)),t),new Set)).sort()}function sn(e,t){const n=e.find(r=>r.id===t);if(n)return n;throw new Error('There is no story with ID "'.concat(t,'".'))}function QP(e,t){const n=e.find(r=>r.name===t);if(n)return n;throw new Error('There is no story with name "'.concat(t,'".'))}function ZP(e){return e.text===""&&e.tags.length===0&&e.width===100&&e.height===100}function U5(e,t,n,r){if(!e.passages.some(i=>i.id===t.id))throw new Error("This passage does not belong to this story.");return i=>{const a=Ju(r),l=Ju(n),p=a.filter(v=>!l.includes(v)).reduce((v,m)=>{const x=e.passages.find(E=>E.name===m);return!x||!ZP(x)||e.startPassage===x.id||e.passages.some(E=>E.id!==t.id&&Ju(E.text).includes(m))?v:[...v,x.id]},[]);p.length>0&&i({type:"deletePassages",passageIds:p,storyId:e.id})}}function Dl(e,t,n,r={}){if(!e.passages.some(i=>i.id===t.id))throw new Error("This passage does not belong to this story.");if("name"in n&&e.passages.filter(i=>i.name===n.name).some(i=>i.id!==t.id))throw new Error('There is already a passage named "'.concat(n.name,'".'));return(i,a)=>{const l=t.name,c=t.text;if(i({props:n,type:"updatePassage",passageId:t.id,storyId:e.id}),!r.dontUpdateOthers&&n.text){i(U5(e,t,n.text,c));const p=sn(a(),e.id);i(N8(p,t,n.text,c))}if(n.name){const p=DP(l),v=n.name.replace(/\$/g,"$$$$"),m=new RegExp("\\[\\["+p+"(\\]\\[.*?)?\\]\\]","g"),x=new RegExp("\\[\\[(.*?)(\\||->)"+p+"(\\]\\[.*?)?\\]\\]","g"),E=new RegExp("\\[\\["+p+"(<-.*?)(\\]\\[.*?)?\\]\\]","g");e.passages.forEach(C=>{if(m.test(C.text)||x.test(C.text)||E.test(C.text)){let I=C.text;I=I.replace(m,"[["+v+"$1]]"),I=I.replace(x,"[[$1$2"+v+"$3]]"),I=I.replace(E,"[["+v+"$1$2]]"),Dl(e,C,{text:I},r)(i,a)}})}}}function sy(e,t,n,r){const{matchCase:i,useRegexes:a}=r,l=BP(t,{matchCase:i,useRegexes:a}),c=a?n:J8(n);return e.replace(l,c)}function W5(e,t,n,r,i){return(a,l)=>{if(n==="")throw new Error("Can't replace an empty string");if(t.story!==e.id)throw new Error("Passage does not belong to story");const{includePassageNames:c}=i,p={},v=sy(t.text,n,r,i);if(v!==t.text&&(p.text=v),c){const m=sy(t.name,n,r,i);m!==t.name&&(p.name=m)}Object.keys(p).length>0&&Dl(e,t,p)(a,l)}}function K5(e,t,n,r){return(i,a)=>{if(t==="")throw new Error("Can't replace an empty string");if(r.includePassageNames){for(const l of e.passages){const c=sy(l.name,t,n,r);c!==l.name&&Dl(e,l,{name:c})(i,a)}for(const l of e.passages){const c=sy(l.text,t,n,r);c!==l.text&&Dl(e,l,{text:c})(i,a)}}else for(const l of e.passages)W5(e,l,t,n,r)(i,a)}}function yk(e,t){return n=>{let r={};for(const i of e.passages){const a=i.highlighted,l=t.includes(i.id);l!==a&&(r[i.id]={highlighted:l})}Object.keys(r).length>0&&n({passageUpdates:r,type:"updatePassages",storyId:e.id})}}function hi(e,t=".html"){return e.name.replace(/[^\w. -]/g,"_")+t}function G5(e,t){return e.forEach(n=>{if(e.some(r=>r!==n&&hi(r)===hi(n)))throw new Error('Stories to import cannot have the same name: "'.concat(n.name,'"'))}),n=>{e.forEach(r=>{const i={...r};delete i.id;const a=t.find(l=>hi(l)===hi(r));a?(i.passages&&(i.passages=i.passages.map(l=>({...l,story:a.id}))),n({props:i,type:"updateStory",storyId:a.id})):n({props:i,type:"createStory"})})}}function q5(e,t,n,r){const i={};if(!Number.isFinite(n)||!Number.isFinite(r))throw new Error("Offset must be a finite number.");return t.forEach(a=>{const l=e.passages.find(v=>v.id===a);if(!l)throw new Error('There is no passage in this story with ID "'.concat(a,'".'));let c=Math.max(l.left+n,0),p=Math.max(l.top+r,0);e.snapToGrid&&(c=Math.round(c/25)*25,p=Math.round(p/25)*25),i[l.id]={left:c,top:p}}),{type:"updatePassages",passageUpdates:i,storyId:e.id}}function ud(e){return e.length>0&&!/\s/.test(e)}function X5(e,t,n){if(!ud(n))throw new Error('"'.concat(n,'" is not a valid tag name.'));return r=>{const i={};if(e.passages.forEach(a=>{a.tags.includes(t)&&(i[a.id]={tags:a.tags.map(l=>l===t?n:l)})}),Object.keys(i).length>0){r({type:"updatePassages",passageUpdates:i,storyId:e.id});const a={...e.tagColors};delete a[t],a[n]=e.tagColors[t],r({type:"updateStory",props:{tagColors:a},storyId:e.id})}}}function V5(e,t,n){if(!ud(n))throw new Error('"'.concat(n,'" is not a valid tag name.'));return r=>{e.forEach(i=>{i.tags.includes(t)&&r({type:"updateStory",storyId:i.id,props:{tags:i.tags.map(a=>a===t?n:a)}})})}}function Y5(e,t){if(t.story!==e.id)throw new Error("This passage does not belong to this story");return n=>{t.selected&&n({type:"updatePassage",passageId:t.id,props:{selected:!1},storyId:e.id})}}function Q5(e){return t=>{const n={};e.passages.forEach(r=>{r.selected||(n[r.id]={selected:!0})}),Object.keys(n).length>0&&t({passageUpdates:n,type:"updatePassages",storyId:e.id})}}function JP(e,t,n){if(t.story!==e.id)throw new Error("This passage does not belong to this story");return r=>{const i={};t.selected||(i[t.id]={selected:!0}),n&&e.passages.forEach(a=>{a.id!==t.id&&a.selected&&(i[a.id]={selected:!1})}),Object.keys(i).length>0&&r({type:"updatePassages",passageUpdates:i,storyId:e.id})}}function Z5(e,t,n=[]){return r=>{const i={};e.passages.forEach(a=>{if(n.find(c=>c===a.id))return;const l=zy(t,a);a.selected!==l&&(i[a.id]={selected:l})}),Object.keys(i).length>0&&r({type:"updatePassages",passageUpdates:i,storyId:e.id})}}function J5(e){return(t,n)=>{e.selected||t({type:"updateStory",storyId:e.id,props:{selected:!1}})}}function e7(){return(e,t)=>{for(const n of t())n.selected&&e({type:"updateStory",storyId:n.id,props:{selected:!1}})}}function t7(e,t){return(n,r)=>{if(e.selected||n({type:"updateStory",storyId:e.id,props:{selected:!0}}),t)for(const i of r())i.id!==e.id&&i.selected&&n({type:"updateStory",storyId:i.id,props:{selected:!1}})}}function eA(e,t,n){if(!ud(t))throw new Error('"'.concat(t,'" is not a valid tag name.'));return r=>{if(n==="none"){if(t in e.tagColors){const i={...e.tagColors};delete i[t],r({type:"updateStory",props:{tagColors:i},storyId:e.id})}}else r({type:"updateStory",props:{tagColors:{...e.tagColors,[t]:n}},storyId:e.id})}}function n7(e,t,n){if(t.story!==e.id)throw new Error("This passage does not belong to this story.");if(!ud(n))throw new Error('"'.concat(n,'" is not a valid tag name.'));if(t.tags.includes(n))throw new Error('This passage already has the tag "'.concat(n,'".'));return{type:"updatePassage",passageId:t.id,storyId:e.id,props:{tags:[...t.tags,n]}}}function r7(e,t,n){if(t.story!==e.id)throw new Error("This passage does not belong to this story.");if(!ud(n))throw new Error('"'.concat(n,'" is not a valid tag name.'));if(!t.tags.includes(n))throw new Error('This passage does not have the tag "'.concat(n,'".'));return{type:"updatePassage",passageId:t.id,storyId:e.id,props:{tags:t.tags.filter(r=>r!==n)}}}function Zr(e,t,n){if(n.name&&e.filter(r=>hi(r)===hi({...r,...n})).some(r=>r.id!==t.id))throw new Error('There is already a story named "'.concat(n.name,'".'));return{props:n,storyId:t.id,type:"updateStory"}}var tA={exports:{}};(function(e,t){(function(r,i){e.exports=i(O)})(typeof self<"u"?self:An,function(n){return function(r){var i={};function a(l){if(i[l])return i[l].exports;var c=i[l]={i:l,l:!1,exports:{}};return r[l].call(c.exports,c,c.exports,a),c.l=!0,c.exports}return a.m=r,a.c=i,a.d=function(l,c,p){a.o(l,c)||Object.defineProperty(l,c,{enumerable:!0,get:p})},a.r=function(l){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})},a.t=function(l,c){if(c&1&&(l=a(l)),c&8||c&4&&typeof l=="object"&&l&&l.__esModule)return l;var p=Object.create(null);if(a.r(p),Object.defineProperty(p,"default",{enumerable:!0,value:l}),c&2&&typeof l!="string")for(var v in l)a.d(p,v,(function(m){return l[m]}).bind(null,v));return p},a.n=function(l){var c=l&&l.__esModule?function(){return l.default}:function(){return l};return a.d(c,"a",c),c},a.o=function(l,c){return Object.prototype.hasOwnProperty.call(l,c)},a.p="/dist/",a(a.s="./src/thunk-reducer.js")}({"./src/thunk-reducer.js":function(r,i,a){a.r(i),a.d(i,"useThunkReducer",function(){return x});var l=a("react");function c(E,C){return m(E)||v(E,C)||p()}function p(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function v(E,C){if(Symbol.iterator in Object(E)||Object.prototype.toString.call(E)==="[object Arguments]"){var I=[],j=!0,A=!1,P=void 0;try{for(var M=E[Symbol.iterator](),z;!(j=(z=M.next()).done)&&(I.push(z.value),!(C&&I.length===C));j=!0);}catch($){A=!0,P=$}finally{try{!j&&M.return!=null&&M.return()}finally{if(A)throw P}}return I}}function m(E){if(Array.isArray(E))return E}function x(E,C){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(ne){return ne},j=Object(l.useState)(I(C)),A=c(j,2),P=A[0],M=A[1],z=Object(l.useRef)(P),$=Object(l.useCallback)(function(){return z.current},[z]),U=Object(l.useCallback)(function(ne){z.current=ne,M(ne)},[z,M]),X=Object(l.useCallback)(function(ne){return E($(),ne)},[E,$]),V=Object(l.useCallback)(function(ne){return typeof ne=="function"?ne(V,$):U(X(ne))},[$,U,X]);return[P,V]}i.default=x},react:function(r,i){r.exports=n}})})})(tA);var i7=tA.exports;const PE=Tn(i7);function nA(e,t,n){let r=!1,i=!1;const a=e.map(l=>{if(l.id!==t)return l;if(r=!0,l.passages.some(v=>v.id===n.id))return console.warn('There is already a passage in this story with ID "'.concat(n.id,'", taking no action')),l;if("name"in n&&l.passages.some(v=>v.name===n.name))return console.warn('There is already a passage in this story with name "'.concat(n.name,'", taking no action')),l;const c={...Wl(),id:pn(),...n,story:l.id},p={...l,lastUpdate:new Date,passages:[...l.passages,c]};return p.passages.length===1&&(p.startPassage=c.id),i=!0,p});return r?i?a:e:(console.warn('No story in state with ID "'.concat(t,'", taking no action')),e)}function o7(e,t,n){return n.reduce((r,i)=>nA(r,t,i),e)}function a7(e,t){if("id"in t&&e.some(r=>r.id===t.id))return console.warn('There is already a story in state with ID "'.concat(t.id,'", taking no action')),e;if("name"in t&&e.some(r=>r.name===t.name))return console.warn('There is already a story in state with name "'.concat(t.name,'", taking no action')),e;let n={id:pn(),...id(),ifid:pn().toUpperCase(),lastUpdate:new Date,passages:[],tags:[],tagColors:{},...t};return n.passages=n.passages.map(r=>({...Wl,...r,story:n.id})),[...e,n]}function rA(e,t,n){let r=!1,i=!1;const a=e.map(l=>{if(l.id!==t)return l;r=!0;const c={...l,passages:l.passages.filter(p=>p.id===n?(i=!0,!1):!0)};return i?(c.lastUpdate=new Date,c):l});return r?i?a:(console.warn('Asked to delete a passage with ID "'.concat(n,'", but it does not exist in story ID ').concat(t,", taking no action")),e):(console.warn('No story in state with ID "'.concat(t,'", taking no action')),e)}function s7(e,t,n){return n.reduce((r,i)=>rA(r,t,i),e)}function l7(e,t){let n=!1;const r=e.filter(i=>i.id===t?(n=!0,!1):!0);return n?r:(console.warn('Asked to delete a story with ID "'.concat(t,'", but it does not exist in state')),e)}function u7(e,t){return[...t]}var Hx={exports:{}};const c7="2.0.0",iA=256,f7=Number.MAX_SAFE_INTEGER||9007199254740991,d7=16,h7=iA-6,p7=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var qy={MAX_LENGTH:iA,MAX_SAFE_COMPONENT_LENGTH:d7,MAX_SAFE_BUILD_LENGTH:h7,MAX_SAFE_INTEGER:f7,RELEASE_TYPES:p7,SEMVER_SPEC_VERSION:c7,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2};const g7=typeof yr.process=="object"&&yr.process.env&&{}.NODE_DEBUG&&/\bsemver\b/i.test({}.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};var Xy=g7;(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:r,MAX_LENGTH:i}=qy,a=Xy;t=e.exports={};const l=t.re=[],c=t.safeRe=[],p=t.src=[],v=t.t={};let m=0;const x="[a-zA-Z0-9-]",E=[["\\s",1],["\\d",i],[x,r]],C=j=>{for(const[A,P]of E)j=j.split("".concat(A,"*")).join("".concat(A,"{0,").concat(P,"}")).split("".concat(A,"+")).join("".concat(A,"{1,").concat(P,"}"));return j},I=(j,A,P)=>{const M=C(A),z=m++;a(j,z,A),v[j]=z,p[z]=A,l[z]=new RegExp(A,P?"g":void 0),c[z]=new RegExp(M,P?"g":void 0)};I("NUMERICIDENTIFIER","0|[1-9]\\d*"),I("NUMERICIDENTIFIERLOOSE","\\d+"),I("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-]".concat(x,"*")),I("MAINVERSION","(".concat(p[v.NUMERICIDENTIFIER],")\\.")+"(".concat(p[v.NUMERICIDENTIFIER],")\\.")+"(".concat(p[v.NUMERICIDENTIFIER],")")),I("MAINVERSIONLOOSE","(".concat(p[v.NUMERICIDENTIFIERLOOSE],")\\.")+"(".concat(p[v.NUMERICIDENTIFIERLOOSE],")\\.")+"(".concat(p[v.NUMERICIDENTIFIERLOOSE],")")),I("PRERELEASEIDENTIFIER","(?:".concat(p[v.NUMERICIDENTIFIER],"|").concat(p[v.NONNUMERICIDENTIFIER],")")),I("PRERELEASEIDENTIFIERLOOSE","(?:".concat(p[v.NUMERICIDENTIFIERLOOSE],"|").concat(p[v.NONNUMERICIDENTIFIER],")")),I("PRERELEASE","(?:-(".concat(p[v.PRERELEASEIDENTIFIER],"(?:\\.").concat(p[v.PRERELEASEIDENTIFIER],")*))")),I("PRERELEASELOOSE","(?:-?(".concat(p[v.PRERELEASEIDENTIFIERLOOSE],"(?:\\.").concat(p[v.PRERELEASEIDENTIFIERLOOSE],")*))")),I("BUILDIDENTIFIER","".concat(x,"+")),I("BUILD","(?:\\+(".concat(p[v.BUILDIDENTIFIER],"(?:\\.").concat(p[v.BUILDIDENTIFIER],")*))")),I("FULLPLAIN","v?".concat(p[v.MAINVERSION]).concat(p[v.PRERELEASE],"?").concat(p[v.BUILD],"?")),I("FULL","^".concat(p[v.FULLPLAIN],"$")),I("LOOSEPLAIN","[v=\\s]*".concat(p[v.MAINVERSIONLOOSE]).concat(p[v.PRERELEASELOOSE],"?").concat(p[v.BUILD],"?")),I("LOOSE","^".concat(p[v.LOOSEPLAIN],"$")),I("GTLT","((?:<|>)?=?)"),I("XRANGEIDENTIFIERLOOSE","".concat(p[v.NUMERICIDENTIFIERLOOSE],"|x|X|\\*")),I("XRANGEIDENTIFIER","".concat(p[v.NUMERICIDENTIFIER],"|x|X|\\*")),I("XRANGEPLAIN","[v=\\s]*(".concat(p[v.XRANGEIDENTIFIER],")")+"(?:\\.(".concat(p[v.XRANGEIDENTIFIER],")")+"(?:\\.(".concat(p[v.XRANGEIDENTIFIER],")")+"(?:".concat(p[v.PRERELEASE],")?").concat(p[v.BUILD],"?")+")?)?"),I("XRANGEPLAINLOOSE","[v=\\s]*(".concat(p[v.XRANGEIDENTIFIERLOOSE],")")+"(?:\\.(".concat(p[v.XRANGEIDENTIFIERLOOSE],")")+"(?:\\.(".concat(p[v.XRANGEIDENTIFIERLOOSE],")")+"(?:".concat(p[v.PRERELEASELOOSE],")?").concat(p[v.BUILD],"?")+")?)?"),I("XRANGE","^".concat(p[v.GTLT],"\\s*").concat(p[v.XRANGEPLAIN],"$")),I("XRANGELOOSE","^".concat(p[v.GTLT],"\\s*").concat(p[v.XRANGEPLAINLOOSE],"$")),I("COERCE","(^|[^\\d])(\\d{1,".concat(n,"})")+"(?:\\.(\\d{1,".concat(n,"}))?")+"(?:\\.(\\d{1,".concat(n,"}))?")+"(?:$|[^\\d])"),I("COERCERTL",p[v.COERCE],!0),I("LONETILDE","(?:~>?)"),I("TILDETRIM","(\\s*)".concat(p[v.LONETILDE],"\\s+"),!0),t.tildeTrimReplace="$1~",I("TILDE","^".concat(p[v.LONETILDE]).concat(p[v.XRANGEPLAIN],"$")),I("TILDELOOSE","^".concat(p[v.LONETILDE]).concat(p[v.XRANGEPLAINLOOSE],"$")),I("LONECARET","(?:\\^)"),I("CARETTRIM","(\\s*)".concat(p[v.LONECARET],"\\s+"),!0),t.caretTrimReplace="$1^",I("CARET","^".concat(p[v.LONECARET]).concat(p[v.XRANGEPLAIN],"$")),I("CARETLOOSE","^".concat(p[v.LONECARET]).concat(p[v.XRANGEPLAINLOOSE],"$")),I("COMPARATORLOOSE","^".concat(p[v.GTLT],"\\s*(").concat(p[v.LOOSEPLAIN],")$|^$")),I("COMPARATOR","^".concat(p[v.GTLT],"\\s*(").concat(p[v.FULLPLAIN],")$|^$")),I("COMPARATORTRIM","(\\s*)".concat(p[v.GTLT],"\\s*(").concat(p[v.LOOSEPLAIN],"|").concat(p[v.XRANGEPLAIN],")"),!0),t.comparatorTrimReplace="$1$2$3",I("HYPHENRANGE","^\\s*(".concat(p[v.XRANGEPLAIN],")")+"\\s+-\\s+"+"(".concat(p[v.XRANGEPLAIN],")")+"\\s*$"),I("HYPHENRANGELOOSE","^\\s*(".concat(p[v.XRANGEPLAINLOOSE],")")+"\\s+-\\s+"+"(".concat(p[v.XRANGEPLAINLOOSE],")")+"\\s*$"),I("STAR","(<|>)?=?\\s*\\*"),I("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),I("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(Hx,Hx.exports);var Xp=Hx.exports;const v7=Object.freeze({loose:!0}),m7=Object.freeze({}),y7=e=>e?typeof e!="object"?v7:e:m7;var AE=y7;const wk=/^[0-9]+$/,oA=(e,t)=>{const n=wk.test(e),r=wk.test(t);return n&&r&&(e=+e,t=+t),e===t?0:n&&!r?-1:r&&!n?1:e<t?-1:1},w7=(e,t)=>oA(t,e);var aA={compareIdentifiers:oA,rcompareIdentifiers:w7};const jv=Xy,{MAX_LENGTH:xk,MAX_SAFE_INTEGER:$v}=qy,{safeRe:bk,t:Ek}=Xp,x7=AE,{compareIdentifiers:vf}=aA;let b7=class ma{constructor(t,n){if(n=x7(n),t instanceof ma){if(t.loose===!!n.loose&&t.includePrerelease===!!n.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError('Invalid version. Must be a string. Got type "'.concat(typeof t,'".'));if(t.length>xk)throw new TypeError("version is longer than ".concat(xk," characters"));jv("SemVer",t,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;const r=t.trim().match(n.loose?bk[Ek.LOOSE]:bk[Ek.FULL]);if(!r)throw new TypeError("Invalid Version: ".concat(t));if(this.raw=t,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>$v||this.major<0)throw new TypeError("Invalid major version");if(this.minor>$v||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>$v||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){const a=+i;if(a>=0&&a<$v)return a}return i}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version="".concat(this.major,".").concat(this.minor,".").concat(this.patch),this.prerelease.length&&(this.version+="-".concat(this.prerelease.join("."))),this.version}toString(){return this.version}compare(t){if(jv("SemVer.compare",this.version,this.options,t),!(t instanceof ma)){if(typeof t=="string"&&t===this.version)return 0;t=new ma(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof ma||(t=new ma(t,this.options)),vf(this.major,t.major)||vf(this.minor,t.minor)||vf(this.patch,t.patch)}comparePre(t){if(t instanceof ma||(t=new ma(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let n=0;do{const r=this.prerelease[n],i=t.prerelease[n];if(jv("prerelease compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return vf(r,i)}while(++n)}compareBuild(t){t instanceof ma||(t=new ma(t,this.options));let n=0;do{const r=this.build[n],i=t.build[n];if(jv("prerelease compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return vf(r,i)}while(++n)}inc(t,n,r){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n,r),this.inc("pre",n,r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n,r),this.inc("pre",n,r);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const i=Number(r)?1:0;if(!n&&r===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let a=this.prerelease.length;for(;--a>=0;)typeof this.prerelease[a]=="number"&&(this.prerelease[a]++,a=-2);if(a===-1){if(n===this.prerelease.join(".")&&r===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(n){let a=[n,i];r===!1&&(a=[n]),vf(this.prerelease[0],n)===0?isNaN(this.prerelease[1])&&(this.prerelease=a):this.prerelease=a}break}default:throw new Error("invalid increment argument: ".concat(t))}return this.raw=this.format(),this.build.length&&(this.raw+="+".concat(this.build.join("."))),this}};var ti=b7;const Sk=ti,E7=(e,t,n=!1)=>{if(e instanceof Sk)return e;try{return new Sk(e,t)}catch(r){if(!n)return null;throw r}};var cd=E7;const S7=cd,C7=(e,t)=>{const n=S7(e,t);return n?n.version:null};var T7=C7;const k7=cd,_7=(e,t)=>{const n=k7(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null};var O7=_7;const Ck=ti,L7=(e,t,n,r,i)=>{typeof n=="string"&&(i=r,r=n,n=void 0);try{return new Ck(e instanceof Ck?e.version:e,n).inc(t,r,i).version}catch{return null}};var P7=L7;const Tk=cd,A7=(e,t)=>{const n=Tk(e,null,!0),r=Tk(t,null,!0),i=n.compare(r);if(i===0)return null;const a=i>0,l=a?n:r,c=a?r:n,p=!!l.prerelease.length;if(!!c.prerelease.length&&!p)return!c.patch&&!c.minor?"major":l.patch?"patch":l.minor?"minor":"major";const m=p?"pre":"";return n.major!==r.major?m+"major":n.minor!==r.minor?m+"minor":n.patch!==r.patch?m+"patch":"prerelease"};var N7=A7;const I7=ti,R7=(e,t)=>new I7(e,t).major;var M7=R7;const F7=ti,j7=(e,t)=>new F7(e,t).minor;var $7=j7;const D7=ti,B7=(e,t)=>new D7(e,t).patch;var z7=B7;const H7=cd,U7=(e,t)=>{const n=H7(e,t);return n&&n.prerelease.length?n.prerelease:null};var W7=U7;const kk=ti,K7=(e,t,n)=>new kk(e,n).compare(new kk(t,n));var Bo=K7;const G7=Bo,q7=(e,t,n)=>G7(t,e,n);var X7=q7;const V7=Bo,Y7=(e,t)=>V7(e,t,!0);var Q7=Y7;const _k=ti,Z7=(e,t,n)=>{const r=new _k(e,n),i=new _k(t,n);return r.compare(i)||r.compareBuild(i)};var NE=Z7;const J7=NE,e9=(e,t)=>e.sort((n,r)=>J7(n,r,t));var t9=e9;const n9=NE,r9=(e,t)=>e.sort((n,r)=>n9(r,n,t));var i9=r9;const o9=Bo,a9=(e,t,n)=>o9(e,t,n)>0;var Vy=a9;const s9=Bo,l9=(e,t,n)=>s9(e,t,n)<0;var Yy=l9;const sA=Tn(Yy),u9=Bo,c9=(e,t,n)=>u9(e,t,n)===0;var lA=c9;const f9=Bo,d9=(e,t,n)=>f9(e,t,n)!==0;var uA=d9;const h9=Bo,p9=(e,t,n)=>h9(e,t,n)>=0;var IE=p9;const g9=Bo,v9=(e,t,n)=>g9(e,t,n)<=0;var RE=v9;const m9=lA,y9=uA,w9=Vy,x9=IE,b9=Yy,E9=RE,S9=(e,t,n,r)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof n=="object"&&(n=n.version),e===n;case"!==":return typeof e=="object"&&(e=e.version),typeof n=="object"&&(n=n.version),e!==n;case"":case"=":case"==":return m9(e,n,r);case"!=":return y9(e,n,r);case">":return w9(e,n,r);case">=":return x9(e,n,r);case"<":return b9(e,n,r);case"<=":return E9(e,n,r);default:throw new TypeError("Invalid operator: ".concat(t))}};var cA=S9;const C9=ti,T9=cd,{safeRe:Dv,t:Bv}=Xp,k9=(e,t)=>{if(e instanceof C9)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};let n=null;if(!t.rtl)n=e.match(Dv[Bv.COERCE]);else{let r;for(;(r=Dv[Bv.COERCERTL].exec(e))&&(!n||n.index+n[0].length!==e.length);)(!n||r.index+r[0].length!==n.index+n[0].length)&&(n=r),Dv[Bv.COERCERTL].lastIndex=r.index+r[1].length+r[2].length;Dv[Bv.COERCERTL].lastIndex=-1}return n===null?null:T9("".concat(n[2],".").concat(n[3]||"0",".").concat(n[4]||"0"),t)};var _9=k9,e1,Ok;function O9(){return Ok||(Ok=1,e1=function(e){e.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next)yield t.value}}),e1}var L9=Qt;Qt.Node=ac;Qt.create=Qt;function Qt(e){var t=this;if(t instanceof Qt||(t=new Qt),t.tail=null,t.head=null,t.length=0,e&&typeof e.forEach=="function")e.forEach(function(i){t.push(i)});else if(arguments.length>0)for(var n=0,r=arguments.length;n<r;n++)t.push(arguments[n]);return t}Qt.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,n=e.prev;return t&&(t.prev=n),n&&(n.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=n),e.list.length--,e.next=null,e.prev=null,e.list=null,t};Qt.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}};Qt.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}};Qt.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)A9(this,arguments[e]);return this.length};Qt.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)N9(this,arguments[e]);return this.length};Qt.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}};Qt.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}};Qt.prototype.forEach=function(e,t){t=t||this;for(var n=this.head,r=0;n!==null;r++)e.call(t,n.value,r,this),n=n.next};Qt.prototype.forEachReverse=function(e,t){t=t||this;for(var n=this.tail,r=this.length-1;n!==null;r--)e.call(t,n.value,r,this),n=n.prev};Qt.prototype.get=function(e){for(var t=0,n=this.head;n!==null&&t<e;t++)n=n.next;if(t===e&&n!==null)return n.value};Qt.prototype.getReverse=function(e){for(var t=0,n=this.tail;n!==null&&t<e;t++)n=n.prev;if(t===e&&n!==null)return n.value};Qt.prototype.map=function(e,t){t=t||this;for(var n=new Qt,r=this.head;r!==null;)n.push(e.call(t,r.value,this)),r=r.next;return n};Qt.prototype.mapReverse=function(e,t){t=t||this;for(var n=new Qt,r=this.tail;r!==null;)n.push(e.call(t,r.value,this)),r=r.prev;return n};Qt.prototype.reduce=function(e,t){var n,r=this.head;if(arguments.length>1)n=t;else if(this.head)r=this.head.next,n=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;r!==null;i++)n=e(n,r.value,i),r=r.next;return n};Qt.prototype.reduceReverse=function(e,t){var n,r=this.tail;if(arguments.length>1)n=t;else if(this.tail)r=this.tail.prev,n=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;r!==null;i--)n=e(n,r.value,i),r=r.prev;return n};Qt.prototype.toArray=function(){for(var e=new Array(this.length),t=0,n=this.head;n!==null;t++)e[t]=n.value,n=n.next;return e};Qt.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,n=this.tail;n!==null;t++)e[t]=n.value,n=n.prev;return e};Qt.prototype.slice=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var n=new Qt;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var r=0,i=this.head;i!==null&&r<e;r++)i=i.next;for(;i!==null&&r<t;r++,i=i.next)n.push(i.value);return n};Qt.prototype.sliceReverse=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var n=new Qt;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var r=this.length,i=this.tail;i!==null&&r>t;r--)i=i.prev;for(;i!==null&&r>e;r--,i=i.prev)n.push(i.value);return n};Qt.prototype.splice=function(e,t,...n){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var r=0,i=this.head;i!==null&&r<e;r++)i=i.next;for(var a=[],r=0;i&&r<t;r++)a.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var r=0;r<n.length;r++)i=P9(this,i,n[r]);return a};Qt.prototype.reverse=function(){for(var e=this.head,t=this.tail,n=e;n!==null;n=n.prev){var r=n.prev;n.prev=n.next,n.next=r}return this.head=t,this.tail=e,this};function P9(e,t,n){var r=t===e.head?new ac(n,null,t,e):new ac(n,t,t.next,e);return r.next===null&&(e.tail=r),r.prev===null&&(e.head=r),e.length++,r}function A9(e,t){e.tail=new ac(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function N9(e,t){e.head=new ac(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function ac(e,t,n,r){if(!(this instanceof ac))return new ac(e,t,n,r);this.list=r,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}try{O9()(Qt)}catch{}const I9=L9,$u=Symbol("max"),Es=Symbol("length"),mf=Symbol("lengthCalculator"),qh=Symbol("allowStale"),Ku=Symbol("maxAge"),xs=Symbol("dispose"),Lk=Symbol("noDisposeOnSet"),hr=Symbol("lruList"),Po=Symbol("cache"),fA=Symbol("updateAgeOnGet"),t1=()=>1;class R9{constructor(t){if(typeof t=="number"&&(t={max:t}),t||(t={}),t.max&&(typeof t.max!="number"||t.max<0))throw new TypeError("max must be a non-negative number");this[$u]=t.max||1/0;const n=t.length||t1;if(this[mf]=typeof n!="function"?t1:n,this[qh]=t.stale||!1,t.maxAge&&typeof t.maxAge!="number")throw new TypeError("maxAge must be a number");this[Ku]=t.maxAge||0,this[xs]=t.dispose,this[Lk]=t.noDisposeOnSet||!1,this[fA]=t.updateAgeOnGet||!1,this.reset()}set max(t){if(typeof t!="number"||t<0)throw new TypeError("max must be a non-negative number");this[$u]=t||1/0,xh(this)}get max(){return this[$u]}set allowStale(t){this[qh]=!!t}get allowStale(){return this[qh]}set maxAge(t){if(typeof t!="number")throw new TypeError("maxAge must be a non-negative number");this[Ku]=t,xh(this)}get maxAge(){return this[Ku]}set lengthCalculator(t){typeof t!="function"&&(t=t1),t!==this[mf]&&(this[mf]=t,this[Es]=0,this[hr].forEach(n=>{n.length=this[mf](n.value,n.key),this[Es]+=n.length})),xh(this)}get lengthCalculator(){return this[mf]}get length(){return this[Es]}get itemCount(){return this[hr].length}rforEach(t,n){n=n||this;for(let r=this[hr].tail;r!==null;){const i=r.prev;Pk(this,t,r,n),r=i}}forEach(t,n){n=n||this;for(let r=this[hr].head;r!==null;){const i=r.next;Pk(this,t,r,n),r=i}}keys(){return this[hr].toArray().map(t=>t.key)}values(){return this[hr].toArray().map(t=>t.value)}reset(){this[xs]&&this[hr]&&this[hr].length&&this[hr].forEach(t=>this[xs](t.key,t.value)),this[Po]=new Map,this[hr]=new I9,this[Es]=0}dump(){return this[hr].map(t=>ly(this,t)?!1:{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}).toArray().filter(t=>t)}dumpLru(){return this[hr]}set(t,n,r){if(r=r||this[Ku],r&&typeof r!="number")throw new TypeError("maxAge must be a number");const i=r?Date.now():0,a=this[mf](n,t);if(this[Po].has(t)){if(a>this[$u])return Bf(this,this[Po].get(t)),!1;const p=this[Po].get(t).value;return this[xs]&&(this[Lk]||this[xs](t,p.value)),p.now=i,p.maxAge=r,p.value=n,this[Es]+=a-p.length,p.length=a,this.get(t),xh(this),!0}const l=new M9(t,n,a,i,r);return l.length>this[$u]?(this[xs]&&this[xs](t,n),!1):(this[Es]+=l.length,this[hr].unshift(l),this[Po].set(t,this[hr].head),xh(this),!0)}has(t){if(!this[Po].has(t))return!1;const n=this[Po].get(t).value;return!ly(this,n)}get(t){return n1(this,t,!0)}peek(t){return n1(this,t,!1)}pop(){const t=this[hr].tail;return t?(Bf(this,t),t.value):null}del(t){Bf(this,this[Po].get(t))}load(t){this.reset();const n=Date.now();for(let r=t.length-1;r>=0;r--){const i=t[r],a=i.e||0;if(a===0)this.set(i.k,i.v);else{const l=a-n;l>0&&this.set(i.k,i.v,l)}}}prune(){this[Po].forEach((t,n)=>n1(this,n,!1))}}const n1=(e,t,n)=>{const r=e[Po].get(t);if(r){const i=r.value;if(ly(e,i)){if(Bf(e,r),!e[qh])return}else n&&(e[fA]&&(r.value.now=Date.now()),e[hr].unshiftNode(r));return i.value}},ly=(e,t)=>{if(!t||!t.maxAge&&!e[Ku])return!1;const n=Date.now()-t.now;return t.maxAge?n>t.maxAge:e[Ku]&&n>e[Ku]},xh=e=>{if(e[Es]>e[$u])for(let t=e[hr].tail;e[Es]>e[$u]&&t!==null;){const n=t.prev;Bf(e,t),t=n}},Bf=(e,t)=>{if(t){const n=t.value;e[xs]&&e[xs](n.key,n.value),e[Es]-=n.length,e[Po].delete(n.key),e[hr].removeNode(t)}};class M9{constructor(t,n,r,i,a){this.key=t,this.value=n,this.length=r,this.now=i,this.maxAge=a||0}}const Pk=(e,t,n,r)=>{let i=n.value;ly(e,i)&&(Bf(e,n),e[qh]||(i=void 0)),i&&t.call(r,i.value,i.key,e)};var F9=R9,r1,Ak;function zo(){if(Ak)return r1;Ak=1;class e{constructor(Z,q){if(q=r(q),Z instanceof e)return Z.loose===!!q.loose&&Z.includePrerelease===!!q.includePrerelease?Z:new e(Z.raw,q);if(Z instanceof i)return this.raw=Z.value,this.set=[[Z]],this.format(),this;if(this.options=q,this.loose=!!q.loose,this.includePrerelease=!!q.includePrerelease,this.raw=Z.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(Me=>this.parseRange(Me.trim())).filter(Me=>Me.length),!this.set.length)throw new TypeError("Invalid SemVer Range: ".concat(this.raw));if(this.set.length>1){const Me=this.set[0];if(this.set=this.set.filter(Ne=>!I(Ne[0])),this.set.length===0)this.set=[Me];else if(this.set.length>1){for(const Ne of this.set)if(Ne.length===1&&j(Ne[0])){this.set=[Ne];break}}}this.format()}format(){return this.range=this.set.map(Z=>Z.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(Z){const Me=((this.options.includePrerelease&&E)|(this.options.loose&&C))+":"+Z,Ne=n.get(Me);if(Ne)return Ne;const _e=this.options.loose,Se=_e?c[p.HYPHENRANGELOOSE]:c[p.HYPHENRANGE];Z=Z.replace(Se,we(this.options.includePrerelease)),a("hyphen replace",Z),Z=Z.replace(c[p.COMPARATORTRIM],v),a("comparator trim",Z),Z=Z.replace(c[p.TILDETRIM],m),a("tilde trim",Z),Z=Z.replace(c[p.CARETTRIM],x),a("caret trim",Z);let Le=Z.split(" ").map(re=>P(re,this.options)).join(" ").split(/\s+/).map(re=>me(re,this.options));_e&&(Le=Le.filter(re=>(a("loose invalid filter",re,this.options),!!re.match(c[p.COMPARATORLOOSE])))),a("range list",Le);const te=new Map,ce=Le.map(re=>new i(re,this.options));for(const re of ce){if(I(re))return[re];te.set(re.value,re)}te.size>1&&te.has("")&&te.delete("");const ye=[...te.values()];return n.set(Me,ye),ye}intersects(Z,q){if(!(Z instanceof e))throw new TypeError("a Range is required");return this.set.some(Me=>A(Me,q)&&Z.set.some(Ne=>A(Ne,q)&&Me.every(_e=>Ne.every(Se=>_e.intersects(Se,q)))))}test(Z){if(!Z)return!1;if(typeof Z=="string")try{Z=new l(Z,this.options)}catch{return!1}for(let q=0;q<this.set.length;q++)if(ze(this.set[q],Z,this.options))return!0;return!1}}r1=e;const t=F9,n=new t({max:1e3}),r=AE,i=Qy(),a=Xy,l=ti,{safeRe:c,t:p,comparatorTrimReplace:v,tildeTrimReplace:m,caretTrimReplace:x}=Xp,{FLAG_INCLUDE_PRERELEASE:E,FLAG_LOOSE:C}=qy,I=J=>J.value==="<0.0.0-0",j=J=>J.value==="",A=(J,Z)=>{let q=!0;const Me=J.slice();let Ne=Me.pop();for(;q&&Me.length;)q=Me.every(_e=>Ne.intersects(_e,Z)),Ne=Me.pop();return q},P=(J,Z)=>(a("comp",J,Z),J=U(J,Z),a("caret",J),J=z(J,Z),a("tildes",J),J=V(J,Z),a("xrange",J),J=he(J,Z),a("stars",J),J),M=J=>!J||J.toLowerCase()==="x"||J==="*",z=(J,Z)=>J.trim().split(/\s+/).map(q=>$(q,Z)).join(" "),$=(J,Z)=>{const q=Z.loose?c[p.TILDELOOSE]:c[p.TILDE];return J.replace(q,(Me,Ne,_e,Se,Le)=>{a("tilde",J,Me,Ne,_e,Se,Le);let te;return M(Ne)?te="":M(_e)?te=">=".concat(Ne,".0.0 <").concat(+Ne+1,".0.0-0"):M(Se)?te=">=".concat(Ne,".").concat(_e,".0 <").concat(Ne,".").concat(+_e+1,".0-0"):Le?(a("replaceTilde pr",Le),te=">=".concat(Ne,".").concat(_e,".").concat(Se,"-").concat(Le," <").concat(Ne,".").concat(+_e+1,".0-0")):te=">=".concat(Ne,".").concat(_e,".").concat(Se," <").concat(Ne,".").concat(+_e+1,".0-0"),a("tilde return",te),te})},U=(J,Z)=>J.trim().split(/\s+/).map(q=>X(q,Z)).join(" "),X=(J,Z)=>{a("caret",J,Z);const q=Z.loose?c[p.CARETLOOSE]:c[p.CARET],Me=Z.includePrerelease?"-0":"";return J.replace(q,(Ne,_e,Se,Le,te)=>{a("caret",J,Ne,_e,Se,Le,te);let ce;return M(_e)?ce="":M(Se)?ce=">=".concat(_e,".0.0").concat(Me," <").concat(+_e+1,".0.0-0"):M(Le)?_e==="0"?ce=">=".concat(_e,".").concat(Se,".0").concat(Me," <").concat(_e,".").concat(+Se+1,".0-0"):ce=">=".concat(_e,".").concat(Se,".0").concat(Me," <").concat(+_e+1,".0.0-0"):te?(a("replaceCaret pr",te),_e==="0"?Se==="0"?ce=">=".concat(_e,".").concat(Se,".").concat(Le,"-").concat(te," <").concat(_e,".").concat(Se,".").concat(+Le+1,"-0"):ce=">=".concat(_e,".").concat(Se,".").concat(Le,"-").concat(te," <").concat(_e,".").concat(+Se+1,".0-0"):ce=">=".concat(_e,".").concat(Se,".").concat(Le,"-").concat(te," <").concat(+_e+1,".0.0-0")):(a("no pr"),_e==="0"?Se==="0"?ce=">=".concat(_e,".").concat(Se,".").concat(Le).concat(Me," <").concat(_e,".").concat(Se,".").concat(+Le+1,"-0"):ce=">=".concat(_e,".").concat(Se,".").concat(Le).concat(Me," <").concat(_e,".").concat(+Se+1,".0-0"):ce=">=".concat(_e,".").concat(Se,".").concat(Le," <").concat(+_e+1,".0.0-0")),a("caret return",ce),ce})},V=(J,Z)=>(a("replaceXRanges",J,Z),J.split(/\s+/).map(q=>ne(q,Z)).join(" ")),ne=(J,Z)=>{J=J.trim();const q=Z.loose?c[p.XRANGELOOSE]:c[p.XRANGE];return J.replace(q,(Me,Ne,_e,Se,Le,te)=>{a("xRange",J,Me,Ne,_e,Se,Le,te);const ce=M(_e),ye=ce||M(Se),re=ye||M(Le),se=re;return Ne==="="&&se&&(Ne=""),te=Z.includePrerelease?"-0":"",ce?Ne===">"||Ne==="<"?Me="<0.0.0-0":Me="*":Ne&&se?(ye&&(Se=0),Le=0,Ne===">"?(Ne=">=",ye?(_e=+_e+1,Se=0,Le=0):(Se=+Se+1,Le=0)):Ne==="<="&&(Ne="<",ye?_e=+_e+1:Se=+Se+1),Ne==="<"&&(te="-0"),Me="".concat(Ne+_e,".").concat(Se,".").concat(Le).concat(te)):ye?Me=">=".concat(_e,".0.0").concat(te," <").concat(+_e+1,".0.0-0"):re&&(Me=">=".concat(_e,".").concat(Se,".0").concat(te," <").concat(_e,".").concat(+Se+1,".0-0")),a("xRange return",Me),Me})},he=(J,Z)=>(a("replaceStars",J,Z),J.trim().replace(c[p.STAR],"")),me=(J,Z)=>(a("replaceGTE0",J,Z),J.trim().replace(c[Z.includePrerelease?p.GTE0PRE:p.GTE0],"")),we=J=>(Z,q,Me,Ne,_e,Se,Le,te,ce,ye,re,se,pe)=>(M(Me)?q="":M(Ne)?q=">=".concat(Me,".0.0").concat(J?"-0":""):M(_e)?q=">=".concat(Me,".").concat(Ne,".0").concat(J?"-0":""):Se?q=">=".concat(q):q=">=".concat(q).concat(J?"-0":""),M(ce)?te="":M(ye)?te="<".concat(+ce+1,".0.0-0"):M(re)?te="<".concat(ce,".").concat(+ye+1,".0-0"):se?te="<=".concat(ce,".").concat(ye,".").concat(re,"-").concat(se):J?te="<".concat(ce,".").concat(ye,".").concat(+re+1,"-0"):te="<=".concat(te),"".concat(q," ").concat(te).trim()),ze=(J,Z,q)=>{for(let Me=0;Me<J.length;Me++)if(!J[Me].test(Z))return!1;if(Z.prerelease.length&&!q.includePrerelease){for(let Me=0;Me<J.length;Me++)if(a(J[Me].semver),J[Me].semver!==i.ANY&&J[Me].semver.prerelease.length>0){const Ne=J[Me].semver;if(Ne.major===Z.major&&Ne.minor===Z.minor&&Ne.patch===Z.patch)return!0}return!1}return!0};return r1}var i1,Nk;function Qy(){if(Nk)return i1;Nk=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(m,x){if(x=n(x),m instanceof t){if(m.loose===!!x.loose)return m;m=m.value}m=m.trim().split(/\s+/).join(" "),l("comparator",m,x),this.options=x,this.loose=!!x.loose,this.parse(m),this.semver===e?this.value="":this.value=this.operator+this.semver.version,l("comp",this)}parse(m){const x=this.options.loose?r[i.COMPARATORLOOSE]:r[i.COMPARATOR],E=m.match(x);if(!E)throw new TypeError("Invalid comparator: ".concat(m));this.operator=E[1]!==void 0?E[1]:"",this.operator==="="&&(this.operator=""),E[2]?this.semver=new c(E[2],this.options.loose):this.semver=e}toString(){return this.value}test(m){if(l("Comparator.test",m,this.options.loose),this.semver===e||m===e)return!0;if(typeof m=="string")try{m=new c(m,this.options)}catch{return!1}return a(m,this.operator,this.semver,this.options)}intersects(m,x){if(!(m instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new p(m.value,x).test(this.value):m.operator===""?m.value===""?!0:new p(this.value,x).test(m.semver):(x=n(x),x.includePrerelease&&(this.value==="<0.0.0-0"||m.value==="<0.0.0-0")||!x.includePrerelease&&(this.value.startsWith("<0.0.0")||m.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&m.operator.startsWith(">")||this.operator.startsWith("<")&&m.operator.startsWith("<")||this.semver.version===m.semver.version&&this.operator.includes("=")&&m.operator.includes("=")||a(this.semver,"<",m.semver,x)&&this.operator.startsWith(">")&&m.operator.startsWith("<")||a(this.semver,">",m.semver,x)&&this.operator.startsWith("<")&&m.operator.startsWith(">")))}}i1=t;const n=AE,{safeRe:r,t:i}=Xp,a=cA,l=Xy,c=ti,p=zo();return i1}const j9=zo(),$9=(e,t,n)=>{try{t=new j9(t,n)}catch{return!1}return t.test(e)};var Zy=$9;const D9=zo(),B9=(e,t)=>new D9(e,t).set.map(n=>n.map(r=>r.value).join(" ").trim().split(" "));var z9=B9;const H9=ti,U9=zo(),W9=(e,t,n)=>{let r=null,i=null,a=null;try{a=new U9(t,n)}catch{return null}return e.forEach(l=>{a.test(l)&&(!r||i.compare(l)===-1)&&(r=l,i=new H9(r,n))}),r};var K9=W9;const G9=ti,q9=zo(),X9=(e,t,n)=>{let r=null,i=null,a=null;try{a=new q9(t,n)}catch{return null}return e.forEach(l=>{a.test(l)&&(!r||i.compare(l)===1)&&(r=l,i=new G9(r,n))}),r};var V9=X9;const o1=ti,Y9=zo(),Ik=Vy,Q9=(e,t)=>{e=new Y9(e,t);let n=new o1("0.0.0");if(e.test(n)||(n=new o1("0.0.0-0"),e.test(n)))return n;n=null;for(let r=0;r<e.set.length;++r){const i=e.set[r];let a=null;i.forEach(l=>{const c=new o1(l.semver.version);switch(l.operator){case">":c.prerelease.length===0?c.patch++:c.prerelease.push(0),c.raw=c.format();case"":case">=":(!a||Ik(c,a))&&(a=c);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: ".concat(l.operator))}}),a&&(!n||Ik(n,a))&&(n=a)}return n&&e.test(n)?n:null};var Z9=Q9;const J9=zo(),eK=(e,t)=>{try{return new J9(e,t).range||"*"}catch{return null}};var tK=eK;const nK=ti,dA=Qy(),{ANY:rK}=dA,iK=zo(),oK=Zy,Rk=Vy,Mk=Yy,aK=RE,sK=IE,lK=(e,t,n,r)=>{e=new nK(e,r),t=new iK(t,r);let i,a,l,c,p;switch(n){case">":i=Rk,a=aK,l=Mk,c=">",p=">=";break;case"<":i=Mk,a=sK,l=Rk,c="<",p="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(oK(e,t,r))return!1;for(let v=0;v<t.set.length;++v){const m=t.set[v];let x=null,E=null;if(m.forEach(C=>{C.semver===rK&&(C=new dA(">=0.0.0")),x=x||C,E=E||C,i(C.semver,x.semver,r)?x=C:l(C.semver,E.semver,r)&&(E=C)}),x.operator===c||x.operator===p||(!E.operator||E.operator===c)&&a(e,E.semver))return!1;if(E.operator===p&&l(e,E.semver))return!1}return!0};var ME=lK;const uK=ME,cK=(e,t,n)=>uK(e,t,">",n);var fK=cK;const dK=ME,hK=(e,t,n)=>dK(e,t,"<",n);var pK=hK;const Fk=zo(),gK=(e,t,n)=>(e=new Fk(e,n),t=new Fk(t,n),e.intersects(t,n));var vK=gK;const mK=Zy,yK=Bo;var wK=(e,t,n)=>{const r=[];let i=null,a=null;const l=e.sort((m,x)=>yK(m,x,n));for(const m of l)mK(m,t,n)?(a=m,i||(i=m)):(a&&r.push([i,a]),a=null,i=null);i&&r.push([i,null]);const c=[];for(const[m,x]of r)m===x?c.push(m):!x&&m===l[0]?c.push("*"):x?m===l[0]?c.push("<=".concat(x)):c.push("".concat(m," - ").concat(x)):c.push(">=".concat(m));const p=c.join(" || "),v=typeof t.raw=="string"?t.raw:String(t);return p.length<v.length?p:t};const jk=zo(),FE=Qy(),{ANY:a1}=FE,bh=Zy,jE=Bo,xK=(e,t,n={})=>{if(e===t)return!0;e=new jk(e,n),t=new jk(t,n);let r=!1;e:for(const i of e.set){for(const a of t.set){const l=EK(i,a,n);if(r=r||l!==null,l)continue e}if(r)return!1}return!0},bK=[new FE(">=0.0.0-0")],$k=[new FE(">=0.0.0")],EK=(e,t,n)=>{if(e===t)return!0;if(e.length===1&&e[0].semver===a1){if(t.length===1&&t[0].semver===a1)return!0;n.includePrerelease?e=bK:e=$k}if(t.length===1&&t[0].semver===a1){if(n.includePrerelease)return!0;t=$k}const r=new Set;let i,a;for(const C of e)C.operator===">"||C.operator===">="?i=Dk(i,C,n):C.operator==="<"||C.operator==="<="?a=Bk(a,C,n):r.add(C.semver);if(r.size>1)return null;let l;if(i&&a){if(l=jE(i.semver,a.semver,n),l>0)return null;if(l===0&&(i.operator!==">="||a.operator!=="<="))return null}for(const C of r){if(i&&!bh(C,String(i),n)||a&&!bh(C,String(a),n))return null;for(const I of t)if(!bh(C,String(I),n))return!1;return!0}let c,p,v,m,x=a&&!n.includePrerelease&&a.semver.prerelease.length?a.semver:!1,E=i&&!n.includePrerelease&&i.semver.prerelease.length?i.semver:!1;x&&x.prerelease.length===1&&a.operator==="<"&&x.prerelease[0]===0&&(x=!1);for(const C of t){if(m=m||C.operator===">"||C.operator===">=",v=v||C.operator==="<"||C.operator==="<=",i){if(E&&C.semver.prerelease&&C.semver.prerelease.length&&C.semver.major===E.major&&C.semver.minor===E.minor&&C.semver.patch===E.patch&&(E=!1),C.operator===">"||C.operator===">="){if(c=Dk(i,C,n),c===C&&c!==i)return!1}else if(i.operator===">="&&!bh(i.semver,String(C),n))return!1}if(a){if(x&&C.semver.prerelease&&C.semver.prerelease.length&&C.semver.major===x.major&&C.semver.minor===x.minor&&C.semver.patch===x.patch&&(x=!1),C.operator==="<"||C.operator==="<="){if(p=Bk(a,C,n),p===C&&p!==a)return!1}else if(a.operator==="<="&&!bh(a.semver,String(C),n))return!1}if(!C.operator&&(a||i)&&l!==0)return!1}return!(i&&v&&!a&&l!==0||a&&m&&!i&&l!==0||E||x)},Dk=(e,t,n)=>{if(!e)return t;const r=jE(e.semver,t.semver,n);return r>0?e:r<0||t.operator===">"&&e.operator===">="?t:e},Bk=(e,t,n)=>{if(!e)return t;const r=jE(e.semver,t.semver,n);return r<0?e:r>0||t.operator==="<"&&e.operator==="<="?t:e};var SK=xK;const s1=Xp,zk=qy,CK=ti,Hk=aA,TK=cd,kK=T7,_K=O7,OK=P7,LK=N7,PK=M7,AK=$7,NK=z7,IK=W7,RK=Bo,MK=X7,FK=Q7,jK=NE,$K=t9,DK=i9,BK=Vy,zK=Yy,HK=lA,UK=uA,WK=IE,KK=RE,GK=cA,qK=_9,XK=Qy(),VK=zo(),YK=Zy,QK=z9,ZK=K9,JK=V9,eG=Z9,tG=tK,nG=ME,rG=fK,iG=pK,oG=vK,aG=wK,sG=SK;var $E={parse:TK,valid:kK,clean:_K,inc:OK,diff:LK,major:PK,minor:AK,patch:NK,prerelease:IK,compare:RK,rcompare:MK,compareLoose:FK,compareBuild:jK,sort:$K,rsort:DK,gt:BK,lt:zK,eq:HK,neq:UK,gte:WK,lte:KK,cmp:GK,coerce:qK,Comparator:XK,Range:VK,satisfies:YK,toComparators:QK,maxSatisfying:ZK,minSatisfying:JK,minVersion:eG,validRange:tG,outside:nG,gtr:rG,ltr:iG,intersects:oG,simplifyRange:aG,subset:sG,SemVer:CK,re:s1.re,src:s1.src,tokens:s1.t,SEMVER_SPEC_VERSION:zk.SEMVER_SPEC_VERSION,RELEASE_TYPES:zk.RELEASE_TYPES,compareIdentifiers:Hk.compareIdentifiers,rcompareIdentifiers:Hk.rcompareIdentifiers};function yf(e,t,n,r){let i='Repairing passage (name: "'.concat(e.name,'", id: ').concat(e.id,"): setting ").concat(t," to ").concat(n,", was ").concat(e[t]);r&&(i+=" (".concat(r,")")),console.info(i)}function lG(e,t){const n=Wl(),r={};if(typeof e.id!="string"||e.id===""){const i=pn();yf(e,"id",i,"was undefined or empty string"),r.id=pn()}if(Object.entries(n).forEach(([i,a])=>{const l=i;(typeof a=="number"&&!Number.isFinite(e[l])||typeof a!=typeof e[l])&&(yf(e,l,n[l]),r[l]=n[l])}),["left","top"].forEach(i=>{const a=i;typeof e[a]=="number"&&e[a]<0&&(yf(e,a,0,"was negative"),r[a]=0)}),["height","width"].forEach(i=>{const a=i;typeof e[a]=="number"&&e[a]<5&&(yf(e,a,0,"was less than 5"),r[a]=5)}),e.story!==t.id&&(yf(e,"story",t.id,"didn't match parent story"),r.story=t.id),t.passages.some(i=>i===e?!1:i.id===e.id)){const i=pn();yf(e,"id",i,"conflicted with another passage in the story"),r.id=i}return Object.keys(r).length>0?{...e,...r}:e}function va(e,t,n,r){let i='Repairing story (name: "'.concat(e.name,'", id: ').concat(e.id,") by setting ").concat(t," to ").concat(n,", was ").concat(e[t]);r&&(i+=" (".concat(r,")")),console.info(i)}function uG(e,t,n,r){const i=id(),a={};if(typeof e.id!="string"||e.id===""){const p=pn();va(e,"id",p,"was bad type or empty string"),a.id=p}if(typeof e.ifid!="string"||e.id===""){const p=pn();va(e,"ifid",p,"was bad type or empty string"),a.ifid=p}if(Object.entries(i).forEach(([p,v])=>{const m=p;(typeof v=="number"&&!Number.isFinite(e[m])||typeof v!=typeof e[m])&&(va(e,m,i[m]),a[m]=i[m])}),typeof e.storyFormat!="string"||e.storyFormat===""||typeof e.storyFormatVersion!="string"||e.storyFormatVersion==="")va(e,"storyFormat",r.name,"was bad type or unset"),va(e,"storyFormatVersion",r.version,"was bad type or unset"),a.storyFormat=r.name,a.storyFormatVersion=r.version;else if(!n.some(p=>p.name===e.storyFormat&&p.version===e.storyFormatVersion)){const p=n.find(v=>v.name===e.storyFormat&&$E.satisfies(v.version,"^"+e.storyFormatVersion));p?(va(e,"storyFormat",p.name,"no match in existing formats but found one that satisfies semver"),va(e,"storyFormatVersion",p.version,"no match in existing formats but found one that satisfies semver"),a.storyFormat=p.name,a.storyFormatVersion=p.version):(va(e,"storyFormat",r.name,"no match in existing formats and could not find one that satisfies semver"),va(e,"storyFormatVersion",r.version,"no match in existing formats and could not find one that satisfies semver"),a.storyFormat=r.name,a.storyFormatVersion=r.version)}if(t.some(p=>p===e?!1:p.id===e.id)){const p=pn();va(e,"id",p,"conflicted with another story's ID"),a.id=p}let l=!1;const c=e.passages.map(p=>{const v=lG(p,{...e,...a});return v!==p?(l=!0,v):p});return l&&(a.passages=c),Object.keys(a).length>0?{...e,...a}:e}function cG(e,t,n){return e.map(r=>uG(r,e,t,n))}const fG=["highlighted","selected"],dG=["lastUpdate","selected"],hG=["loadError","loadState","properties","selected"];function hp(e){return Object.keys(e).some(t=>!fG.includes(t))}function hA(e){return Object.keys(e).some(t=>!dG.includes(t))}function pA(e){return Object.keys(e).some(t=>!hG.includes(t))}function gA(e,t,n,r){let i=!1,a=!1;const l=e.map(c=>{if(c.id!==t)return c;if(i=!0,"name"in r&&c.passages.some(v=>v.name===r.name&&v.id!==n))return console.warn('There is already a passage in this story with name "'.concat(r.name,'", taking no action')),c;const p={...c,passages:c.passages.map(v=>v.id!==n?v:(a=!0,{...v,...r}))};return a?(hp(r)&&(p.lastUpdate=new Date),p):(console.warn('Asked to update a passage with ID "'.concat(n,'", but it does not exist in story ID ').concat(t,", taking no action")),c)});return i?a?l:e:(console.warn('No story in state with ID "'.concat(t,'", taking no action')),e)}function pG(e,t,n){return Object.keys(n).reduce((r,i)=>gA(r,t,i,n[i]),e)}function gG(e,t,n){if("name"in n&&e.some(a=>a.name===n.name&&a.id!==t))return console.warn('There is another story in state with name "'.concat(n.name,'", taking no action')),e;let r=!1;const i=e.map(a=>{if(a.id!==t)return a;r=!0;const l={...a,...n};return hA(n)&&(l.lastUpdate=new Date),l});return r?i:(console.warn('Asked to update a story with ID "'.concat(t,'", but it does not exist in state')),e)}const vG=(e,t)=>{switch(t.type){case"createPassage":return nA(e,t.storyId,t.props);case"createPassages":return o7(e,t.storyId,t.props);case"createStory":return a7(e,t.props);case"deletePassage":return rA(e,t.storyId,t.passageId);case"deletePassages":return s7(e,t.storyId,t.passageIds);case"deleteStory":return l7(e,t.storyId);case"init":return u7(e,t.state);case"repair":return cG(e,t.allFormats,t.defaultFormat);case"updatePassage":return gA(e,t.storyId,t.passageId,t.props);case"updatePassages":return pG(e,t.storyId,t.passageUpdates);case"updateStory":return gG(e,t.storyId,t.props);default:console.warn("".concat(t.type," not implemented yet"))}return e};var Ux={exports:{}},Wx={exports:{}},pp=1e3,gp=pp*60,vp=gp*60,mp=vp*24,mG=mp*365.25,yG=function(e,t){t=t||{};var n=typeof e;if(n==="string"&&e.length>0)return wG(e);if(n==="number"&&isNaN(e)===!1)return t.long?bG(e):xG(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function wG(e){if(e=String(e),!(e.length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),r=(t[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*mG;case"days":case"day":case"d":return n*mp;case"hours":case"hour":case"hrs":case"hr":case"h":return n*vp;case"minutes":case"minute":case"mins":case"min":case"m":return n*gp;case"seconds":case"second":case"secs":case"sec":case"s":return n*pp;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function xG(e){return e>=mp?Math.round(e/mp)+"d":e>=vp?Math.round(e/vp)+"h":e>=gp?Math.round(e/gp)+"m":e>=pp?Math.round(e/pp)+"s":e+"ms"}function bG(e){return zv(e,mp,"day")||zv(e,vp,"hour")||zv(e,gp,"minute")||zv(e,pp,"second")||e+" ms"}function zv(e,t,n){if(!(e<t))return e<t*1.5?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}(function(e,t){t=e.exports=i.debug=i.default=i,t.coerce=p,t.disable=l,t.enable=a,t.enabled=c,t.humanize=yG,t.names=[],t.skips=[],t.formatters={};var n;function r(v){var m=0,x;for(x in v)m=(m<<5)-m+v.charCodeAt(x),m|=0;return t.colors[Math.abs(m)%t.colors.length]}function i(v){function m(){if(m.enabled){var x=m,E=+new Date,C=E-(n||E);x.diff=C,x.prev=n,x.curr=E,n=E;for(var I=new Array(arguments.length),j=0;j<I.length;j++)I[j]=arguments[j];I[0]=t.coerce(I[0]),typeof I[0]!="string"&&I.unshift("%O");var A=0;I[0]=I[0].replace(/%([a-zA-Z%])/g,function(M,z){if(M==="%%")return M;A++;var $=t.formatters[z];if(typeof $=="function"){var U=I[A];M=$.call(x,U),I.splice(A,1),A--}return M}),t.formatArgs.call(x,I);var P=m.log||t.log||console.log.bind(console);P.apply(x,I)}}return m.namespace=v,m.enabled=t.enabled(v),m.useColors=t.useColors(),m.color=r(v),typeof t.init=="function"&&t.init(m),m}function a(v){t.save(v),t.names=[],t.skips=[];for(var m=(typeof v=="string"?v:"").split(/[\s,]+/),x=m.length,E=0;E<x;E++)m[E]&&(v=m[E].replace(/\*/g,".*?"),v[0]==="-"?t.skips.push(new RegExp("^"+v.substr(1)+"$")):t.names.push(new RegExp("^"+v+"$")))}function l(){t.enable("")}function c(v){var m,x;for(m=0,x=t.skips.length;m<x;m++)if(t.skips[m].test(v))return!1;for(m=0,x=t.names.length;m<x;m++)if(t.names[m].test(v))return!0;return!1}function p(v){return v instanceof Error?v.stack||v.message:v}})(Wx,Wx.exports);var EG=Wx.exports;(function(e,t){t=e.exports=EG,t.log=i,t.formatArgs=r,t.save=a,t.load=l,t.useColors=n,t.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:c(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function n(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}t.formatters.j=function(p){try{return JSON.stringify(p)}catch(v){return"[UnexpectedJSONParseError]: "+v.message}};function r(p){var v=this.useColors;if(p[0]=(v?"%c":"")+this.namespace+(v?" %c":" ")+p[0]+(v?"%c ":" ")+"+"+t.humanize(this.diff),!!v){var m="color: "+this.color;p.splice(1,0,m,"color: inherit");var x=0,E=0;p[0].replace(/%[a-zA-Z%]/g,function(C){C!=="%%"&&(x++,C==="%c"&&(E=x))}),p.splice(E,0,m)}}function i(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function a(p){try{p==null?t.storage.removeItem("debug"):t.storage.debug=p}catch{}}function l(){var p;try{p=t.storage.debug}catch{}return!p&&typeof yr.process<"u"&&"env"in yr.process&&(p={}.DEBUG),p}t.enable(l());function c(){try{return window.localStorage}catch{}}})(Ux,Ux.exports);var SG=Ux.exports,Uk=SG("jsonp"),CG=_G,TG=0;function kG(){}function _G(e,t,n){typeof t=="function"&&(n=t,t={}),t||(t={});var r=t.prefix||"__jp",i=t.name||r+TG++,a=t.param||"callback",l=t.timeout!=null?t.timeout:6e4,c=encodeURIComponent,p=document.getElementsByTagName("script")[0]||document.head,v,m;l&&(m=setTimeout(function(){x(),n&&n(new Error("Timeout"))},l));function x(){v.parentNode&&v.parentNode.removeChild(v),window[i]=kG,m&&clearTimeout(m)}function E(){window[i]&&x()}return window[i]=function(C){Uk("jsonp got",C),x(),n&&n(null,C)},e+=(~e.indexOf("?")?"&":"?")+a+"="+c(i),e=e.replace("?&","?"),Uk('jsonp req "%s"',e),v=document.createElement("script"),v.src=e,p.parentNode.insertBefore(v,p),E}const OG=Tn(CG);let Wk=Promise.resolve();async function uy(e,t=2e3){return new Promise((n,r)=>Wk=Wk.then(()=>new Promise(i=>{OG(e,{timeout:t,name:"storyFormat"},(a,l)=>{a?r(a):n(l),i()})})))}function LG(e,t){if(!t.name||!t.version)throw new Error("Missing required properties for a new story format");return{type:"create",props:{url:e,name:t.name,selected:!1,userAdded:!0,version:t.version}}}function PG(e){return{type:"delete",id:e.id}}function AG(){return(e,t)=>{for(const n of t())n.selected&&e({type:"update",id:n.id,props:{selected:!1}})}}function NG(e){return{type:"update",id:e.id,props:{selected:!1}}}async function vA(e,t){t({type:"update",id:e.id,props:{loadState:"loading"}});try{let n=await uy(e.url);if(n.hydrate)try{const r={};new Function(n.hydrate).call(r),n={...r,...n}}catch(r){console.error("Format ".concat(e.id," has a hydrate property but it threw an error when called"),r)}return t({type:"update",id:e.id,props:{properties:n,loadState:"loaded"}}),n}catch(n){t({type:"update",id:e.id,props:{loadError:n,loadState:"error"}})}}function IG(e){const t=e.filter(n=>n.loadState!=="loaded"&&n.loadState!=="loading");return t?async n=>{await Promise.allSettled(t.map(r=>vA(r,n)))}:()=>{}}function yp(e){return e.loadState==="loaded"?()=>e.properties:async t=>await vA(e,t)}function RG(e,t){return(n,r)=>{if(e.selected||n({type:"update",id:e.id,props:{selected:!0}}),t)for(const i of r())i.id!==e.id&&i.selected&&n({type:"update",id:i.id,props:{selected:!1}})}}const mA=()=>[{name:"Chapbook",url:"story-formats/chapbook-1.2.3/format.js",version:"1.2.3"},{name:"Harlowe",url:"story-formats/harlowe-1.2.4/format.js",version:"1.2.4"},{name:"Harlowe",url:"story-formats/harlowe-2.1.0/format.js",version:"2.1.0"},{name:"Harlowe",url:"story-formats/harlowe-3.3.8/format.js",version:"3.3.8"},{name:"Paperthin",url:"story-formats/paperthin-1.0.0/format.js",version:"1.0.0"},{name:"Snowman",url:"story-formats/snowman-1.4.0/format.js",version:"1.4.0"},{name:"Snowman",url:"story-formats/snowman-2.0.2/format.js",version:"2.0.2",userAdded:!1},{name:"SugarCube",url:"story-formats/sugarcube-1.0.35/format.js",version:"1.0.35"},{name:"SugarCube",url:"story-formats/sugarcube-2.36.1/format.js",version:"2.36.1"}];var MG=e=>{if(typeof e!="string")throw new TypeError("Expected a `string`, got `".concat(typeof e,"`"));return/^[a-zA-Z]:\\/.test(e)?!1:/^[a-zA-Z][a-zA-Z\d+\-.]*:/.test(e)};const FG=Tn(MG);function jG(e,t){switch(t){case"all":return e;case"current":return Object.values(e.reduce((n,r)=>!n[r.name]||sA(n[r.name].version,r.version)?{...n,[r.name]:r}:n,{}));case"user":return e.filter(n=>n.userAdded)}}function $G(e){if(e.loadState!=="loaded"||!e.properties.image)throw new Error("Format has no image property");return FG(e.properties.image)?e.properties.image:e.url.replace(/\/[^/]*?$/,"/")+e.properties.image}function DG(e,t){const n=e.find(r=>r.id===t);if(n)return n;throw new Error('There is no story format with ID "'.concat(t,'".'))}function ho(e,t,n){const r=e.find(i=>i.name===t&&i.version===n);if(r)return r;throw new Error('There is no story format with name "'.concat(t,'" and version "').concat(n,'".'))}function Kk(e,t){return e.reduce((n,r)=>r.name!==t?n:!n||$E.gt(r.version,n.version)?r:n,void 0)}function yA(e){return e.sort((t,n)=>t.name<n.name?-1:t.name>n.name?1:t.version===n.version?0:sA(n.version,t.version)?-1:1)}const dc=()=>window.navigator.userAgent.indexOf("Electron")!==-1;function DE(){const{t:e,ready:t}=Xe("",{useSuspense:!1});return{reportError(n,r){console.error("Twine store error",n),t?window.alert(e(r,{error:n.message})+" "+e("store.errors.".concat(dc()?"electron":"web","Remediation"))):window.alert("An error occurred while saving (".concat(n.message,"). Reloading or restarting the application may help."))}}}const BG=(e,t)=>{switch(t.type){case"init":return[...t.state];case"repair":const n=mA(),r=e.filter(i=>{const a=i.userAdded||n.some(l=>l.name===i.name&&l.version===i.version);return a||console.info("Repairing story formats by removing ".concat(i.name," ").concat(i.version," (outdated version of built-in format)")),a});return n.forEach(i=>{r.some(a=>a.name===i.name&&a.version===i.version)||(console.info("Repairing story formats by adding built-in ".concat(i.name," ").concat(i.version)),r.push({...i,id:pn(),loadState:"unloaded",selected:!1,userAdded:!1}))}),r;case"create":return e.some(i=>i.name===t.props.name&&i.version===t.props.version)?e:[...e,{...t.props,id:pn(),loadState:"unloaded"}];case"delete":return e.filter(i=>i.id!==t.id);case"update":return e.some(i=>i.id!==t.id&&i.name===t.props.name&&i.version===t.props.version)?e:e.map(i=>i.id!==t.id?i:{...i,...t.props})}return e},zG=mA().map(e=>({...e,id:pn(),loadState:"unloaded",selected:!1,userAdded:!1})),BE=O.createContext({dispatch:()=>{},formats:[]});BE.displayName="StoryFormats";const Wi=()=>O.useContext(BE),HG=e=>{const{storyFormats:t}=e0(),{reportError:n}=DE(),r=O.useCallback((l,c)=>{const p=BG(l,c);try{t.saveMiddleware(p,c)}catch(v){n(v,"store.errors.cantPersistStoryFormats")}return p},[n,t]),[i,a]=PE(r,zG);return b.jsx(BE.Provider,{value:{dispatch:a,formats:i},children:e.children})},zE=O.createContext({dispatch:()=>{},stories:[]});zE.displayName="Stories";const gn=()=>O.useContext(zE),UG=e=>{const{stories:t}=e0(),{formats:n}=Wi(),{reportError:r}=DE(),i=O.useMemo(()=>(c,p)=>{const v=vG(c,p);try{t.saveMiddleware(v,p,n)}catch(m){r(m,"store.errors.cantPersistStories")}return v},[n,r,t]),[a,l]=PE(i,[]);return b.jsx(zE.Provider,{value:{dispatch:l,stories:a},children:e.children})},Rh={passage:"tw-passage",story:"tw-story",script:"[role=script]",stylesheet:"[role=stylesheet]",storyData:"tw-storydata",tagColors:"tw-tag",passageData:"tw-passagedata"};function Hv(e){return parseFloat(e)}function Mh(e,t){return Array.from(e.querySelectorAll(t))}function Gk(e){if(typeof e!="string")return;const t=e.split(",");if(t.length===2)return[t[0],t[1]]}function WG(e){var i,a,l,c,p;const t=e.getAttribute("startnode");let n;const r={ifid:(i=e.getAttribute("ifid"))!=null?i:pn(),id:pn(),lastUpdate:void 0,name:(a=e.getAttribute("name"))!=null?a:void 0,storyFormat:(l=e.getAttribute("format"))!=null?l:void 0,storyFormatVersion:(c=e.getAttribute("format-version"))!=null?c:void 0,script:Mh(e,Rh.script).map(v=>v.textContent).join("\n"),stylesheet:Mh(e,Rh.stylesheet).map(v=>v.textContent).join("\n"),tags:e.getAttribute("tags")?e.getAttribute("tags").split(/\s+/):[],zoom:parseFloat((p=e.getAttribute("zoom"))!=null?p:"1"),tagColors:Mh(e,Rh.tagColors).reduce((v,m)=>{const x=m.getAttribute("name");return typeof x!="string"?v:{...v,[x]:m.getAttribute("color")}},{}),passages:Mh(e,Rh.passageData).map(v=>{var C,I;const m=pn(),x=Gk(v.getAttribute("position")),E=Gk(v.getAttribute("size"));return v.getAttribute("pid")===t&&(n=m),{id:m,left:x?Hv(x[0]):void 0,top:x?Hv(x[1]):void 0,width:E?Hv(E[0]):void 0,height:E?Hv(E[1]):void 0,tags:v.getAttribute("tags")?v.getAttribute("tags").split(/\s+/):[],name:(C=v.getAttribute("name"))!=null?C:void 0,text:(I=v.textContent)!=null?I:void 0}})};return r.startPassage=n,r}function wA(e,t){const n=document.createElement("div");return n.innerHTML=e,Mh(n,Rh.storyData).map(r=>{const i=WG(r),a=qT(i,{id:pn()},id());return t&&(a.lastUpdate=t),a.passages=a.passages.map(l=>qT(l,Wl(),{story:a.id})),a})}async function KG(){const{twineElectron:e}=window;if(!e)throw new Error("Electron bridge is not present on window.");const t=await e.loadStories();return t&&Array.isArray(t)?t.reduce((n,r)=>{const i=wA(r.htmlSource,r.mtime);return i[0]?[...n,i[0]]:(console.warn("Could not hydrate story: ",r.htmlSource),n)},[]):(console.warn("No stories to hydrate in Electron bridge"),[])}function GG(e){return function(t){return e==null?void 0:e[t]}}var qG=GG,XG=qG,VG={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},YG=XG(VG),QG=YG,ZG=QG,JG=_E,xA=/[&<>"']/g,eq=RegExp(xA.source);function tq(e){return e=JG(e),e&&eq.test(e)?e.replace(xA,ZG):e}var nq=tq;const jr=Tn(nq);function rq(){const e=new Date().toLocaleString().replace(/[/:\\]/g,".");return qp.t("store.archiveFilename",{timestamp:e})}function bA(e,t){return e.reduce((n,r)=>n+Jy(r,t,{startOptional:!0})+"\n\n","")}function iq(e,t){return'<tw-passagedata pid="'.concat(jr(t.toString()),'" name="').concat(jr(e.name),'" tags="').concat(jr(e.tags.join(" ")),'" position="').concat(e.left,",").concat(e.top,'" size="').concat(e.width,",").concat(e.height,'">').concat(jr(e.text),"</tw-passagedata>")}function Jy(e,t,{formatOptions:n,startId:r,startOptional:i}={}){if(r=r!=null?r:e.startPassage,!i){if(!r)throw new Error("There is no starting point set for this story and none was set manually.");if(!e.passages.find(p=>p.id===r))throw new Error("The passage set as starting point for this story does not exist.")}let a,l="";e.passages.forEach((p,v)=>{l+=iq(p,v+1),p.id===r&&(a=v+1)});const c=Object.keys(e.tagColors).reduce((p,v)=>p+'<tw-tag name="'.concat(jr(v),'" color="').concat(jr(e.tagColors[v]),'"></tw-tag>'),"");return'<tw-storydata name="'.concat(jr(e.name),'" startnode="').concat(a||"",'" creator="').concat(jr(t.name),'" creator-version="').concat(jr(t.version),'" format="').concat(jr(e.storyFormat),'" format-version="').concat(jr(e.storyFormatVersion),'" ifid="').concat(jr(e.ifid),'" options="').concat(jr(n),'" tags="').concat(jr(e.tags.join(" ")),'" zoom="').concat(jr(e.zoom.toString()),'" hidden><style role="stylesheet" id="twine-user-stylesheet" type="text/twine-css">')+e.stylesheet+'</style><script role="script" id="twine-user-script" type="text/twine-javascript">'+e.script+"<\/script>"+c+l+"</tw-storydata>"}function cy(e,t,n,{formatOptions:r,startId:i}={}){if(!t)throw new Error("Story format source cannot be empty.");let a=t;return a=a.replace(/{{STORY_NAME}}/g,()=>jr(e.name)),a=a.replace(/{{STORY_DATA}}/g,()=>Jy(e,n,{formatOptions:r,startId:i})),a}function uo(){return{name:"Twine",version:"2.8.1"}}async function wf(e,t){const{twineElectron:n}=window;if(!n)throw new Error("Electron bridge is not present on window.");try{const r=ho(t,e.storyFormat,e.storyFormatVersion);if(r.loadState==="loaded")n.saveStoryHtml(e,cy(e,r.properties.source,uo(),{startOptional:!0}));else{const{source:i}=await uy(r.url);n.saveStoryHtml(e,cy(e,i,uo(),{startOptional:!0}))}}catch(r){console.warn("Could not save full story (".concat(r.message,"). Trying to save story data only.")),n.saveStoryHtml(e,Jy(e,uo(),{startOptional:!0}))}}let l1;function oq(e,t,n){const{twineElectron:r}=window;if(!r)throw new Error("Electron bridge is not present on window.");switch(t.type){case"init":case"repair":break;case"createStory":if(!t.props.name)throw new Error("Passage was created but with no name specified");wf(QP(e,t.props.name),n);break;case"deleteStory":{r.deleteStory(sn(l1,t.storyId));break}case"updateStory":if(hA(t.props))if(t.props.name){const i=sn(l1,t.storyId),a=sn(e,t.storyId);r.onceStoryRenamed(()=>wf(a,n)),r.renameStory(i,a)}else wf(sn(e,t.storyId),n);break;case"createPassage":case"createPassages":case"deletePassage":case"deletePassages":wf(sn(e,t.storyId),n);break;case"updatePassage":hp(t.props)&&wf(sn(e,t.storyId),n);break;case"updatePassages":Object.keys(t.passageUpdates).some(i=>hp(t.passageUpdates[i]))&&wf(sn(e,t.storyId),n);break;default:console.warn("Story action ".concat(t.type," has no Electron persistence handler"))}l1=[...e]}async function aq(){const{twineElectron:e}=window;if(!e)throw new Error("Electron bridge is not present on window.");const t=await e.loadStoryFormats();return!t||!Array.isArray(t)?[]:t.map(n=>({id:pn(),loadState:"unloaded",name:n.name,selected:!1,version:n.version,url:n.url,userAdded:n.userAdded}))}function sq(e,t){(t.type==="create"||t.type==="delete"||t.type==="repair"||t.type==="update"&&pA(t.props))&&rP("story-formats.json",e.map(r=>({id:r.id,name:r.name,selected:void 0,version:r.version,url:r.url,userAdded:r.userAdded})))}function lq(){return O.useMemo(()=>({prefs:{load:J4,saveMiddleware:eB},stories:{load:KG,saveMiddleware:oq},storyFormats:{load:aq,saveMiddleware:sq}}),[])}async function uq(){const e=window.localStorage.getItem("twine-prefs"),t={};return e?(e.split(",").forEach(n=>{try{const r=window.localStorage.getItem("twine-prefs-".concat(n));if(!r){console.warn("No preference stored at twine-prefs-".concat(n));return}const i=JSON.parse(r);t[i.name]=i.value}catch(r){console.warn("Preference ".concat(n," had corrupt serialized value, skipping"),window.localStorage.getItem("twine-prefs-".concat(n)),r)}}),t):{}}function cq(e){const t=window.localStorage.getItem("twine-prefs");t&&t.split(",").forEach(r=>{window.localStorage.removeItem("twine-prefs-".concat(r))});let n=[];for(const r in e){const i=pn();n.push(i),window.localStorage.setItem("twine-prefs-".concat(i),JSON.stringify({id:i,name:r,value:e[r]}))}window.localStorage.setItem("twine-prefs",n.join(","))}function fq(e,t){(t.type==="repair"||t.type==="update")&&cq(e)}async function dq(){const e={},t=window.localStorage.getItem("twine-stories");if(!t)return[];t.split(",").forEach(r=>{const i=window.localStorage.getItem("twine-stories-".concat(r));if(!i){console.warn("Story list contained ID ".concat(r,", but twine-stories-").concat(r," does not exist, skipping"));return}try{const a=JSON.parse(i);if(!a.id){console.warn("Story in local storage had no ID, skipping",a);return}e[a.id]={...id(),...a,lastUpdate:a.lastUpdate?new Date(Date.parse(a.lastUpdate)):new Date,passages:[]}}catch{console.warn("Could not parse story as JSON, skipping: ".concat(i))}});const n=window.localStorage.getItem("twine-passages");return n&&n.split(",").forEach(r=>{const i=window.localStorage.getItem("twine-passages-".concat(r));if(!i){console.warn("Passage list contained ID ".concat(r,", but twine-passages-").concat(r," does not exist, skipping"));return}try{const a=JSON.parse(i);if(!a||!a.story){console.warn("Passage ".concat(r," did not have parent story ID, skipping"),a);return}if(!e[a.story]){console.warn("Passage ".concat(r," is orphaned (looking for story ID ").concat(a.story,"), skipping"));return}e[a.story].passages.push({...Wl,...a,tags:a.tags?a.tags.filter(l=>l.trim()!==""):[]})}catch{console.warn("Could not parse passage as JSON, skipping: ".concat(i))}}),Object.values(e)}function hq(e,t){return new RegExp("\\b"+t+"\\b").test(e)}function EA(e,t){return e===""?t:hq(e,t)?e:e+","+t}function SA(e,t){return e=e.replace(new RegExp(",?"+t),""),e[0]===","?e.substring(1):e}function gs(e){var n,r;const t={passageIds:(n=window.localStorage.getItem("twine-passages"))!=null?n:"",storyIds:(r=window.localStorage.getItem("twine-stories"))!=null?r:""};e(t),window.localStorage.setItem("twine-stories",t.storyIds),window.localStorage.setItem("twine-passages",t.passageIds)}function vl(e,t){if(!t.id)throw new Error("Story has no ID");e.storyIds=EA(e.storyIds,t.id),window.localStorage.setItem("twine-stories-".concat(t.id),JSON.stringify({...t,passages:void 0}))}function pq(e,t){if(!t.id)throw new Error("Story has no ID");e.storyIds=SA(e.storyIds,t.id),window.localStorage.removeItem("twine-stories-".concat(t.id))}function xf(e,t){if(!t.id)throw new Error("Passage has no ID");e.passageIds=EA(e.passageIds,t.id),window.localStorage.setItem("twine-passages-".concat(t.id),JSON.stringify(t))}function u1(e,t){e.passageIds=SA(e.passageIds,t),window.localStorage.removeItem("twine-passages-".concat(t))}let qk;function gq(e,t){switch(t.type){case"init":case"repair":break;case"createPassage":{if(!t.props.name)throw new Error("Passage was created but with no name specified");const r=sn(e,t.storyId),i=ay(e,r.id,t.props.name);gs(a=>{vl(a,r),xf(a,i)});break}case"createPassages":{const r=sn(e,t.storyId);gs(i=>{vl(i,r),t.props.forEach(a=>{if(!a.name)throw new Error("Passage was created but with no name specified");xf(i,ay(e,r.id,a.name))})});break}case"createStory":if(!t.props.name)throw new Error("Story was created but with no name specified");const n=QP(e,t.props.name);gs(r=>{vl(r,n),n.passages.forEach(i=>xf(r,i))});break;case"deletePassage":{const r=sn(e,t.storyId);gs(i=>{vl(i,r),u1(i,t.passageId)});break}case"deletePassages":{const r=sn(e,t.storyId);gs(i=>{vl(i,r),t.passageIds.forEach(a=>u1(i,a))});break}case"deleteStory":{const r=sn(qk,t.storyId);gs(i=>{r.passages.forEach(a=>u1(i,a.id)),pq(i,r)});break}case"updatePassage":if(hp(t.props)){const r=sn(e,t.storyId),i=Os(e,t.storyId,t.passageId);gs(a=>{vl(a,r),xf(a,i)});break}break;case"updatePassages":{const r=sn(e,t.storyId);gs(i=>{vl(i,r),Object.keys(t.passageUpdates).filter(a=>hp(t.passageUpdates[a])).forEach(a=>xf(i,Os(e,t.storyId,a)))});break}case"updateStory":{const r=sn(e,t.storyId);gs(i=>{vl(i,r),r.passages.forEach(a=>xf(i,a))});break}default:console.warn("Story action ".concat(t.type," has no local storage persistence handler"))}qk=e}async function vq(){const e=[],t=window.localStorage.getItem("twine-storyformats");return t?(t.split(",").forEach(n=>{try{const r=window.localStorage.getItem("twine-storyformats-".concat(n));if(!r){console.warn("No story format stored at twine-storyformats-".concat(n,", skipping"));return}e.push({...JSON.parse(r),loadState:"unloaded"})}catch{console.warn("Story format ".concat(n," had corrupt serialized value, skipping"),window.localStorage.getItem("twine-storyformats-".concat(n)))}}),e):[]}function Xk(e){const t=window.localStorage.getItem("twine-storyformats");t&&t.split(",").forEach(r=>{window.localStorage.removeItem("twine-storyformats-".concat(r))});let n=[];e.forEach(r=>{const i=pn();n.push(i),window.localStorage.setItem("twine-storyformats-".concat(i),JSON.stringify({...r,loadError:void 0,loadState:void 0,properties:void 0,selected:void 0}))}),window.localStorage.setItem("twine-storyformats",n.join(","))}function mq(e,t){switch(t.type){case"create":case"delete":case"repair":Xk(e);break;case"update":pA(t.props)&&Xk(e);break}}function yq(){return O.useMemo(()=>({prefs:{load:uq,saveMiddleware:fq},stories:{load:dq,saveMiddleware:gq},storyFormats:{load:vq,saveMiddleware:mq}}),[])}function e0(){const e=lq(),t=yq();return O.useMemo(()=>dc()?e:t,[e,t])}const wq=(e,t)=>{switch(t.type){case"init":return{...e,...t.state};case"repair":const n=Vf();let r=Object.entries(n).reduce((c,[p,v])=>{const m=p;return typeof v=="number"&&!Number.isFinite(e[m])||typeof v!=typeof e[m]?(console.info('Repairing preference "'.concat(p,'" by setting it to ').concat(v,", was ").concat(e[m]," (bad type)")),{...c,[m]:v}):c},{});const{proofingFormat:i,storyFormat:a}=e,{allFormats:l}=t;try{ho(l,i.name,i.version)}catch{const c=Kk(l,i.name);c?(console.info("Repairing proofing format preference (version doesn't exist) by setting to ".concat(c.name," ").concat(c.version,", was ").concat(i.name," ").concat(i.version)),r.proofingFormat={name:c.name,version:c.version}):(console.info("Repairing proofing format preference (format doesn't exist at all) by setting to default ".concat(n.proofingFormat.name," ").concat(n.proofingFormat.version,", was ").concat(i.name," ").concat(i.version)),r.proofingFormat={name:n.proofingFormat.name,version:n.proofingFormat.version})}try{ho(l,a.name,a.version)}catch{const c=Kk(l,a.name);c?(console.info("Repairing story format preference (version doesn't exist) by setting to ".concat(c.name," ").concat(c.version,", was ").concat(a.name," ").concat(a.version)),r.storyFormat={name:c.name,version:c.version}):(console.info("Repairing story format preference (format doesn't exist at all) by setting to default ".concat(n.storyFormat.name," ").concat(n.storyFormat.version,", was ").concat(a.name," ").concat(i.version)),r.storyFormat={name:n.storyFormat.name,version:n.storyFormat.version})}return{...e,...r};case"update":return{...e,[t.name]:t.value}}},HE=O.createContext({dispatch:()=>{},prefs:Vf()});HE.displayName="Prefs";const Zt=()=>O.useContext(HE),xq=e=>{const{prefs:t}=e0(),{reportError:n}=DE(),r=O.useCallback((l,c)=>{const p=wq(l,c);try{t.saveMiddleware(p,c)}catch(v){n(v,"store.errors.cantPersistPrefs")}return p},[t,n]),[i,a]=O.useReducer(r,Vf());return b.jsx(HE.Provider,{value:{dispatch:a,prefs:i},children:e.children})},bq=()=>{const{prefs:e}=Zt();return O.useEffect(()=>{qp.changeLanguage(e.locale)},[e.locale]),null};function Hi(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,ty(e,t)}var CA={exports:{}},Eq="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Sq=Eq,Cq=Sq;function TA(){}function kA(){}kA.resetWarningCache=TA;var Tq=function(){function e(r,i,a,l,c,p){if(p!==Cq){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:kA,resetWarningCache:TA};return n.PropTypes=n,n};CA.exports=Tq();var t0=CA.exports;const hn=Tn(t0);function wr(){return wr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wr.apply(this,arguments)}function Uv(e){return e.charAt(0)==="/"}function c1(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}function _A(e,t){t===void 0&&(t="");var n=e&&e.split("/")||[],r=t&&t.split("/")||[],i=e&&Uv(e),a=t&&Uv(t),l=i||a;if(e&&Uv(e)?r=n:n.length&&(r.pop(),r=r.concat(n)),!r.length)return"/";var c;if(r.length){var p=r[r.length-1];c=p==="."||p===".."||p===""}else c=!1;for(var v=0,m=r.length;m>=0;m--){var x=r[m];x==="."?c1(r,m):x===".."?(c1(r,m),v++):v&&(c1(r,m),v--)}if(!l)for(;v--;v)r.unshift("..");l&&r[0]!==""&&(!r[0]||!Uv(r[0]))&&r.unshift("");var E=r.join("/");return c&&E.substr(-1)!=="/"&&(E+="/"),E}var kq=!0,f1="Invariant failed";function hc(e,t){if(!e){if(kq)throw new Error(f1);var n=typeof t=="function"?t():t,r=n?"".concat(f1,": ").concat(n):f1;throw new Error(r)}}function _q(e){var t=e||"/",n="",r="",i=t.indexOf("#");i!==-1&&(r=t.substr(i),t=t.substr(0,i));var a=t.indexOf("?");return a!==-1&&(n=t.substr(a),t=t.substr(0,a)),{pathname:t,search:n==="?"?"":n,hash:r==="#"?"":r}}function OA(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&n!=="?"&&(i+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(i+=r.charAt(0)==="#"?r:"#"+r),i}function Af(e,t,n,r){var i;typeof e=="string"?(i=_q(e),i.state=t):(i=wr({},e),i.pathname===void 0&&(i.pathname=""),i.search?i.search.charAt(0)!=="?"&&(i.search="?"+i.search):i.search="",i.hash?i.hash.charAt(0)!=="#"&&(i.hash="#"+i.hash):i.hash="",t!==void 0&&i.state===void 0&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(a){throw a instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):a}return n&&(i.key=n),r?i.pathname?i.pathname.charAt(0)!=="/"&&(i.pathname=_A(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function Oq(){var e=null;function t(l){return e=l,function(){e===l&&(e=null)}}function n(l,c,p,v){if(e!=null){var m=typeof e=="function"?e(l,c):e;typeof m=="string"?typeof p=="function"?p(m,v):v(!0):v(m!==!1)}else v(!0)}var r=[];function i(l){var c=!0;function p(){c&&l.apply(void 0,arguments)}return r.push(p),function(){c=!1,r=r.filter(function(v){return v!==p})}}function a(){for(var l=arguments.length,c=new Array(l),p=0;p<l;p++)c[p]=arguments[p];r.forEach(function(v){return v.apply(void 0,c)})}return{setPrompt:t,confirmTransitionTo:n,appendListener:i,notifyListeners:a}}function Vk(e,t,n){return Math.min(Math.max(e,t),n)}function Lq(e){e===void 0&&(e={});var t=e,n=t.getUserConfirmation,r=t.initialEntries,i=r===void 0?["/"]:r,a=t.initialIndex,l=a===void 0?0:a,c=t.keyLength,p=c===void 0?6:c,v=Oq();function m(ne){wr(V,ne),V.length=V.entries.length,v.notifyListeners(V.location,V.action)}function x(){return Math.random().toString(36).substr(2,p)}var E=Vk(l,0,i.length-1),C=i.map(function(ne){return typeof ne=="string"?Af(ne,void 0,x()):Af(ne,void 0,ne.key||x())}),I=OA;function j(ne,he){var me="PUSH",we=Af(ne,he,x(),V.location);v.confirmTransitionTo(we,me,n,function(ze){if(ze){var J=V.index,Z=J+1,q=V.entries.slice(0);q.length>Z?q.splice(Z,q.length-Z,we):q.push(we),m({action:me,location:we,index:Z,entries:q})}})}function A(ne,he){var me="REPLACE",we=Af(ne,he,x(),V.location);v.confirmTransitionTo(we,me,n,function(ze){ze&&(V.entries[V.index]=we,m({action:me,location:we}))})}function P(ne){var he=Vk(V.index+ne,0,V.entries.length-1),me="POP",we=V.entries[he];v.confirmTransitionTo(we,me,n,function(ze){ze?m({action:me,location:we,index:he}):m()})}function M(){P(-1)}function z(){P(1)}function $(ne){var he=V.index+ne;return he>=0&&he<V.entries.length}function U(ne){return ne===void 0&&(ne=!1),v.setPrompt(ne)}function X(ne){return v.appendListener(ne)}var V={length:C.length,action:"POP",location:C[E],index:E,entries:C,createHref:I,push:j,replace:A,go:P,goBack:M,goForward:z,canGo:$,block:U,listen:X};return V}var d1=1073741823,Yk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof yr.global<"u"?yr.global:{};function Pq(){var e="__global_unique_id__";return Yk[e]=(Yk[e]||0)+1}function Aq(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Nq(e){var t=[];return{on:function(r){t.push(r)},off:function(r){t=t.filter(function(i){return i!==r})},get:function(){return e},set:function(r,i){e=r,t.forEach(function(a){return a(e,i)})}}}function Iq(e){return Array.isArray(e)?e[0]:e}function Rq(e,t){var n,r,i="__create-react-context-"+Pq()+"__",a=function(c){Hi(p,c);function p(){var m;return m=c.apply(this,arguments)||this,m.emitter=Nq(m.props.value),m}var v=p.prototype;return v.getChildContext=function(){var x;return x={},x[i]=this.emitter,x},v.componentWillReceiveProps=function(x){if(this.props.value!==x.value){var E=this.props.value,C=x.value,I;Aq(E,C)?I=0:(I=typeof t=="function"?t(E,C):d1,I|=0,I!==0&&this.emitter.set(x.value,I))}},v.render=function(){return this.props.children},p}(O.Component);a.childContextTypes=(n={},n[i]=hn.object.isRequired,n);var l=function(c){Hi(p,c);function p(){var m;return m=c.apply(this,arguments)||this,m.state={value:m.getValue()},m.onUpdate=function(x,E){var C=m.observedBits|0;C&E&&m.setState({value:m.getValue()})},m}var v=p.prototype;return v.componentWillReceiveProps=function(x){var E=x.observedBits;this.observedBits=E==null?d1:E},v.componentDidMount=function(){this.context[i]&&this.context[i].on(this.onUpdate);var x=this.props.observedBits;this.observedBits=x==null?d1:x},v.componentWillUnmount=function(){this.context[i]&&this.context[i].off(this.onUpdate)},v.getValue=function(){return this.context[i]?this.context[i].get():e},v.render=function(){return Iq(this.props.children)(this.state.value)},p}(O.Component);return l.contextTypes=(r={},r[i]=hn.object,r),{Provider:a,Consumer:l}}var LA=ht.createContext||Rq,fd={exports:{}},Mq=Array.isArray||function(e){return Object.prototype.toString.call(e)=="[object Array]"},fy=Mq;fd.exports=NA;fd.exports.parse=UE;fd.exports.compile=jq;fd.exports.tokensToFunction=PA;fd.exports.tokensToRegExp=AA;var Fq=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function UE(e,t){for(var n=[],r=0,i=0,a="",l=t&&t.delimiter||"/",c;(c=Fq.exec(e))!=null;){var p=c[0],v=c[1],m=c.index;if(a+=e.slice(i,m),i=m+p.length,v){a+=v[1];continue}var x=e[i],E=c[2],C=c[3],I=c[4],j=c[5],A=c[6],P=c[7];a&&(n.push(a),a="");var M=E!=null&&x!=null&&x!==E,z=A==="+"||A==="*",$=A==="?"||A==="*",U=c[2]||l,X=I||j;n.push({name:C||r++,prefix:E||"",delimiter:U,optional:$,repeat:z,partial:M,asterisk:!!P,pattern:X?Bq(X):P?".*":"[^"+wm(U)+"]+?"})}return i<e.length&&(a+=e.substr(i)),a&&n.push(a),n}function jq(e,t){return PA(UE(e,t),t)}function $q(e){return encodeURI(e).replace(/[\/?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function Dq(e){return encodeURI(e).replace(/[?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function PA(e,t){for(var n=new Array(e.length),r=0;r<e.length;r++)typeof e[r]=="object"&&(n[r]=new RegExp("^(?:"+e[r].pattern+")$",KE(t)));return function(i,a){for(var l="",c=i||{},p=a||{},v=p.pretty?$q:encodeURIComponent,m=0;m<e.length;m++){var x=e[m];if(typeof x=="string"){l+=x;continue}var E=c[x.name],C;if(E==null)if(x.optional){x.partial&&(l+=x.prefix);continue}else throw new TypeError('Expected "'+x.name+'" to be defined');if(fy(E)){if(!x.repeat)throw new TypeError('Expected "'+x.name+'" to not repeat, but received `'+JSON.stringify(E)+"`");if(E.length===0){if(x.optional)continue;throw new TypeError('Expected "'+x.name+'" to not be empty')}for(var I=0;I<E.length;I++){if(C=v(E[I]),!n[m].test(C))throw new TypeError('Expected all "'+x.name+'" to match "'+x.pattern+'", but received `'+JSON.stringify(C)+"`");l+=(I===0?x.prefix:x.delimiter)+C}continue}if(C=x.asterisk?Dq(E):v(E),!n[m].test(C))throw new TypeError('Expected "'+x.name+'" to match "'+x.pattern+'", but received "'+C+'"');l+=x.prefix+C}return l}}function wm(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function Bq(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function WE(e,t){return e.keys=t,e}function KE(e){return e&&e.sensitive?"":"i"}function zq(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return WE(e,t)}function Hq(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(NA(e[i],t,n).source);var a=new RegExp("(?:"+r.join("|")+")",KE(n));return WE(a,t)}function Uq(e,t,n){return AA(UE(e,n),t,n)}function AA(e,t,n){fy(t)||(n=t||n,t=[]),n=n||{};for(var r=n.strict,i=n.end!==!1,a="",l=0;l<e.length;l++){var c=e[l];if(typeof c=="string")a+=wm(c);else{var p=wm(c.prefix),v="(?:"+c.pattern+")";t.push(c),c.repeat&&(v+="(?:"+p+v+")*"),c.optional?c.partial?v=p+"("+v+")?":v="(?:"+p+"("+v+"))?":v=p+"("+v+")",a+=v}}var m=wm(n.delimiter||"/"),x=a.slice(-m.length)===m;return r||(a=(x?a.slice(0,-m.length):a)+"(?:"+m+"(?=$))?"),i?a+="$":a+=r&&x?"":"(?="+m+"|$)",WE(new RegExp("^"+a,KE(n)),t)}function NA(e,t,n){return fy(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?zq(e,t):fy(e)?Hq(e,t,n):Uq(e,t,n)}var Wq=fd.exports;const Kq=Tn(Wq);var IA={exports:{}},un={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xr=typeof Symbol=="function"&&Symbol.for,GE=xr?Symbol.for("react.element"):60103,qE=xr?Symbol.for("react.portal"):60106,n0=xr?Symbol.for("react.fragment"):60107,r0=xr?Symbol.for("react.strict_mode"):60108,i0=xr?Symbol.for("react.profiler"):60114,o0=xr?Symbol.for("react.provider"):60109,a0=xr?Symbol.for("react.context"):60110,XE=xr?Symbol.for("react.async_mode"):60111,s0=xr?Symbol.for("react.concurrent_mode"):60111,l0=xr?Symbol.for("react.forward_ref"):60112,u0=xr?Symbol.for("react.suspense"):60113,Gq=xr?Symbol.for("react.suspense_list"):60120,c0=xr?Symbol.for("react.memo"):60115,f0=xr?Symbol.for("react.lazy"):60116,qq=xr?Symbol.for("react.block"):60121,Xq=xr?Symbol.for("react.fundamental"):60117,Vq=xr?Symbol.for("react.responder"):60118,Yq=xr?Symbol.for("react.scope"):60119;function Ki(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case GE:switch(e=e.type,e){case XE:case s0:case n0:case i0:case r0:case u0:return e;default:switch(e=e&&e.$$typeof,e){case a0:case l0:case f0:case c0:case o0:return e;default:return t}}case qE:return t}}}function RA(e){return Ki(e)===s0}un.AsyncMode=XE;un.ConcurrentMode=s0;un.ContextConsumer=a0;un.ContextProvider=o0;un.Element=GE;un.ForwardRef=l0;un.Fragment=n0;un.Lazy=f0;un.Memo=c0;un.Portal=qE;un.Profiler=i0;un.StrictMode=r0;un.Suspense=u0;un.isAsyncMode=function(e){return RA(e)||Ki(e)===XE};un.isConcurrentMode=RA;un.isContextConsumer=function(e){return Ki(e)===a0};un.isContextProvider=function(e){return Ki(e)===o0};un.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===GE};un.isForwardRef=function(e){return Ki(e)===l0};un.isFragment=function(e){return Ki(e)===n0};un.isLazy=function(e){return Ki(e)===f0};un.isMemo=function(e){return Ki(e)===c0};un.isPortal=function(e){return Ki(e)===qE};un.isProfiler=function(e){return Ki(e)===i0};un.isStrictMode=function(e){return Ki(e)===r0};un.isSuspense=function(e){return Ki(e)===u0};un.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===n0||e===s0||e===i0||e===r0||e===u0||e===Gq||typeof e=="object"&&e!==null&&(e.$$typeof===f0||e.$$typeof===c0||e.$$typeof===o0||e.$$typeof===a0||e.$$typeof===l0||e.$$typeof===Xq||e.$$typeof===Vq||e.$$typeof===Yq||e.$$typeof===qq)};un.typeOf=Ki;IA.exports=un;var Qq=IA.exports,MA=Qq,Zq={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Jq={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},FA={};FA[MA.ForwardRef]=Zq;FA[MA.Memo]=Jq;var eX=function(t){var n=LA();return n.displayName=t,n},jA=eX("Router-History"),tX=function(t){var n=LA();return n.displayName=t,n},sc=tX("Router"),d0=function(e){Hi(t,e),t.computeRootMatch=function(i){return{path:"/",url:"/",params:{},isExact:i==="/"}};function t(r){var i;return i=e.call(this,r)||this,i.state={location:r.history.location},i._isMounted=!1,i._pendingLocation=null,r.staticContext||(i.unlisten=r.history.listen(function(a){i._isMounted?i.setState({location:a}):i._pendingLocation=a})),i}var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&this.unlisten()},n.render=function(){return ht.createElement(sc.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},ht.createElement(jA.Provider,{children:this.props.children||null,value:this.props.history}))},t}(ht.Component);ht.Component;ht.Component;var Qk={},nX=1e4,Zk=0;function rX(e,t){var n=""+t.end+t.strict+t.sensitive,r=Qk[n]||(Qk[n]={});if(r[e])return r[e];var i=[],a=Kq(e,i,t),l={regexp:a,keys:i};return Zk<nX&&(r[e]=l,Zk++),l}function VE(e,t){t===void 0&&(t={}),(typeof t=="string"||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,a=i===void 0?!1:i,l=n.strict,c=l===void 0?!1:l,p=n.sensitive,v=p===void 0?!1:p,m=[].concat(r);return m.reduce(function(x,E){if(!E&&E!=="")return null;if(x)return x;var C=rX(E,{end:a,strict:c,sensitive:v}),I=C.regexp,j=C.keys,A=I.exec(e);if(!A)return null;var P=A[0],M=A.slice(1),z=e===P;return a&&!z?null:{path:E,url:E==="/"&&P===""?"/":P,isExact:z,params:j.reduce(function($,U,X){return $[U.name]=M[X],$},{})}},null)}var vs=function(e){Hi(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;return n.render=function(){var i=this;return ht.createElement(sc.Consumer,null,function(a){a||hc(!1);var l=i.props.location||a.location,c=i.props.computedMatch?i.props.computedMatch:i.props.path?VE(l.pathname,i.props):a.match,p=wr({},a,{location:l,match:c}),v=i.props,m=v.children,x=v.component,E=v.render;return Array.isArray(m)&&m.length===0&&(m=null),ht.createElement(sc.Provider,{value:p},p.match?m?typeof m=="function"?m(p):m:x?ht.createElement(x,p):E?E(p):null:typeof m=="function"?m(p):null)})},t}(ht.Component);function YE(e){return e.charAt(0)==="/"?e:"/"+e}function iX(e,t){return e?wr({},t,{pathname:YE(e)+t.pathname}):t}function oX(e,t){if(!e)return t;var n=YE(e);return t.pathname.indexOf(n)!==0?t:wr({},t,{pathname:t.pathname.substr(n.length)})}function Jk(e){return typeof e=="string"?e:OA(e)}function h1(e){return function(){hc(!1)}}function e2(){}ht.Component;var aX=function(e){Hi(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;return n.render=function(){var i=this;return ht.createElement(sc.Consumer,null,function(a){a||hc(!1);var l=i.props.location||a.location,c,p;return ht.Children.forEach(i.props.children,function(v){if(p==null&&ht.isValidElement(v)){c=v;var m=v.props.path||v.props.from;p=m?VE(l.pathname,wr({},v.props,{path:m})):a.match}}),p?ht.cloneElement(c,{location:l,computedMatch:p}):null})},t}(ht.Component),$A=ht.useContext;function dd(){return $A(jA)}function h0(){var e=$A(sc).match;return e?e.params:{}}function Xh(e){return e.charAt(0)==="/"?e:"/"+e}function t2(e){return e.charAt(0)==="/"?e.substr(1):e}function sX(e,t){return e.toLowerCase().indexOf(t.toLowerCase())===0&&"/?#".indexOf(e.charAt(t.length))!==-1}function DA(e,t){return sX(e,t)?e.substr(t.length):e}function BA(e){return e.charAt(e.length-1)==="/"?e.slice(0,-1):e}function lX(e){var t=e||"/",n="",r="",i=t.indexOf("#");i!==-1&&(r=t.substr(i),t=t.substr(0,i));var a=t.indexOf("?");return a!==-1&&(n=t.substr(a),t=t.substr(0,a)),{pathname:t,search:n==="?"?"":n,hash:r==="#"?"":r}}function ya(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&n!=="?"&&(i+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(i+=r.charAt(0)==="#"?r:"#"+r),i}function ec(e,t,n,r){var i;typeof e=="string"?(i=lX(e),i.state=t):(i=wr({},e),i.pathname===void 0&&(i.pathname=""),i.search?i.search.charAt(0)!=="?"&&(i.search="?"+i.search):i.search="",i.hash?i.hash.charAt(0)!=="#"&&(i.hash="#"+i.hash):i.hash="",t!==void 0&&i.state===void 0&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(a){throw a instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):a}return n&&(i.key=n),r?i.pathname?i.pathname.charAt(0)!=="/"&&(i.pathname=_A(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function zA(){var e=null;function t(l){return e=l,function(){e===l&&(e=null)}}function n(l,c,p,v){if(e!=null){var m=typeof e=="function"?e(l,c):e;typeof m=="string"?typeof p=="function"?p(m,v):v(!0):v(m!==!1)}else v(!0)}var r=[];function i(l){var c=!0;function p(){c&&l.apply(void 0,arguments)}return r.push(p),function(){c=!1,r=r.filter(function(v){return v!==p})}}function a(){for(var l=arguments.length,c=new Array(l),p=0;p<l;p++)c[p]=arguments[p];r.forEach(function(v){return v.apply(void 0,c)})}return{setPrompt:t,confirmTransitionTo:n,appendListener:i,notifyListeners:a}}var HA=!!(typeof window<"u"&&window.document&&window.document.createElement);function UA(e,t){t(window.confirm(e))}function uX(){var e=window.navigator.userAgent;return(e.indexOf("Android 2.")!==-1||e.indexOf("Android 4.0")!==-1)&&e.indexOf("Mobile Safari")!==-1&&e.indexOf("Chrome")===-1&&e.indexOf("Windows Phone")===-1?!1:window.history&&"pushState"in window.history}function cX(){return window.navigator.userAgent.indexOf("Trident")===-1}function fX(){return window.navigator.userAgent.indexOf("Firefox")===-1}function dX(e){return e.state===void 0&&navigator.userAgent.indexOf("CriOS")===-1}var n2="popstate",r2="hashchange";function i2(){try{return window.history.state||{}}catch{return{}}}function hX(e){e===void 0&&(e={}),HA||hc(!1);var t=window.history,n=uX(),r=!cX(),i=e,a=i.forceRefresh,l=a===void 0?!1:a,c=i.getUserConfirmation,p=c===void 0?UA:c,v=i.keyLength,m=v===void 0?6:v,x=e.basename?BA(Xh(e.basename)):"";function E(Se){var Le=Se||{},te=Le.key,ce=Le.state,ye=window.location,re=ye.pathname,se=ye.search,pe=ye.hash,Ce=re+se+pe;return x&&(Ce=DA(Ce,x)),ec(Ce,ce,te)}function C(){return Math.random().toString(36).substr(2,m)}var I=zA();function j(Se){wr(_e,Se),_e.length=t.length,I.notifyListeners(_e.location,_e.action)}function A(Se){dX(Se)||z(E(Se.state))}function P(){z(E(i2()))}var M=!1;function z(Se){if(M)M=!1,j();else{var Le="POP";I.confirmTransitionTo(Se,Le,p,function(te){te?j({action:Le,location:Se}):$(Se)})}}function $(Se){var Le=_e.location,te=X.indexOf(Le.key);te===-1&&(te=0);var ce=X.indexOf(Se.key);ce===-1&&(ce=0);var ye=te-ce;ye&&(M=!0,me(ye))}var U=E(i2()),X=[U.key];function V(Se){return x+ya(Se)}function ne(Se,Le){var te="PUSH",ce=ec(Se,Le,C(),_e.location);I.confirmTransitionTo(ce,te,p,function(ye){if(ye){var re=V(ce),se=ce.key,pe=ce.state;if(n)if(t.pushState({key:se,state:pe},null,re),l)window.location.href=re;else{var Ce=X.indexOf(_e.location.key),Ae=X.slice(0,Ce+1);Ae.push(ce.key),X=Ae,j({action:te,location:ce})}else window.location.href=re}})}function he(Se,Le){var te="REPLACE",ce=ec(Se,Le,C(),_e.location);I.confirmTransitionTo(ce,te,p,function(ye){if(ye){var re=V(ce),se=ce.key,pe=ce.state;if(n)if(t.replaceState({key:se,state:pe},null,re),l)window.location.replace(re);else{var Ce=X.indexOf(_e.location.key);Ce!==-1&&(X[Ce]=ce.key),j({action:te,location:ce})}else window.location.replace(re)}})}function me(Se){t.go(Se)}function we(){me(-1)}function ze(){me(1)}var J=0;function Z(Se){J+=Se,J===1&&Se===1?(window.addEventListener(n2,A),r&&window.addEventListener(r2,P)):J===0&&(window.removeEventListener(n2,A),r&&window.removeEventListener(r2,P))}var q=!1;function Me(Se){Se===void 0&&(Se=!1);var Le=I.setPrompt(Se);return q||(Z(1),q=!0),function(){return q&&(q=!1,Z(-1)),Le()}}function Ne(Se){var Le=I.appendListener(Se);return Z(1),function(){Z(-1),Le()}}var _e={length:t.length,action:"POP",location:U,createHref:V,push:ne,replace:he,go:me,goBack:we,goForward:ze,block:Me,listen:Ne};return _e}var o2="hashchange",pX={hashbang:{encodePath:function(t){return t.charAt(0)==="!"?t:"!/"+t2(t)},decodePath:function(t){return t.charAt(0)==="!"?t.substr(1):t}},noslash:{encodePath:t2,decodePath:Xh},slash:{encodePath:Xh,decodePath:Xh}};function WA(e){var t=e.indexOf("#");return t===-1?e:e.slice(0,t)}function Eh(){var e=window.location.href,t=e.indexOf("#");return t===-1?"":e.substring(t+1)}function gX(e){window.location.hash=e}function p1(e){window.location.replace(WA(window.location.href)+"#"+e)}function vX(e){e===void 0&&(e={}),HA||hc(!1);var t=window.history;fX();var n=e,r=n.getUserConfirmation,i=r===void 0?UA:r,a=n.hashType,l=a===void 0?"slash":a,c=e.basename?BA(Xh(e.basename)):"",p=pX[l],v=p.encodePath,m=p.decodePath;function x(){var Le=m(Eh());return c&&(Le=DA(Le,c)),ec(Le)}var E=zA();function C(Le){wr(Se,Le),Se.length=t.length,E.notifyListeners(Se.location,Se.action)}var I=!1,j=null;function A(Le,te){return Le.pathname===te.pathname&&Le.search===te.search&&Le.hash===te.hash}function P(){var Le=Eh(),te=v(Le);if(Le!==te)p1(te);else{var ce=x(),ye=Se.location;if(!I&&A(ye,ce)||j===ya(ce))return;j=null,M(ce)}}function M(Le){if(I)I=!1,C();else{var te="POP";E.confirmTransitionTo(Le,te,i,function(ce){ce?C({action:te,location:Le}):z(Le)})}}function z(Le){var te=Se.location,ce=V.lastIndexOf(ya(te));ce===-1&&(ce=0);var ye=V.lastIndexOf(ya(Le));ye===-1&&(ye=0);var re=ce-ye;re&&(I=!0,we(re))}var $=Eh(),U=v($);$!==U&&p1(U);var X=x(),V=[ya(X)];function ne(Le){var te=document.querySelector("base"),ce="";return te&&te.getAttribute("href")&&(ce=WA(window.location.href)),ce+"#"+v(c+ya(Le))}function he(Le,te){var ce="PUSH",ye=ec(Le,void 0,void 0,Se.location);E.confirmTransitionTo(ye,ce,i,function(re){if(re){var se=ya(ye),pe=v(c+se),Ce=Eh()!==pe;if(Ce){j=se,gX(pe);var Ae=V.lastIndexOf(ya(Se.location)),He=V.slice(0,Ae+1);He.push(se),V=He,C({action:ce,location:ye})}else C()}})}function me(Le,te){var ce="REPLACE",ye=ec(Le,void 0,void 0,Se.location);E.confirmTransitionTo(ye,ce,i,function(re){if(re){var se=ya(ye),pe=v(c+se),Ce=Eh()!==pe;Ce&&(j=se,p1(pe));var Ae=V.indexOf(ya(Se.location));Ae!==-1&&(V[Ae]=se),C({action:ce,location:ye})}})}function we(Le){t.go(Le)}function ze(){we(-1)}function J(){we(1)}var Z=0;function q(Le){Z+=Le,Z===1&&Le===1?window.addEventListener(o2,P):Z===0&&window.removeEventListener(o2,P)}var Me=!1;function Ne(Le){Le===void 0&&(Le=!1);var te=E.setPrompt(Le);return Me||(q(1),Me=!0),function(){return Me&&(Me=!1,q(-1)),te()}}function _e(Le){var te=E.appendListener(Le);return q(1),function(){q(-1),te()}}var Se={length:t.length,action:"POP",location:X,createHref:ne,push:he,replace:me,go:we,goBack:ze,goForward:J,block:Ne,listen:_e};return Se}ht.Component;var mX=function(e){Hi(t,e);function t(){for(var r,i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return r=e.call.apply(e,[this].concat(a))||this,r.history=vX(r.props),r}var n=t.prototype;return n.render=function(){return ht.createElement(d0,{history:this.history,children:this.props.children})},t}(ht.Component),Kx=function(t,n){return typeof t=="function"?t(n):t},KA=function(t,n){return typeof t=="string"?ec(t,null,null,n):t},QE=function(t){return t},Qf=ht.forwardRef;typeof Qf>"u"&&(Qf=QE);function yX(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var wX=Qf(function(e,t){var n=e.innerRef,r=e.navigate,i=e.onClick,a=cc(e,["innerRef","navigate","onClick"]),l=a.target,c=wr({},a,{onClick:function(v){try{i&&i(v)}catch(m){throw v.preventDefault(),m}!v.defaultPrevented&&v.button===0&&(!l||l==="_self")&&!yX(v)&&(v.preventDefault(),r())}});return QE!==Qf?c.ref=t||n:c.ref=n,ht.createElement("a",c)}),xX=Qf(function(e,t){var n=e.component,r=n===void 0?wX:n,i=e.replace,a=e.to,l=e.innerRef,c=cc(e,["component","replace","to","innerRef"]);return ht.createElement(sc.Consumer,null,function(p){p||hc(!1);var v=p.history,m=KA(Kx(a,p.location),p.location),x=m?v.createHref(m):"",E=wr({},c,{href:x,navigate:function(){var I=Kx(a,p.location),j=i?v.replace:v.push;j(I)}});return QE!==Qf?E.ref=t||l:E.innerRef=l,ht.createElement(r,E)})}),GA=function(t){return t},dy=ht.forwardRef;typeof dy>"u"&&(dy=GA);function bX(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(function(r){return r}).join(" ")}dy(function(e,t){var n=e["aria-current"],r=n===void 0?"page":n,i=e.activeClassName,a=i===void 0?"active":i,l=e.activeStyle,c=e.className,p=e.exact,v=e.isActive,m=e.location,x=e.sensitive,E=e.strict,C=e.style,I=e.to,j=e.innerRef,A=cc(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return ht.createElement(sc.Consumer,null,function(P){P||hc(!1);var M=m||P.location,z=KA(Kx(I,M),M),$=z.pathname,U=$&&$.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),X=U?VE(M.pathname,{path:U,exact:p,sensitive:x,strict:E}):null,V=!!(v?v(X,M):X),ne=V?bX(c,a):c,he=V?wr({},C,{},l):C,me=wr({"aria-current":V&&r||null,className:ne,style:he,to:z},A);return GA!==dy?me.ref=t||j:me.innerRef=j,ht.createElement(xX,me)})});function EX(e,t){return e.classList?!!t&&e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function SX(e,t){e.classList?e.classList.add(t):EX(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function a2(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function CX(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=a2(e.className,t):e.setAttribute("class",a2(e.className&&e.className.baseVal||"",t))}const s2={disabled:!1},hy=ht.createContext(null);var Fh="unmounted",Iu="exited",Ru="entering",Sf="entered",Gx="exiting",Ms=function(e){Hi(t,e);function t(r,i){var a;a=e.call(this,r,i)||this;var l=i,c=l&&!l.isMounting?r.enter:r.appear,p;return a.appearStatus=null,r.in?c?(p=Iu,a.appearStatus=Ru):p=Sf:r.unmountOnExit||r.mountOnEnter?p=Fh:p=Iu,a.state={status:p},a.nextCallback=null,a}t.getDerivedStateFromProps=function(i,a){var l=i.in;return l&&a.status===Fh?{status:Iu}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var a=null;if(i!==this.props){var l=this.state.status;this.props.in?l!==Ru&&l!==Sf&&(a=Ru):(l===Ru||l===Sf)&&(a=Gx)}this.updateStatus(!1,a)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,a,l,c;return a=l=c=i,i!=null&&typeof i!="number"&&(a=i.exit,l=i.enter,c=i.appear!==void 0?i.appear:l),{exit:a,enter:l,appear:c}},n.updateStatus=function(i,a){i===void 0&&(i=!1),a!==null?(this.cancelNextCallback(),a===Ru?this.performEnter(i):this.performExit()):this.props.unmountOnExit&&this.state.status===Iu&&this.setState({status:Fh})},n.performEnter=function(i){var a=this,l=this.props.enter,c=this.context?this.context.isMounting:i,p=this.props.nodeRef?[c]:[Kw.findDOMNode(this),c],v=p[0],m=p[1],x=this.getTimeouts(),E=c?x.appear:x.enter;if(!i&&!l||s2.disabled){this.safeSetState({status:Sf},function(){a.props.onEntered(v)});return}this.props.onEnter(v,m),this.safeSetState({status:Ru},function(){a.props.onEntering(v,m),a.onTransitionEnd(E,function(){a.safeSetState({status:Sf},function(){a.props.onEntered(v,m)})})})},n.performExit=function(){var i=this,a=this.props.exit,l=this.getTimeouts(),c=this.props.nodeRef?void 0:Kw.findDOMNode(this);if(!a||s2.disabled){this.safeSetState({status:Iu},function(){i.props.onExited(c)});return}this.props.onExit(c),this.safeSetState({status:Gx},function(){i.props.onExiting(c),i.onTransitionEnd(l.exit,function(){i.safeSetState({status:Iu},function(){i.props.onExited(c)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,a){a=this.setNextCallback(a),this.setState(i,a)},n.setNextCallback=function(i){var a=this,l=!0;return this.nextCallback=function(c){l&&(l=!1,a.nextCallback=null,i(c))},this.nextCallback.cancel=function(){l=!1},this.nextCallback},n.onTransitionEnd=function(i,a){this.setNextCallback(a);var l=this.props.nodeRef?this.props.nodeRef.current:Kw.findDOMNode(this),c=i==null&&!this.props.addEndListener;if(!l||c){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var p=this.props.nodeRef?[this.nextCallback]:[l,this.nextCallback],v=p[0],m=p[1];this.props.addEndListener(v,m)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Fh)return null;var a=this.props,l=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var c=cc(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ht.createElement(hy.Provider,{value:null},typeof l=="function"?l(i,c):ht.cloneElement(ht.Children.only(l),c))},t}(ht.Component);Ms.contextType=hy;Ms.propTypes={};function bf(){}Ms.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:bf,onEntering:bf,onEntered:bf,onExit:bf,onExiting:bf,onExited:bf};Ms.UNMOUNTED=Fh;Ms.EXITED=Iu;Ms.ENTERING=Ru;Ms.ENTERED=Sf;Ms.EXITING=Gx;const TX=Ms;var kX=function(t,n){return t&&n&&n.split(" ").forEach(function(r){return SX(t,r)})},g1=function(t,n){return t&&n&&n.split(" ").forEach(function(r){return CX(t,r)})},ZE=function(e){Hi(t,e);function t(){for(var r,i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return r=e.call.apply(e,[this].concat(a))||this,r.appliedClasses={appear:{},enter:{},exit:{}},r.onEnter=function(c,p){var v=r.resolveArguments(c,p),m=v[0],x=v[1];r.removeClasses(m,"exit"),r.addClass(m,x?"appear":"enter","base"),r.props.onEnter&&r.props.onEnter(c,p)},r.onEntering=function(c,p){var v=r.resolveArguments(c,p),m=v[0],x=v[1],E=x?"appear":"enter";r.addClass(m,E,"active"),r.props.onEntering&&r.props.onEntering(c,p)},r.onEntered=function(c,p){var v=r.resolveArguments(c,p),m=v[0],x=v[1],E=x?"appear":"enter";r.removeClasses(m,E),r.addClass(m,E,"done"),r.props.onEntered&&r.props.onEntered(c,p)},r.onExit=function(c){var p=r.resolveArguments(c),v=p[0];r.removeClasses(v,"appear"),r.removeClasses(v,"enter"),r.addClass(v,"exit","base"),r.props.onExit&&r.props.onExit(c)},r.onExiting=function(c){var p=r.resolveArguments(c),v=p[0];r.addClass(v,"exit","active"),r.props.onExiting&&r.props.onExiting(c)},r.onExited=function(c){var p=r.resolveArguments(c),v=p[0];r.removeClasses(v,"exit"),r.addClass(v,"exit","done"),r.props.onExited&&r.props.onExited(c)},r.resolveArguments=function(c,p){return r.props.nodeRef?[r.props.nodeRef.current,c]:[c,p]},r.getClassNames=function(c){var p=r.props.classNames,v=typeof p=="string",m=v&&p?p+"-":"",x=v?""+m+c:p[c],E=v?x+"-active":p[c+"Active"],C=v?x+"-done":p[c+"Done"];return{baseClassName:x,activeClassName:E,doneClassName:C}},r}var n=t.prototype;return n.addClass=function(i,a,l){var c=this.getClassNames(a)[l+"ClassName"],p=this.getClassNames("enter"),v=p.doneClassName;a==="appear"&&l==="done"&&v&&(c+=" "+v),l==="active"&&i&&i.scrollTop,c&&(this.appliedClasses[a][l]=c,kX(i,c))},n.removeClasses=function(i,a){var l=this.appliedClasses[a],c=l.base,p=l.active,v=l.done;this.appliedClasses[a]={},c&&g1(i,c),p&&g1(i,p),v&&g1(i,v)},n.render=function(){var i=this.props;i.classNames;var a=cc(i,["classNames"]);return ht.createElement(TX,wr({},a,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(ht.Component);ZE.defaultProps={classNames:""};ZE.propTypes={};const $a=ZE;function JE(e,t){var n=function(a){return t&&O.isValidElement(a)?t(a):a},r=Object.create(null);return e&&O.Children.map(e,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function _X(e,t){e=e||{},t=t||{};function n(m){return m in t?t[m]:e[m]}var r=Object.create(null),i=[];for(var a in e)a in t?i.length&&(r[a]=i,i=[]):i.push(a);var l,c={};for(var p in t){if(r[p])for(l=0;l<r[p].length;l++){var v=r[p][l];c[r[p][l]]=n(v)}c[p]=n(p)}for(l=0;l<i.length;l++)c[i[l]]=n(i[l]);return c}function Gu(e,t,n){return n[t]!=null?n[t]:e.props[t]}function OX(e,t){return JE(e.children,function(n){return O.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:Gu(n,"appear",e),enter:Gu(n,"enter",e),exit:Gu(n,"exit",e)})})}function LX(e,t,n){var r=JE(e.children),i=_X(t,r);return Object.keys(i).forEach(function(a){var l=i[a];if(O.isValidElement(l)){var c=a in t,p=a in r,v=t[a],m=O.isValidElement(v)&&!v.props.in;p&&(!c||m)?i[a]=O.cloneElement(l,{onExited:n.bind(null,l),in:!0,exit:Gu(l,"exit",e),enter:Gu(l,"enter",e)}):!p&&c&&!m?i[a]=O.cloneElement(l,{in:!1}):p&&c&&O.isValidElement(v)&&(i[a]=O.cloneElement(l,{onExited:n.bind(null,l),in:v.props.in,exit:Gu(l,"exit",e),enter:Gu(l,"enter",e)}))}}),i}var PX=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},AX={component:"div",childFactory:function(t){return t}},eS=function(e){Hi(t,e);function t(r,i){var a;a=e.call(this,r,i)||this;var l=a.handleExited.bind(Fl(a));return a.state={contextValue:{isMounting:!0},handleExited:l,firstRender:!0},a}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(i,a){var l=a.children,c=a.handleExited,p=a.firstRender;return{children:p?OX(i,c):LX(i,l,c),firstRender:!1}},n.handleExited=function(i,a){var l=JE(this.props.children);i.key in l||(i.props.onExited&&i.props.onExited(a),this.mounted&&this.setState(function(c){var p=wr({},c.children);return delete p[i.key],{children:p}}))},n.render=function(){var i=this.props,a=i.component,l=i.childFactory,c=cc(i,["component","childFactory"]),p=this.state.contextValue,v=PX(this.state.children).map(l);return delete c.appear,delete c.enter,delete c.exit,a===null?ht.createElement(hy.Provider,{value:p},v):ht.createElement(hy.Provider,{value:p},ht.createElement(a,c,v))},t}(ht.Component);eS.propTypes={};eS.defaultProps=AX;const hd=eS,qA=e=>{const{children:t,ignoreSelector:n,onClickAway:r}=e,i=a=>{var l;n&&(l=a.target)!=null&&l.closest(n)||r()};return b.jsx("div",{onClick:i,children:t})};const XA=e=>{var n;const t={gridTemplateColumns:"columnWidth"in e?"repeat(auto-fit, ".concat(typeof e.columnWidth=="number"?e.columnWidth+"px":e.columnWidth,")"):"repeat(".concat(e.columns,", 1fr)"),maxWidth:(n=e.maxWidth)!=null?n:"auto"};return b.jsx("div",{className:"card-group",style:t,children:e.children})};function NX(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var VA=O,IX=NX(VA);function l2(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RX(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var MX=!!(typeof window<"u"&&window.document&&window.document.createElement);function FX(e,t,n){if(typeof e!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof t!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof n<"u"&&typeof n!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function r(i){return i.displayName||i.name||"Component"}return function(a){if(typeof a!="function")throw new Error("Expected WrappedComponent to be a React component.");var l=[],c;function p(){c=e(l.map(function(m){return m.props})),v.canUseDOM?t(c):n&&(c=n(c))}var v=function(m){RX(x,m);function x(){return m.apply(this,arguments)||this}x.peek=function(){return c},x.rewind=function(){if(x.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var I=c;return c=void 0,l=[],I};var E=x.prototype;return E.UNSAFE_componentWillMount=function(){l.push(this),p()},E.componentDidUpdate=function(){p()},E.componentWillUnmount=function(){var I=l.indexOf(this);l.splice(I,1),p()},E.render=function(){return IX.createElement(a,this.props)},x}(VA.PureComponent);return l2(v,"displayName","SideEffect("+r(a)+")"),l2(v,"canUseDOM",MX),v}}var jX=FX;const $X=Tn(jX);var DX=typeof Element<"u",BX=typeof Map=="function",zX=typeof Set=="function",HX=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function xm(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,i;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!xm(e[r],t[r]))return!1;return!0}var a;if(BX&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(a=e.entries();!(r=a.next()).done;)if(!t.has(r.value[0]))return!1;for(a=e.entries();!(r=a.next()).done;)if(!xm(r.value[1],t.get(r.value[0])))return!1;return!0}if(zX&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(a=e.entries();!(r=a.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(HX&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;if(DX&&e instanceof Element)return!1;for(r=n;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&e.$$typeof)&&!xm(e[i[r]],t[i[r]]))return!1;return!0}return e!==e&&t!==t}var UX=function(t,n){try{return xm(t,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const YA=Tn(UX);var tc={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},Ot={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(Ot).map(function(e){return Ot[e]});var Sn={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},py={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},wp={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},WX=Object.keys(py).reduce(function(e,t){return e[py[t]]=t,e},{}),KX=[Ot.NOSCRIPT,Ot.SCRIPT,Ot.STYLE],Io="data-react-helmet",GX=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qX=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},XX=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),di=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},VX=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},u2=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},YX=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e},qx=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},QX=function(t){var n=zf(t,Ot.TITLE),r=zf(t,wp.TITLE_TEMPLATE);if(r&&n)return r.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var i=zf(t,wp.DEFAULT_TITLE);return n||i||void 0},ZX=function(t){return zf(t,wp.ON_CHANGE_CLIENT_STATE)||function(){}},v1=function(t,n){return n.filter(function(r){return typeof r[t]<"u"}).map(function(r){return r[t]}).reduce(function(r,i){return di({},r,i)},{})},JX=function(t,n){return n.filter(function(r){return typeof r[Ot.BASE]<"u"}).map(function(r){return r[Ot.BASE]}).reverse().reduce(function(r,i){if(!r.length)for(var a=Object.keys(i),l=0;l<a.length;l++){var c=a[l],p=c.toLowerCase();if(t.indexOf(p)!==-1&&i[p])return r.concat(i)}return r},[])},Sh=function(t,n,r){var i={};return r.filter(function(a){return Array.isArray(a[t])?!0:(typeof a[t]<"u"&&rV("Helmet: "+t+' should be of type "Array". Instead found type "'+GX(a[t])+'"'),!1)}).map(function(a){return a[t]}).reverse().reduce(function(a,l){var c={};l.filter(function(E){for(var C=void 0,I=Object.keys(E),j=0;j<I.length;j++){var A=I[j],P=A.toLowerCase();n.indexOf(P)!==-1&&!(C===Sn.REL&&E[C].toLowerCase()==="canonical")&&!(P===Sn.REL&&E[P].toLowerCase()==="stylesheet")&&(C=P),n.indexOf(A)!==-1&&(A===Sn.INNER_HTML||A===Sn.CSS_TEXT||A===Sn.ITEM_PROP)&&(C=A)}if(!C||!E[C])return!1;var M=E[C].toLowerCase();return i[C]||(i[C]={}),c[C]||(c[C]={}),i[C][M]?!1:(c[C][M]=!0,!0)}).reverse().forEach(function(E){return a.push(E)});for(var p=Object.keys(c),v=0;v<p.length;v++){var m=p[v],x=Nj({},i[m],c[m]);i[m]=x}return a},[]).reverse()},zf=function(t,n){for(var r=t.length-1;r>=0;r--){var i=t[r];if(i.hasOwnProperty(n))return i[n]}return null},eV=function(t){return{baseTag:JX([Sn.HREF,Sn.TARGET],t),bodyAttributes:v1(tc.BODY,t),defer:zf(t,wp.DEFER),encode:zf(t,wp.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:v1(tc.HTML,t),linkTags:Sh(Ot.LINK,[Sn.REL,Sn.HREF],t),metaTags:Sh(Ot.META,[Sn.NAME,Sn.CHARSET,Sn.HTTPEQUIV,Sn.PROPERTY,Sn.ITEM_PROP],t),noscriptTags:Sh(Ot.NOSCRIPT,[Sn.INNER_HTML],t),onChangeClientState:ZX(t),scriptTags:Sh(Ot.SCRIPT,[Sn.SRC,Sn.INNER_HTML],t),styleTags:Sh(Ot.STYLE,[Sn.CSS_TEXT],t),title:QX(t),titleAttributes:v1(tc.TITLE,t)}},Xx=function(){var e=Date.now();return function(t){var n=Date.now();n-e>16?(e=n,t(n)):setTimeout(function(){Xx(t)},0)}}(),c2=function(t){return clearTimeout(t)},tV=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||Xx:yr.global.requestAnimationFrame||Xx,nV=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||c2:yr.global.cancelAnimationFrame||c2,rV=function(t){return console&&typeof console.warn=="function"&&console.warn(t)},Ch=null,iV=function(t){Ch&&nV(Ch),t.defer?Ch=tV(function(){f2(t,function(){Ch=null})}):(f2(t),Ch=null)},f2=function(t,n){var r=t.baseTag,i=t.bodyAttributes,a=t.htmlAttributes,l=t.linkTags,c=t.metaTags,p=t.noscriptTags,v=t.onChangeClientState,m=t.scriptTags,x=t.styleTags,E=t.title,C=t.titleAttributes;Vx(Ot.BODY,i),Vx(Ot.HTML,a),oV(E,C);var I={baseTag:Ef(Ot.BASE,r),linkTags:Ef(Ot.LINK,l),metaTags:Ef(Ot.META,c),noscriptTags:Ef(Ot.NOSCRIPT,p),scriptTags:Ef(Ot.SCRIPT,m),styleTags:Ef(Ot.STYLE,x)},j={},A={};Object.keys(I).forEach(function(P){var M=I[P],z=M.newTags,$=M.oldTags;z.length&&(j[P]=z),$.length&&(A[P]=I[P].oldTags)}),n&&n(),v(t,j,A)},QA=function(t){return Array.isArray(t)?t.join(""):t},oV=function(t,n){typeof t<"u"&&document.title!==t&&(document.title=QA(t)),Vx(Ot.TITLE,n)},Vx=function(t,n){var r=document.getElementsByTagName(t)[0];if(r){for(var i=r.getAttribute(Io),a=i?i.split(","):[],l=[].concat(a),c=Object.keys(n),p=0;p<c.length;p++){var v=c[p],m=n[v]||"";r.getAttribute(v)!==m&&r.setAttribute(v,m),a.indexOf(v)===-1&&a.push(v);var x=l.indexOf(v);x!==-1&&l.splice(x,1)}for(var E=l.length-1;E>=0;E--)r.removeAttribute(l[E]);a.length===l.length?r.removeAttribute(Io):r.getAttribute(Io)!==c.join(",")&&r.setAttribute(Io,c.join(","))}},Ef=function(t,n){var r=document.head||document.querySelector(Ot.HEAD),i=r.querySelectorAll(t+"["+Io+"]"),a=Array.prototype.slice.call(i),l=[],c=void 0;return n&&n.length&&n.forEach(function(p){var v=document.createElement(t);for(var m in p)if(p.hasOwnProperty(m))if(m===Sn.INNER_HTML)v.innerHTML=p.innerHTML;else if(m===Sn.CSS_TEXT)v.styleSheet?v.styleSheet.cssText=p.cssText:v.appendChild(document.createTextNode(p.cssText));else{var x=typeof p[m]>"u"?"":p[m];v.setAttribute(m,x)}v.setAttribute(Io,"true"),a.some(function(E,C){return c=C,v.isEqualNode(E)})?a.splice(c,1):l.push(v)}),a.forEach(function(p){return p.parentNode.removeChild(p)}),l.forEach(function(p){return r.appendChild(p)}),{oldTags:a,newTags:l}},ZA=function(t){return Object.keys(t).reduce(function(n,r){var i=typeof t[r]<"u"?r+'="'+t[r]+'"':""+r;return n?n+" "+i:i},"")},aV=function(t,n,r,i){var a=ZA(r),l=QA(n);return a?"<"+t+" "+Io+'="true" '+a+">"+qx(l,i)+"</"+t+">":"<"+t+" "+Io+'="true">'+qx(l,i)+"</"+t+">"},sV=function(t,n,r){return n.reduce(function(i,a){var l=Object.keys(a).filter(function(v){return!(v===Sn.INNER_HTML||v===Sn.CSS_TEXT)}).reduce(function(v,m){var x=typeof a[m]>"u"?m:m+'="'+qx(a[m],r)+'"';return v?v+" "+x:x},""),c=a.innerHTML||a.cssText||"",p=KX.indexOf(t)===-1;return i+"<"+t+" "+Io+'="true" '+l+(p?"/>":">"+c+"</"+t+">")},"")},JA=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(r,i){return r[py[i]||i]=t[i],r},n)},lV=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(r,i){return r[WX[i]||i]=t[i],r},n)},uV=function(t,n,r){var i,a=(i={key:n},i[Io]=!0,i),l=JA(r,a);return[ht.createElement(Ot.TITLE,l,n)]},cV=function(t,n){return n.map(function(r,i){var a,l=(a={key:i},a[Io]=!0,a);return Object.keys(r).forEach(function(c){var p=py[c]||c;if(p===Sn.INNER_HTML||p===Sn.CSS_TEXT){var v=r.innerHTML||r.cssText;l.dangerouslySetInnerHTML={__html:v}}else l[p]=r[c]}),ht.createElement(t,l)})},ms=function(t,n,r){switch(t){case Ot.TITLE:return{toComponent:function(){return uV(t,n.title,n.titleAttributes)},toString:function(){return aV(t,n.title,n.titleAttributes,r)}};case tc.BODY:case tc.HTML:return{toComponent:function(){return JA(n)},toString:function(){return ZA(n)}};default:return{toComponent:function(){return cV(t,n)},toString:function(){return sV(t,n,r)}}}},eN=function(t){var n=t.baseTag,r=t.bodyAttributes,i=t.encode,a=t.htmlAttributes,l=t.linkTags,c=t.metaTags,p=t.noscriptTags,v=t.scriptTags,m=t.styleTags,x=t.title,E=x===void 0?"":x,C=t.titleAttributes;return{base:ms(Ot.BASE,n,i),bodyAttributes:ms(tc.BODY,r,i),htmlAttributes:ms(tc.HTML,a,i),link:ms(Ot.LINK,l,i),meta:ms(Ot.META,c,i),noscript:ms(Ot.NOSCRIPT,p,i),script:ms(Ot.SCRIPT,v,i),style:ms(Ot.STYLE,m,i),title:ms(Ot.TITLE,{title:E,titleAttributes:C},i)}},fV=function(t){var n,r;return r=n=function(i){VX(a,i);function a(){return qX(this,a),YX(this,i.apply(this,arguments))}return a.prototype.shouldComponentUpdate=function(c){return!YA(this.props,c)},a.prototype.mapNestedChildrenToProps=function(c,p){if(!p)return null;switch(c.type){case Ot.SCRIPT:case Ot.NOSCRIPT:return{innerHTML:p};case Ot.STYLE:return{cssText:p}}throw new Error("<"+c.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},a.prototype.flattenArrayTypeChildren=function(c){var p,v=c.child,m=c.arrayTypeChildren,x=c.newChildProps,E=c.nestedChildren;return di({},m,(p={},p[v.type]=[].concat(m[v.type]||[],[di({},x,this.mapNestedChildrenToProps(v,E))]),p))},a.prototype.mapObjectTypeChildren=function(c){var p,v,m=c.child,x=c.newProps,E=c.newChildProps,C=c.nestedChildren;switch(m.type){case Ot.TITLE:return di({},x,(p={},p[m.type]=C,p.titleAttributes=di({},E),p));case Ot.BODY:return di({},x,{bodyAttributes:di({},E)});case Ot.HTML:return di({},x,{htmlAttributes:di({},E)})}return di({},x,(v={},v[m.type]=di({},E),v))},a.prototype.mapArrayTypeChildrenToProps=function(c,p){var v=di({},p);return Object.keys(c).forEach(function(m){var x;v=di({},v,(x={},x[m]=c[m],x))}),v},a.prototype.warnOnInvalidChildren=function(c,p){return!0},a.prototype.mapChildrenToProps=function(c,p){var v=this,m={};return ht.Children.forEach(c,function(x){if(!(!x||!x.props)){var E=x.props,C=E.children,I=u2(E,["children"]),j=lV(I);switch(v.warnOnInvalidChildren(x,C),x.type){case Ot.LINK:case Ot.META:case Ot.NOSCRIPT:case Ot.SCRIPT:case Ot.STYLE:m=v.flattenArrayTypeChildren({child:x,arrayTypeChildren:m,newChildProps:j,nestedChildren:C});break;default:p=v.mapObjectTypeChildren({child:x,newProps:p,newChildProps:j,nestedChildren:C});break}}}),p=this.mapArrayTypeChildrenToProps(m,p),p},a.prototype.render=function(){var c=this.props,p=c.children,v=u2(c,["children"]),m=di({},v);return p&&(m=this.mapChildrenToProps(p,m)),ht.createElement(t,m)},XX(a,null,[{key:"canUseDOM",set:function(c){t.canUseDOM=c}}]),a}(ht.Component),n.propTypes={base:hn.object,bodyAttributes:hn.object,children:hn.oneOfType([hn.arrayOf(hn.node),hn.node]),defaultTitle:hn.string,defer:hn.bool,encodeSpecialCharacters:hn.bool,htmlAttributes:hn.object,link:hn.arrayOf(hn.object),meta:hn.arrayOf(hn.object),noscript:hn.arrayOf(hn.object),onChangeClientState:hn.func,script:hn.arrayOf(hn.object),style:hn.arrayOf(hn.object),title:hn.string,titleAttributes:hn.object,titleTemplate:hn.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=t.peek,n.rewind=function(){var i=t.rewind();return i||(i=eN({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),i},r},dV=function(){return null},hV=$X(eV,iV,eN)(dV),gy=fV(hV);gy.renderStatic=gy.rewind;const tN=({title:e})=>(O.useEffect(()=>{if(dc()){const t=window.setTimeout(()=>{document.querySelector("title").innerHTML=e},0);return()=>window.clearTimeout(t)}},[e]),b.jsx(gy,{children:b.jsx("title",{children:e})}));const tS=O.forwardRef((e,t)=>{var c;const{children:n,grabbable:r,title:i}=e,a=O.useRef(null),l=ir("main-content",{padded:(c=e.padded)!=null?c:!0});return O.useImperativeHandle(t,()=>a.current),O.useEffect(()=>{a.current&&a.current.focus()},[]),O.useEffect(()=>{const p=a.current;let v,m;function x(A){p&&(p.scrollLeft=v.left+(m.left-A.clientX),p.scrollTop=v.top+(m.top-A.clientY))}function E(A){p&&(p.releasePointerCapture(A.pointerId),p.removeEventListener("pointerleave",E),p.removeEventListener("pointermove",x),p.style.cursor="",A.preventDefault())}function C(A){A.button===2&&E(A)}function I(A){A.button!==2||!p||(p.setPointerCapture(A.pointerId),p.addEventListener("pointerleave",E),p.addEventListener("pointermove",x),p.addEventListener("pointerup",C),p.style.cursor="grabbing",v={left:p.scrollLeft,top:p.scrollTop},m={left:A.clientX,top:A.clientY},A.preventDefault())}function j(A){A.preventDefault()}if(r&&p)return p.addEventListener("pointerdown",I),p.addEventListener("contextmenu",j),()=>{p.removeEventListener("pointerdown",I),p.removeEventListener("contextmenu",j)}},[r]),b.jsxs("div",{className:l,ref:a,children:[i&&b.jsxs(b.Fragment,{children:[b.jsx(tN,{title:i}),b.jsx("h1",{children:i})]}),n]})});const Th=({label:e})=>b.jsx("span",{className:"badge",children:e});const nS=e=>{const{label:t,onDoubleClick:n,onSelect:r,selected:i,...a}=e,l=O.useCallback(p=>{p.ctrlKey||p.shiftKey?r(!i,!1):r(!0,!0)},[r,i]),c=O.useCallback(p=>{(p.key===" "||p.key==="Enter")&&(p.preventDefault(),p.ctrlKey||p.shiftKey?r(!i,!1):r(!0,!0))},[r,i]);return b.jsx("div",{className:ir("selectable-card",{selected:i}),role:"button","aria-label":t,"aria-pressed":i,onClick:l,onDoubleClick:n,onKeyDown:c,tabIndex:0,children:b.jsx(Ul,{...a})})},pV=({format:e})=>{const{t}=Xe();return e.loadState==="unloaded"||e.loadState==="loading"?b.jsx("div",{className:"story-format-card-details",children:b.jsx("p",{children:t("components.storyFormatCard.loadingFormat")})}):e.loadState==="error"?b.jsx("div",{className:"story-format-card-details",children:b.jsx("p",{children:t("components.storyFormatCard.loadError",{errorMessage:e.loadError.message})})}):b.jsxs("div",{className:"story-format-card-details",children:[e.properties.author&&b.jsx("p",{className:"story-format-card-author",dangerouslySetInnerHTML:{__html:t("components.storyFormatCard.author",{author:e.properties.author})}}),e.properties.description&&b.jsx("div",{className:"story-format-card-description",dangerouslySetInnerHTML:{__html:e.properties.description}}),e.properties.license&&b.jsx("p",{className:"story-format-card-license",children:t("components.storyFormatCard.license",{license:e.properties.license})})]})};const gV=e=>{const{defaultFormat:t,editorExtensionsDisabled:n,format:r,onSelect:i,proofingFormat:a}=e,{t:l}=Xe();let c=b.jsx(b.Fragment,{});return r.loadState==="error"?c=b.jsx(KD,{}):r.loadState==="unloaded"||r.loadState==="loading"?c=b.jsx(tP,{}):r.loadState==="loaded"&&r.properties.image&&(c=b.jsx("img",{src:$G(r),alt:""})),b.jsx("div",{className:"story-format-card",children:b.jsx(nS,{label:l("components.storyFormatCard.name",{name:r.name,version:r.version}),onSelect:i,selected:r.selected,children:b.jsxs(_r,{children:[b.jsx("div",{className:"story-format-image",children:c}),b.jsxs("div",{className:"story-format-description",children:[b.jsx("h2",{children:l("components.storyFormatCard.name",{name:r.name,version:r.version})}),b.jsx(pV,{format:r})]}),b.jsxs("div",{className:"story-format-badges",children:[!r.userAdded&&b.jsx(Th,{label:l("components.storyFormatCard.builtIn")}),t&&b.jsx(Th,{label:l("components.storyFormatCard.defaultFormat")}),n&&b.jsx(Th,{label:l("components.storyFormatCard.editorExtensionsDisabled")}),r.loadState==="loaded"&&r.properties.proofing&&b.jsx(Th,{label:l("components.storyFormatCard.proofing")}),a&&b.jsx(Th,{label:l("components.storyFormatCard.proofingFormat")})]})]})})})};var d2=function(t){return t.reduce(function(n,r){var i=r[0],a=r[1];return n[i]=a,n},{})},h2=typeof window<"u"&&window.document&&window.document.createElement?O.useLayoutEffect:O.useEffect,po="top",jo="bottom",$o="right",go="left",rS="auto",Vp=[po,jo,$o,go],Zf="start",iS="end",vV="clippingParents",nN="viewport",kh="popper",mV="reference",p2=Vp.reduce(function(e,t){return e.concat([t+"-"+Zf,t+"-"+iS])},[]),rN=[].concat(Vp,[rS]).reduce(function(e,t){return e.concat([t,t+"-"+Zf,t+"-"+iS])},[]),yV="beforeRead",wV="read",xV="afterRead",bV="beforeMain",EV="main",SV="afterMain",CV="beforeWrite",TV="write",kV="afterWrite",_V=[yV,wV,xV,bV,EV,SV,CV,TV,kV];function Na(e){return e?(e.nodeName||"").toLowerCase():null}function Ho(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function xp(e){var t=Ho(e).Element;return e instanceof t||e instanceof Element}function Ia(e){var t=Ho(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function iN(e){if(typeof ShadowRoot>"u")return!1;var t=Ho(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function OV(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},i=t.attributes[n]||{},a=t.elements[n];!Ia(a)||!Na(a)||(Object.assign(a.style,r),Object.keys(i).forEach(function(l){var c=i[l];c===!1?a.removeAttribute(l):a.setAttribute(l,c===!0?"":c)}))})}function LV(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var i=t.elements[r],a=t.attributes[r]||{},l=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),c=l.reduce(function(p,v){return p[v]="",p},{});!Ia(i)||!Na(i)||(Object.assign(i.style,c),Object.keys(a).forEach(function(p){i.removeAttribute(p)}))})}}const PV={name:"applyStyles",enabled:!0,phase:"write",fn:OV,effect:LV,requires:["computeStyles"]};function La(e){return e.split("-")[0]}function Jf(e){var t=e.getBoundingClientRect();return{width:t.width,height:t.height,top:t.top,right:t.right,bottom:t.bottom,left:t.left,x:t.left,y:t.top}}function oS(e){var t=Jf(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function oN(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&iN(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Bl(e){return Ho(e).getComputedStyle(e)}function AV(e){return["table","td","th"].indexOf(Na(e))>=0}function Gl(e){return((xp(e)?e.ownerDocument:e.document)||window.document).documentElement}function p0(e){return Na(e)==="html"?e:e.assignedSlot||e.parentNode||(iN(e)?e.host:null)||Gl(e)}function g2(e){return!Ia(e)||Bl(e).position==="fixed"?null:e.offsetParent}function NV(e){for(var t=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,n=p0(e);Ia(n)&&["html","body"].indexOf(Na(n))<0;){var r=Bl(n);if(r.transform!=="none"||r.perspective!=="none"||r.contain==="paint"||["transform","perspective"].indexOf(r.willChange)!==-1||t&&r.willChange==="filter"||t&&r.filter&&r.filter!=="none")return n;n=n.parentNode}return null}function Yp(e){for(var t=Ho(e),n=g2(e);n&&AV(n)&&Bl(n).position==="static";)n=g2(n);return n&&(Na(n)==="html"||Na(n)==="body"&&Bl(n).position==="static")?t:n||NV(e)||t}function aS(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}var Nl=Math.max,bp=Math.min,Wv=Math.round;function bm(e,t,n){return Nl(e,bp(t,n))}function aN(){return{top:0,right:0,bottom:0,left:0}}function sN(e){return Object.assign({},aN(),e)}function lN(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var IV=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,sN(typeof t!="number"?t:lN(t,Vp))};function RV(e){var t,n=e.state,r=e.name,i=e.options,a=n.elements.arrow,l=n.modifiersData.popperOffsets,c=La(n.placement),p=aS(c),v=[go,$o].indexOf(c)>=0,m=v?"height":"width";if(!(!a||!l)){var x=IV(i.padding,n),E=oS(a),C=p==="y"?po:go,I=p==="y"?jo:$o,j=n.rects.reference[m]+n.rects.reference[p]-l[p]-n.rects.popper[m],A=l[p]-n.rects.reference[p],P=Yp(a),M=P?p==="y"?P.clientHeight||0:P.clientWidth||0:0,z=j/2-A/2,$=x[C],U=M-E[m]-x[I],X=M/2-E[m]/2+z,V=bm($,X,U),ne=p;n.modifiersData[r]=(t={},t[ne]=V,t.centerOffset=V-X,t)}}function MV(e){var t=e.state,n=e.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||oN(t.elements.popper,i)&&(t.elements.arrow=i))}const FV={name:"arrow",enabled:!0,phase:"main",fn:RV,effect:MV,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};var jV={top:"auto",right:"auto",bottom:"auto",left:"auto"};function $V(e){var t=e.x,n=e.y,r=window,i=r.devicePixelRatio||1;return{x:Wv(Wv(t*i)/i)||0,y:Wv(Wv(n*i)/i)||0}}function v2(e){var t,n=e.popper,r=e.popperRect,i=e.placement,a=e.offsets,l=e.position,c=e.gpuAcceleration,p=e.adaptive,v=e.roundOffsets,m=v===!0?$V(a):typeof v=="function"?v(a):a,x=m.x,E=x===void 0?0:x,C=m.y,I=C===void 0?0:C,j=a.hasOwnProperty("x"),A=a.hasOwnProperty("y"),P=go,M=po,z=window;if(p){var $=Yp(n),U="clientHeight",X="clientWidth";$===Ho(n)&&($=Gl(n),Bl($).position!=="static"&&(U="scrollHeight",X="scrollWidth")),$=$,i===po&&(M=jo,I-=$[U]-r.height,I*=c?1:-1),i===go&&(P=$o,E-=$[X]-r.width,E*=c?1:-1)}var V=Object.assign({position:l},p&&jV);if(c){var ne;return Object.assign({},V,(ne={},ne[M]=A?"0":"",ne[P]=j?"0":"",ne.transform=(z.devicePixelRatio||1)<2?"translate("+E+"px, "+I+"px)":"translate3d("+E+"px, "+I+"px, 0)",ne))}return Object.assign({},V,(t={},t[M]=A?I+"px":"",t[P]=j?E+"px":"",t.transform="",t))}function DV(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=r===void 0?!0:r,a=n.adaptive,l=a===void 0?!0:a,c=n.roundOffsets,p=c===void 0?!0:c,v={placement:La(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,v2(Object.assign({},v,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:l,roundOffsets:p})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,v2(Object.assign({},v,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:p})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const BV={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:DV,data:{}};var Kv={passive:!0};function zV(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,a=i===void 0?!0:i,l=r.resize,c=l===void 0?!0:l,p=Ho(t.elements.popper),v=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&v.forEach(function(m){m.addEventListener("scroll",n.update,Kv)}),c&&p.addEventListener("resize",n.update,Kv),function(){a&&v.forEach(function(m){m.removeEventListener("scroll",n.update,Kv)}),c&&p.removeEventListener("resize",n.update,Kv)}}const HV={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:zV,data:{}};var UV={left:"right",right:"left",bottom:"top",top:"bottom"};function Em(e){return e.replace(/left|right|bottom|top/g,function(t){return UV[t]})}var WV={start:"end",end:"start"};function m2(e){return e.replace(/start|end/g,function(t){return WV[t]})}function sS(e){var t=Ho(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function lS(e){return Jf(Gl(e)).left+sS(e).scrollLeft}function KV(e){var t=Ho(e),n=Gl(e),r=t.visualViewport,i=n.clientWidth,a=n.clientHeight,l=0,c=0;return r&&(i=r.width,a=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(l=r.offsetLeft,c=r.offsetTop)),{width:i,height:a,x:l+lS(e),y:c}}function GV(e){var t,n=Gl(e),r=sS(e),i=(t=e.ownerDocument)==null?void 0:t.body,a=Nl(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),l=Nl(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),c=-r.scrollLeft+lS(e),p=-r.scrollTop;return Bl(i||n).direction==="rtl"&&(c+=Nl(n.clientWidth,i?i.clientWidth:0)-a),{width:a,height:l,x:c,y:p}}function uS(e){var t=Bl(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function uN(e){return["html","body","#document"].indexOf(Na(e))>=0?e.ownerDocument.body:Ia(e)&&uS(e)?e:uN(p0(e))}function Vh(e,t){var n;t===void 0&&(t=[]);var r=uN(e),i=r===((n=e.ownerDocument)==null?void 0:n.body),a=Ho(r),l=i?[a].concat(a.visualViewport||[],uS(r)?r:[]):r,c=t.concat(l);return i?c:c.concat(Vh(p0(l)))}function Yx(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function qV(e){var t=Jf(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}function y2(e,t){return t===nN?Yx(KV(e)):Ia(t)?qV(t):Yx(GV(Gl(e)))}function XV(e){var t=Vh(p0(e)),n=["absolute","fixed"].indexOf(Bl(e).position)>=0,r=n&&Ia(e)?Yp(e):e;return xp(r)?t.filter(function(i){return xp(i)&&oN(i,r)&&Na(i)!=="body"}):[]}function VV(e,t,n){var r=t==="clippingParents"?XV(e):[].concat(t),i=[].concat(r,[n]),a=i[0],l=i.reduce(function(c,p){var v=y2(e,p);return c.top=Nl(v.top,c.top),c.right=bp(v.right,c.right),c.bottom=bp(v.bottom,c.bottom),c.left=Nl(v.left,c.left),c},y2(e,a));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function Ep(e){return e.split("-")[1]}function cN(e){var t=e.reference,n=e.element,r=e.placement,i=r?La(r):null,a=r?Ep(r):null,l=t.x+t.width/2-n.width/2,c=t.y+t.height/2-n.height/2,p;switch(i){case po:p={x:l,y:t.y-n.height};break;case jo:p={x:l,y:t.y+t.height};break;case $o:p={x:t.x+t.width,y:c};break;case go:p={x:t.x-n.width,y:c};break;default:p={x:t.x,y:t.y}}var v=i?aS(i):null;if(v!=null){var m=v==="y"?"height":"width";switch(a){case Zf:p[v]=p[v]-(t[m]/2-n[m]/2);break;case iS:p[v]=p[v]+(t[m]/2-n[m]/2);break}}return p}function Sp(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=r===void 0?e.placement:r,a=n.boundary,l=a===void 0?vV:a,c=n.rootBoundary,p=c===void 0?nN:c,v=n.elementContext,m=v===void 0?kh:v,x=n.altBoundary,E=x===void 0?!1:x,C=n.padding,I=C===void 0?0:C,j=sN(typeof I!="number"?I:lN(I,Vp)),A=m===kh?mV:kh,P=e.elements.reference,M=e.rects.popper,z=e.elements[E?A:m],$=VV(xp(z)?z:z.contextElement||Gl(e.elements.popper),l,p),U=Jf(P),X=cN({reference:U,element:M,strategy:"absolute",placement:i}),V=Yx(Object.assign({},M,X)),ne=m===kh?V:U,he={top:$.top-ne.top+j.top,bottom:ne.bottom-$.bottom+j.bottom,left:$.left-ne.left+j.left,right:ne.right-$.right+j.right},me=e.modifiersData.offset;if(m===kh&&me){var we=me[i];Object.keys(he).forEach(function(ze){var J=[$o,jo].indexOf(ze)>=0?1:-1,Z=[po,jo].indexOf(ze)>=0?"y":"x";he[ze]+=we[Z]*J})}return he}function YV(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=n.boundary,a=n.rootBoundary,l=n.padding,c=n.flipVariations,p=n.allowedAutoPlacements,v=p===void 0?rN:p,m=Ep(r),x=m?c?p2:p2.filter(function(I){return Ep(I)===m}):Vp,E=x.filter(function(I){return v.indexOf(I)>=0});E.length===0&&(E=x);var C=E.reduce(function(I,j){return I[j]=Sp(e,{placement:j,boundary:i,rootBoundary:a,padding:l})[La(j)],I},{});return Object.keys(C).sort(function(I,j){return C[I]-C[j]})}function QV(e){if(La(e)===rS)return[];var t=Em(e);return[m2(e),t,m2(t)]}function ZV(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,a=i===void 0?!0:i,l=n.altAxis,c=l===void 0?!0:l,p=n.fallbackPlacements,v=n.padding,m=n.boundary,x=n.rootBoundary,E=n.altBoundary,C=n.flipVariations,I=C===void 0?!0:C,j=n.allowedAutoPlacements,A=t.options.placement,P=La(A),M=P===A,z=p||(M||!I?[Em(A)]:QV(A)),$=[A].concat(z).reduce(function(re,se){return re.concat(La(se)===rS?YV(t,{placement:se,boundary:m,rootBoundary:x,padding:v,flipVariations:I,allowedAutoPlacements:j}):se)},[]),U=t.rects.reference,X=t.rects.popper,V=new Map,ne=!0,he=$[0],me=0;me<$.length;me++){var we=$[me],ze=La(we),J=Ep(we)===Zf,Z=[po,jo].indexOf(ze)>=0,q=Z?"width":"height",Me=Sp(t,{placement:we,boundary:m,rootBoundary:x,altBoundary:E,padding:v}),Ne=Z?J?$o:go:J?jo:po;U[q]>X[q]&&(Ne=Em(Ne));var _e=Em(Ne),Se=[];if(a&&Se.push(Me[ze]<=0),c&&Se.push(Me[Ne]<=0,Me[_e]<=0),Se.every(function(re){return re})){he=we,ne=!1;break}V.set(we,Se)}if(ne)for(var Le=I?3:1,te=function(se){var pe=$.find(function(Ce){var Ae=V.get(Ce);if(Ae)return Ae.slice(0,se).every(function(He){return He})});if(pe)return he=pe,"break"},ce=Le;ce>0;ce--){var ye=te(ce);if(ye==="break")break}t.placement!==he&&(t.modifiersData[r]._skip=!0,t.placement=he,t.reset=!0)}}const JV={name:"flip",enabled:!0,phase:"main",fn:ZV,requiresIfExists:["offset"],data:{_skip:!1}};function w2(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function x2(e){return[po,$o,jo,go].some(function(t){return e[t]>=0})}function eY(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,a=t.modifiersData.preventOverflow,l=Sp(t,{elementContext:"reference"}),c=Sp(t,{altBoundary:!0}),p=w2(l,r),v=w2(c,i,a),m=x2(p),x=x2(v);t.modifiersData[n]={referenceClippingOffsets:p,popperEscapeOffsets:v,isReferenceHidden:m,hasPopperEscaped:x},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":m,"data-popper-escaped":x})}const tY={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:eY};function nY(e,t,n){var r=La(e),i=[go,po].indexOf(r)>=0?-1:1,a=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,l=a[0],c=a[1];return l=l||0,c=(c||0)*i,[go,$o].indexOf(r)>=0?{x:c,y:l}:{x:l,y:c}}function rY(e){var t=e.state,n=e.options,r=e.name,i=n.offset,a=i===void 0?[0,0]:i,l=rN.reduce(function(m,x){return m[x]=nY(x,t.rects,a),m},{}),c=l[t.placement],p=c.x,v=c.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=p,t.modifiersData.popperOffsets.y+=v),t.modifiersData[r]=l}const iY={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:rY};function oY(e){var t=e.state,n=e.name;t.modifiersData[n]=cN({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const aY={name:"popperOffsets",enabled:!0,phase:"read",fn:oY,data:{}};function sY(e){return e==="x"?"y":"x"}function lY(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,a=i===void 0?!0:i,l=n.altAxis,c=l===void 0?!1:l,p=n.boundary,v=n.rootBoundary,m=n.altBoundary,x=n.padding,E=n.tether,C=E===void 0?!0:E,I=n.tetherOffset,j=I===void 0?0:I,A=Sp(t,{boundary:p,rootBoundary:v,padding:x,altBoundary:m}),P=La(t.placement),M=Ep(t.placement),z=!M,$=aS(P),U=sY($),X=t.modifiersData.popperOffsets,V=t.rects.reference,ne=t.rects.popper,he=typeof j=="function"?j(Object.assign({},t.rects,{placement:t.placement})):j,me={x:0,y:0};if(X){if(a||c){var we=$==="y"?po:go,ze=$==="y"?jo:$o,J=$==="y"?"height":"width",Z=X[$],q=X[$]+A[we],Me=X[$]-A[ze],Ne=C?-ne[J]/2:0,_e=M===Zf?V[J]:ne[J],Se=M===Zf?-ne[J]:-V[J],Le=t.elements.arrow,te=C&&Le?oS(Le):{width:0,height:0},ce=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:aN(),ye=ce[we],re=ce[ze],se=bm(0,V[J],te[J]),pe=z?V[J]/2-Ne-se-ye-he:_e-se-ye-he,Ce=z?-V[J]/2+Ne+se+re+he:Se+se+re+he,Ae=t.elements.arrow&&Yp(t.elements.arrow),He=Ae?$==="y"?Ae.clientTop||0:Ae.clientLeft||0:0,tt=t.modifiersData.offset?t.modifiersData.offset[t.placement][$]:0,Ye=X[$]+pe-tt-He,vt=X[$]+Ce-tt;if(a){var Bt=bm(C?bp(q,Ye):q,Z,C?Nl(Me,vt):Me);X[$]=Bt,me[$]=Bt-Z}if(c){var Pt=$==="x"?po:go,rt=$==="x"?jo:$o,pt=X[U],kt=pt+A[Pt],Rt=pt-A[rt],$t=bm(C?bp(kt,Ye):kt,pt,C?Nl(Rt,vt):Rt);X[U]=$t,me[U]=$t-pt}}t.modifiersData[r]=me}}const uY={name:"preventOverflow",enabled:!0,phase:"main",fn:lY,requiresIfExists:["offset"]};function cY(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function fY(e){return e===Ho(e)||!Ia(e)?sS(e):cY(e)}function dY(e,t,n){n===void 0&&(n=!1);var r=Gl(t),i=Jf(e),a=Ia(t),l={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(a||!a&&!n)&&((Na(t)!=="body"||uS(r))&&(l=fY(t)),Ia(t)?(c=Jf(t),c.x+=t.clientLeft,c.y+=t.clientTop):r&&(c.x=lS(r))),{x:i.left+l.scrollLeft-c.x,y:i.top+l.scrollTop-c.y,width:i.width,height:i.height}}function hY(e){var t=new Map,n=new Set,r=[];e.forEach(function(a){t.set(a.name,a)});function i(a){n.add(a.name);var l=[].concat(a.requires||[],a.requiresIfExists||[]);l.forEach(function(c){if(!n.has(c)){var p=t.get(c);p&&i(p)}}),r.push(a)}return e.forEach(function(a){n.has(a.name)||i(a)}),r}function pY(e){var t=hY(e);return _V.reduce(function(n,r){return n.concat(t.filter(function(i){return i.phase===r}))},[])}function gY(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function vY(e){var t=e.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var b2={placement:"bottom",modifiers:[],strategy:"absolute"};function E2(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function mY(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,i=t.defaultOptions,a=i===void 0?b2:i;return function(c,p,v){v===void 0&&(v=a);var m={placement:"bottom",orderedModifiers:[],options:Object.assign({},b2,a),modifiersData:{},elements:{reference:c,popper:p},attributes:{},styles:{}},x=[],E=!1,C={state:m,setOptions:function(P){j(),m.options=Object.assign({},a,m.options,P),m.scrollParents={reference:xp(c)?Vh(c):c.contextElement?Vh(c.contextElement):[],popper:Vh(p)};var M=pY(vY([].concat(r,m.options.modifiers)));return m.orderedModifiers=M.filter(function(z){return z.enabled}),I(),C.update()},forceUpdate:function(){if(!E){var P=m.elements,M=P.reference,z=P.popper;if(E2(M,z)){m.rects={reference:dY(M,Yp(z),m.options.strategy==="fixed"),popper:oS(z)},m.reset=!1,m.placement=m.options.placement,m.orderedModifiers.forEach(function(me){return m.modifiersData[me.name]=Object.assign({},me.data)});for(var $=0;$<m.orderedModifiers.length;$++){if(m.reset===!0){m.reset=!1,$=-1;continue}var U=m.orderedModifiers[$],X=U.fn,V=U.options,ne=V===void 0?{}:V,he=U.name;typeof X=="function"&&(m=X({state:m,options:ne,name:he,instance:C})||m)}}}},update:gY(function(){return new Promise(function(A){C.forceUpdate(),A(m)})}),destroy:function(){j(),E=!0}};if(!E2(c,p))return C;C.setOptions(v).then(function(A){!E&&v.onFirstUpdate&&v.onFirstUpdate(A)});function I(){m.orderedModifiers.forEach(function(A){var P=A.name,M=A.options,z=M===void 0?{}:M,$=A.effect;if(typeof $=="function"){var U=$({state:m,name:P,instance:C,options:z}),X=function(){};x.push(U||X)}})}function j(){x.forEach(function(A){return A()}),x=[]}return C}}var yY=[HV,aY,BV,PV,iY,JV,uY,FV,tY],wY=mY({defaultModifiers:yY}),xY=[],cS=function(t,n,r){r===void 0&&(r={});var i=O.useRef(null),a={onFirstUpdate:r.onFirstUpdate,placement:r.placement||"bottom",strategy:r.strategy||"absolute",modifiers:r.modifiers||xY},l=O.useState({styles:{popper:{position:a.strategy,left:"0",top:"0"}},attributes:{}}),c=l[0],p=l[1],v=O.useMemo(function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(C){var I=C.state,j=Object.keys(I.elements);p({styles:d2(j.map(function(A){return[A,I.styles[A]||{}]})),attributes:d2(j.map(function(A){return[A,I.attributes[A]]}))})},requires:["computeStyles"]}},[]),m=O.useMemo(function(){var E={onFirstUpdate:a.onFirstUpdate,placement:a.placement,strategy:a.strategy,modifiers:[].concat(a.modifiers,[v,{name:"applyStyles",enabled:!1}])};return YA(i.current,E)?i.current||E:(i.current=E,E)},[a.onFirstUpdate,a.placement,a.strategy,a.modifiers,v]),x=O.useRef();return h2(function(){x.current&&x.current.setOptions(m)},[m]),h2(function(){if(!(t==null||n==null)){var E=r.createPopper||wY,C=E(t,n,m);return x.current=C,function(){C.destroy(),x.current=null}}},[t,n,r.createPopper]),{state:x.current?x.current.state:null,styles:c.styles,attributes:c.attributes,update:x.current?x.current.update:null,forceUpdate:x.current?x.current.forceUpdate:null}};const bY=e=>{const{anchor:t,label:n,position:r="top"}=e,[i,a]=O.useState(null),[l,c]=O.useState(null),[p,v]=O.useState(!1),[m,x]=O.useState(),{styles:E,attributes:C}=cS(t,i,{modifiers:[{name:"arrow",options:{element:l}},{name:"flip"}],placement:r,strategy:"fixed"});return O.useEffect(()=>{const I=()=>x(window.setTimeout(()=>v(!0),500)),j=()=>{m&&window.clearTimeout(m),v(!1)};if(t)return t.addEventListener("pointerenter",I),t.addEventListener("pointerleave",j),()=>{t.removeEventListener("pointerenter",I),t.removeEventListener("pointerleave",j)}},[t,m]),b.jsx($a,{classNames:"fade-in-out",in:p,mountOnEnter:!0,timeout:200,unmountOnExit:!0,children:b.jsxs("div",{"aria-hidden":!0,className:"tooltip",ref:a,role:"tooltip",style:E.popper,...C.popper,children:[b.jsx("div",{className:"tooltip-arrow",ref:c,style:E.arrow}),b.jsx("div",{className:"tooltip-label",children:n})]})})},it=O.forwardRef((e,t)=>{var M;const{ariaChecked:n,disabled:r,icon:i,iconOnly:a,iconPosition:l="start",onClick:c,preventDefault:p,role:v,selectable:m=!1,selected:x=!1,tooltipPosition:E,variant:C="secondary"}=e,I=ir("icon-button","icon-position-".concat(l),{selected:x},"variant-".concat(C),{"icon-only":a}),[j,A]=O.useState(null);O.useImperativeHandle(t,()=>j);const P=z=>{c&&c(z),p&&z.preventDefault()};return b.jsxs(b.Fragment,{children:[b.jsxs("button",{"aria-checked":n,"aria-label":a?e.label:void 0,"aria-pressed":m?x:void 0,disabled:r,className:I,onClick:P,ref:A,role:v,children:[b.jsx("span",{className:"icon",children:i}),!a&&((M=e.displayLabel)!=null?M:e.label)]}),a&&b.jsx(bY,{anchor:j,label:e.label,position:E})]})});const EY=e=>{const{children:t,headerDisplayLabel:n,headerLabel:r,onClose:i,onRaise:a}=e,{didCatch:l,ErrorBoundary:c,error:p}=My(),{t:v}=Xe();return O.useEffect(()=>{p&&console.error(p)},[p]),b.jsx("div",{"aria-label":r,className:"dialog-card background",children:b.jsxs(Ul,{floating:!0,children:[b.jsxs("h2",{children:[b.jsx("div",{className:"dialog-card-header",children:b.jsx(it,{displayLabel:n,icon:null,label:r,onClick:a})}),b.jsx("div",{className:"dialog-card-header-controls",children:b.jsx(it,{icon:b.jsx(No,{}),iconOnly:!0,label:v("common.close"),onClick:i,tooltipPosition:"bottom"})})]}),l?b.jsx(Hl,{children:v("components.dialogCard.contentsCrashed")}):b.jsx(c,{children:t})]})})},Uo=e=>{const{children:t,className:n,collapsed:r,fixedSize:i,headerDisplayLabel:a,headerLabel:l,highlighted:c,maximizable:p,maximized:v,onChangeCollapsed:m,onChangeHighlighted:x,onChangeMaximized:E,onClose:C}=e,{didCatch:I,ErrorBoundary:j,error:A}=My(),{t:P}=Xe();O.useEffect(()=>{A&&console.error(A)},[A]),O.useEffect(()=>{if(c){const $=window.setTimeout(()=>x(!1),400);return()=>window.clearTimeout($)}},[c,x]);const M=ir("dialog-card",n,{collapsed:r,highlighted:c,"fixed-size":i,maximized:v});function z($){$.key==="Escape"&&C($)}return b.jsx("div",{"aria-label":l,role:"dialog",className:M,onKeyDown:z,children:b.jsxs(Ul,{floating:!0,children:[b.jsxs("h2",{children:[b.jsx("div",{className:"dialog-card-header",children:b.jsx(it,{icon:r?b.jsx(g3,{}):b.jsx(HL,{}),displayLabel:a,label:l,onClick:()=>m(!r)})}),b.jsxs("div",{className:"dialog-card-header-controls",children:[p&&b.jsx(it,{icon:v?b.jsx(t3,{}):b.jsx(r3,{}),iconOnly:!0,label:P(v?"common.unmaximize":"common.maximize"),onClick:()=>E(!v),tooltipPosition:"bottom"}),b.jsx(it,{icon:b.jsx(No,{}),iconOnly:!0,label:P("common.close"),onClick:C,tooltipPosition:"bottom"})]})]}),I?b.jsx(Hl,{children:P("components.dialogCard.contentsCrashed")}):b.jsx(j,{children:!r&&t})]})})};const fS=e=>b.jsx("div",{className:"dialog-editor",children:e.children}),SY=["Chris Klimas","Lorenzo Ancora","Leon Arnott","Ingrid Cheung","Daithi O Crualaoich","Thomas Michael Edwards","Micah Fitch","Kate Fractal","Juhana Leinonen","Michael Savich","Ross Smith"],CY=["David Marchand (Castellano)","Jordi Mallach (catal)","MasterStudioCZ, Svatopluk Vt (etina)","Kristian Torgard (Dansk)","Julian Brehmer, Moritz Rebbert (Deutsch)","Flavien Robert, Valentin Rocher (Franais)","Marco Secchi (Italiano)","MinariHak ()","SjoerdHekking, Stefan Peeters (Nederlands)","Jos Carlos Dias (Portugus)","Alliah (Portugus Brasileiro)","Anton Zhuchkov ()","Mika Letonsaari (Suomi)","Dsire Nordlund (Svenska)","H. Utku Maden (Trke)","Serhii Mozhaiskyi ()","Shitake & SEN1 &  ()"],S2={code:SY,localizations:CY};const TY=e=>{const{t}=Xe(),n=uo();return b.jsx(Uo,{...e,className:"about-twine-dialog",fixedSize:!0,headerLabel:t("dialogs.aboutTwine.title",{version:n.version}),children:b.jsxs("div",{className:"content",children:[b.jsx("p",{children:t("dialogs.aboutTwine.twineDescription")}),b.jsx("p",{dangerouslySetInnerHTML:{__html:t("dialogs.aboutTwine.license")}}),b.jsxs("div",{className:"credits",children:[b.jsxs("div",{className:"code",children:[b.jsx("h3",{children:t("dialogs.aboutTwine.codeHeader")}),b.jsx("ul",{children:S2.code.map(r=>b.jsx("li",{children:r},r))})]}),b.jsxs("div",{className:"localizations",children:[b.jsx("h3",{children:t("dialogs.aboutTwine.localizationHeader")}),b.jsx("ul",{children:S2.localizations.map(r=>b.jsx("li",{children:r},r))})]})]}),b.jsxs(Nn,{children:[b.jsx(up,{href:"https://twinery.org/donate",icon:b.jsx(KL,{}),label:t("dialogs.aboutTwine.donateToTwine"),variant:"primary"}),b.jsx(up,{href:"https://github.com/klembot/twinejs",icon:b.jsx(b3,{}),label:t("dialogs.aboutTwine.codeRepo")})]})]})})},kY=e=>{const{dispatch:t}=Zt(),{t:n}=Xe();return O.useEffect(()=>t(pr("donateShown",!0)),[t]),b.jsxs(Uo,{...e,className:"app-donation-dialog",fixedSize:!0,headerLabel:n("dialogs.appDonation.title"),children:[b.jsx(_r,{children:b.jsxs("div",{className:"text",children:[b.jsx("p",{children:n("dialogs.appDonation.supportMessage")}),b.jsx("p",{children:n("dialogs.appDonation.onlyOnce")})]})}),b.jsxs(Nn,{children:[b.jsx(up,{href:"https://twinery.org/donate",icon:b.jsx(KL,{}),label:n("dialogs.appDonation.donate"),variant:"primary"}),b.jsx(it,{icon:b.jsx(No,{}),label:n("dialogs.appDonation.noThanks"),onClick:e.onClose})]})]})},Pa=e=>{const{checkedIcon:t,icon:n,onChange:r,uncheckedIcon:i,value:a,...l}=e,c=a?t!=null?t:b.jsx(w4,{}):i!=null?i:b.jsx(qL,{});return b.jsx(it,{icon:n!=null?n:c,onClick:()=>r(!a),role:"checkbox",ariaChecked:a,...l})};const Cp=O.forwardRef((e,t)=>{var r;const n=ir("text-input","orientation-".concat(e.orientation),"type-".concat(e.type));return b.jsx("span",{className:n,children:b.jsxs("label",{children:[b.jsx("span",{className:"text-input-label",children:e.children}),b.jsx("input",{onChange:e.onChange,onInput:e.onInput,placeholder:e.placeholder,ref:t,type:(r=e.type)!=null?r:"text",value:e.value})]})})});const Ps=e=>{const{children:t,onChange:n,options:r,orientation:i,value:a}=e,l=ir("text-select","orientation-".concat(i!=null?i:"horizontal"));return b.jsx("span",{className:l,children:b.jsxs("label",{children:[b.jsx("span",{className:"text-select-label",children:t}),b.jsx("span",{className:"text-select-control",children:b.jsx("select",{onChange:n,value:a,children:r.map(c=>b.jsx("option",{disabled:c.disabled,value:c.value,children:c.label},c.value))})})]})})};const C2=["var(--font-monospaced)","var(--font-system)"],T2=[.8,.9,1,1.25,1.5,2],k2=e=>{const{familyLabel:t,fontFamily:n,fontScale:r,onChangeFamily:i,onChangeScale:a,scaleLabel:l}=e,[c,p]=O.useState(!T2.includes(r)),[v,m]=O.useState(!C2.includes(n)),[x,E]=O.useState(n),[C,I]=O.useState((r*100).toString()),{t:j}=Xe();function A($){$.target.value==="custom"?(m(!0),C2.includes(x)&&E("")):(m(!1),i($.target.value))}function P($){$.target.value==="custom"?p(!0):(p(!1),a(parseFloat($.target.value)))}function M($){E($.target.value),$.target.value.trim()!==""&&i($.target.value)}function z($){I($.target.value);const U=parseInt($.target.value);Number.isFinite(U)&&a(U/100)}return b.jsxs("div",{className:"font-select",children:[b.jsx(Ps,{onChange:A,options:[{label:j("components.fontSelect.fonts.system"),value:"var(--font-system)"},{label:j("components.fontSelect.fonts.monospaced"),value:"var(--font-monospaced)"},{label:j("common.custom"),value:"custom"}],value:v?"custom":n,children:t}),v&&b.jsx(Cp,{onChange:M,orientation:"vertical",value:x,children:j("components.fontSelect.customFamilyDetail")}),b.jsx(Ps,{onChange:P,options:[...T2.map($=>({label:j("components.fontSelect.percentage",{percent:$*100}),value:$.toString()})),{label:j("common.custom"),value:"custom"}],value:c?"custom":r.toString(),children:l}),c&&b.jsx(Cp,{onChange:z,orientation:"vertical",value:C,children:j("components.fontSelect.customScaleDetail")})]})},Qx=[{code:"ca",name:"Catal"},{code:"cs",name:"etina"},{code:"da",name:"Dansk"},{code:"de",name:"Deutsch"},{code:"en",name:"English"},{code:"es",name:"Castellano"},{code:"fi",name:"Suomi"},{code:"fr",name:"Franais"},{code:"it",name:"Italiano"},{code:"ko",name:""},{code:"ms",name:"Bahasa Melayu"},{code:"nb",name:"Norsk bokml"},{code:"nl",name:"Nederlands"},{code:"pt-br",name:"Portugus Brasileiro"},{code:"pt-pt",name:"Portugus"},{code:"ru",name:""},{code:"sv",name:"Svenska"},{code:"tr",name:"Trke"},{code:"uk",name:""},{code:"zh-cn",name:"()"}];function _Y(e){if(Qx.some(t=>t.code===e))return e;if(e.includes("-")){const t=e.replace(/-.+/,""),n=Qx.find(r=>r.code===t||r.code.replace(/-.+/,"")===t);if(n)return n.code}return"en"}const OY=e=>{const{dispatch:t,prefs:n}=Zt(),{t:r}=Xe();return b.jsx(Uo,{...e,className:"app-prefs-dialog",fixedSize:!0,headerLabel:r("dialogs.appPrefs.title"),children:b.jsxs(_r,{children:[b.jsx(Ps,{onChange:i=>t(pr("locale",i.target.value)),options:Qx.map(i=>({label:i.name,value:i.code})),value:_Y(n.locale),children:r("dialogs.appPrefs.language")}),b.jsx(Ps,{onChange:i=>t(pr("appTheme",i.target.value)),options:[{label:r("dialogs.appPrefs.themeSystem"),value:"system"},{label:r("dialogs.appPrefs.themeLight"),value:"light"},{label:r("dialogs.appPrefs.themeDark"),value:"dark"}],value:n.appTheme,children:r("dialogs.appPrefs.theme")}),b.jsx(Ps,{onChange:i=>t(pr("dialogWidth",parseInt(i.target.value))),options:[{label:r("dialogs.appPrefs.dialogWidths.default"),value:"600"},{label:r("dialogs.appPrefs.dialogWidths.wider"),value:"700"},{label:r("dialogs.appPrefs.dialogWidths.widest"),value:"800"}],value:n.dialogWidth.toString(),children:r("dialogs.appPrefs.dialogWidth")}),b.jsx(Pa,{label:r("dialogs.appPrefs.editorCursorBlinks"),onChange:i=>t(pr("editorCursorBlinks",i)),value:n.editorCursorBlinks}),b.jsx("p",{className:"font-explanation",children:r("dialogs.appPrefs.fontExplanation")}),b.jsx(k2,{familyLabel:r("dialogs.appPrefs.passageEditorFont"),fontFamily:n.passageEditorFontFamily,fontScale:n.passageEditorFontScale,onChangeFamily:i=>t(pr("passageEditorFontFamily",i)),onChangeScale:i=>t(pr("passageEditorFontScale",i)),scaleLabel:r("dialogs.appPrefs.passageEditorFontScale")}),b.jsx(k2,{familyLabel:r("dialogs.appPrefs.codeEditorFont"),fontFamily:n.codeEditorFontFamily,fontScale:n.codeEditorFontScale,onChangeFamily:i=>t(pr("codeEditorFontFamily",i)),onChangeScale:i=>t(pr("codeEditorFontScale",i)),scaleLabel:r("dialogs.appPrefs.codeEditorFontScale")})]})})};const LY=e=>{const{dialogLength:t,expanded:n,onChangeExpanded:r}=e,[i,a]=O.useState(!1);return O.useEffect(()=>{function l(){n&&(r(!1),a(!1))}return window.addEventListener("touchstart",l),()=>window.removeEventListener("touchstart",l)},[n,r]),n&&i?null:b.jsx("div",{"aria-hidden":!0,className:"dialog-stack-expander",onMouseEnter:()=>r(!n),onTouchEnd:l=>{r(!0),a(!0),l.preventDefault()},style:{bottom:n?0:"auto",height:n?"auto":"var(--control-height)",top:n?"calc(var(--control-height) * ".concat(t,")"):0}})};const Gv=3,qv="var(--control-height)",PY=({children:e,childKeys:t})=>{const n=O.useRef(null),[r,i]=O.useState(!1),a=O.useMemo(()=>[...e].reverse(),[e]),l=O.useMemo(()=>[...t].reverse(),[t]),c=O.useRef();O.useEffect(()=>{c.current=l},[l]);const p=O.useMemo(()=>{var C,I;return l.length===((C=c.current)==null?void 0:C.length)&&l[l.length-1]!==((I=c.current)==null?void 0:I[l.length-1])},[l]),v=Math.min(e.length,Gv),m=e.length>v,x="".concat(qv," / ").concat(e.length+1-Gv),E="calc(100% - (".concat(qv," * ").concat(v-1,"))");return b.jsxs("div",{className:"dialog-stack",onMouseLeave:()=>i(!1),onClick:()=>i(!1),ref:n,children:[m&&b.jsx(LY,{dialogLength:e.length,expanded:r,onChangeExpanded:i}),b.jsx(hd,{component:null,children:a.map((C,I)=>{const j=m&&I<=e.length-Gv,A=j?"calc(".concat(x," * ").concat(I,")"):"calc(".concat(qv," * ").concat(m?I-(e.length-Gv):I,")"),P="calc(".concat(qv," * ").concat(I,")"),M=j&&{onBlur:()=>i(!1),onFocus:()=>i(!0)};return b.jsx($a,{classNames:"pop",timeout:200,children:b.jsx("div",{className:ir("dialog-height-setter",{rising:p&&I===a.length-1}),style:{height:E},...M,children:b.jsx("div",{className:"dialog-transform-setter",style:{transform:"translateY(".concat(r?P:A,")")},children:C})})},l[I])})})]})};function fN(e,t){switch(e.type){case"createPassage":if(e.props.id)return{type:"deletePassage",passageId:e.props.id,storyId:e.storyId};if(e.props.name)return(r,i)=>{r({type:"deletePassage",passageId:ay(i(),e.storyId,e.props.name).id,storyId:e.storyId})};throw new Error("Can't reverse a createPassage action without either name or ID");case"createPassages":if(e.props.some(n=>!n.id&&!n.name))throw new Error("Can't reverse a createPassages action where a prop set doesn't have either name or ID");return(n,r)=>{e.props.forEach(i=>{i.id?n({type:"deletePassage",passageId:i.id,storyId:e.storyId}):i.name&&n({type:"deletePassage",passageId:ay(r(),e.storyId,i.name).id,storyId:e.storyId})})};case"deletePassage":return{type:"createPassage",props:Os(t,e.storyId,e.passageId),storyId:e.storyId};case"deletePassages":return{type:"createPassages",props:e.passageIds.map(n=>Os(t,e.storyId,n)),storyId:e.storyId};case"updatePassage":{const n=Os(t,e.storyId,e.passageId);return{type:"updatePassage",props:Object.keys(e.props).reduce((i,a)=>({...i,[a]:n[a]}),{}),passageId:e.passageId,storyId:e.storyId}}case"updatePassages":return{type:"updatePassages",passageUpdates:Object.keys(e.passageUpdates).reduce((n,r)=>{const i=Os(t,e.storyId,r);return{...n,[r]:Object.keys(e.passageUpdates[r]).reduce((a,l)=>({...a,[l]:i[l]}),{})}},{}),storyId:e.storyId};case"updateStory":{const n=sn(t,e.storyId);return{type:"updateStory",props:Object.keys(e.props).reduce((i,a)=>({...i,[a]:n[a]}),{}),storyId:e.storyId}}}throw new Error("Don't know how to reverse action type \"".concat(e.type,'"'))}function dN(e,t){const n=[];return e(i=>{typeof i=="function"?n.push(dN(i,t)):n.push(fN(i,t))},()=>t),i=>n.forEach(i)}const AY=(e,t)=>{switch(t.type){case"addChange":const n={description:t.description,redo:t.action,undo:typeof t.action=="function"?dN(t.action,t.storiesState):fN(t.action,t.storiesState)},r=[...e.changes.slice(0,e.currentChange+1),n];return{changes:r,currentChange:r.length-1};case"updateCurrent":return{...e,currentChange:Math.min(Math.max(e.currentChange+t.change,-1),e.changes.length-1)}}},dS=O.createContext({dispatch:()=>{},stories:[]});dS.displayName="UndoableStories";const Gi=()=>O.useContext(dS),hN=e=>{const{dispatch:t,stories:n}=gn(),[r,i]=O.useReducer(AY,{changes:[],currentChange:-1}),a=O.useCallback((x,E)=>(E&&i({type:"addChange",action:x,description:E,storiesState:n}),t(x)),[n,t]),{t:l}=Xe();let c,p,v,m;return r.changes.length>0&&(r.currentChange>=0&&(v=()=>{t(r.changes[r.currentChange].undo),i({type:"updateCurrent",change:-1})},m=l("common.undoChange",{change:l(r.changes[r.currentChange].description)})),r.currentChange<r.changes.length-1&&(c=()=>{t(r.changes[r.currentChange+1].redo),i({type:"updateCurrent",change:1})},p=l("common.redoChange",{change:l(r.changes[r.currentChange+1].description)}))),b.jsx(dS.Provider,{value:{dispatch:a,redo:c,redoLabel:p,stories:n,undo:v,undoLabel:m},children:e.children})};var Tp={},m1={exports:{}},_2;function pd(){return _2||(_2=1,function(e,t){(function(n,r){e.exports=r()})(An,function(){var n=navigator.userAgent,r=navigator.platform,i=/gecko\/\d/i.test(n),a=/MSIE \d/.test(n),l=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(n),c=/Edge\/(\d+)/.exec(n),p=a||l||c,v=p&&(a?document.documentMode||6:+(c||l)[1]),m=!c&&/WebKit\//.test(n),x=m&&/Qt\/\d+\.\d+/.test(n),E=!c&&/Chrome\//.test(n),C=/Opera\//.test(n),I=/Apple Computer/.test(navigator.vendor),j=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(n),A=/PhantomJS/.test(n),P=I&&(/Mobile\/\w+/.test(n)||navigator.maxTouchPoints>2),M=/Android/.test(n),z=P||M||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(n),$=P||/Mac/.test(r),U=/\bCrOS\b/.test(n),X=/win/i.test(r),V=C&&n.match(/Version\/(\d*\.\d*)/);V&&(V=Number(V[1])),V&&V>=15&&(C=!1,m=!0);var ne=$&&(x||C&&(V==null||V<12.11)),he=i||p&&v>=9;function me(o){return new RegExp("(^|\\s)"+o+"(?:$|\\s)\\s*")}var we=function(o,s){var d=o.className,f=me(s).exec(d);if(f){var g=d.slice(f.index+f[0].length);o.className=d.slice(0,f.index)+(g?f[1]+g:"")}};function ze(o){for(var s=o.childNodes.length;s>0;--s)o.removeChild(o.firstChild);return o}function J(o,s){return ze(o).appendChild(s)}function Z(o,s,d,f){var g=document.createElement(o);if(d&&(g.className=d),f&&(g.style.cssText=f),typeof s=="string")g.appendChild(document.createTextNode(s));else if(s)for(var w=0;w<s.length;++w)g.appendChild(s[w]);return g}function q(o,s,d,f){var g=Z(o,s,d,f);return g.setAttribute("role","presentation"),g}var Me;document.createRange?Me=function(o,s,d,f){var g=document.createRange();return g.setEnd(f||o,d),g.setStart(o,s),g}:Me=function(o,s,d){var f=document.body.createTextRange();try{f.moveToElementText(o.parentNode)}catch{return f}return f.collapse(!0),f.moveEnd("character",d),f.moveStart("character",s),f};function Ne(o,s){if(s.nodeType==3&&(s=s.parentNode),o.contains)return o.contains(s);do if(s.nodeType==11&&(s=s.host),s==o)return!0;while(s=s.parentNode)}function _e(){var o;try{o=document.activeElement}catch{o=document.body||null}for(;o&&o.shadowRoot&&o.shadowRoot.activeElement;)o=o.shadowRoot.activeElement;return o}function Se(o,s){var d=o.className;me(s).test(d)||(o.className+=(d?" ":"")+s)}function Le(o,s){for(var d=o.split(" "),f=0;f<d.length;f++)d[f]&&!me(d[f]).test(s)&&(s+=" "+d[f]);return s}var te=function(o){o.select()};P?te=function(o){o.selectionStart=0,o.selectionEnd=o.value.length}:p&&(te=function(o){try{o.select()}catch{}});function ce(o){var s=Array.prototype.slice.call(arguments,1);return function(){return o.apply(null,s)}}function ye(o,s,d){s||(s={});for(var f in o)o.hasOwnProperty(f)&&(d!==!1||!s.hasOwnProperty(f))&&(s[f]=o[f]);return s}function re(o,s,d,f,g){s==null&&(s=o.search(/[^\s\u00a0]/),s==-1&&(s=o.length));for(var w=f||0,S=g||0;;){var _=o.indexOf("	",w);if(_<0||_>=s)return S+(s-w);S+=_-w,S+=d-S%d,w=_+1}}var se=function(){this.id=null,this.f=null,this.time=0,this.handler=ce(this.onTimeout,this)};se.prototype.onTimeout=function(o){o.id=0,o.time<=+new Date?o.f():setTimeout(o.handler,o.time-+new Date)},se.prototype.set=function(o,s){this.f=s;var d=+new Date+o;(!this.id||d<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,o),this.time=d)};function pe(o,s){for(var d=0;d<o.length;++d)if(o[d]==s)return d;return-1}var Ce=50,Ae={toString:function(){return"CodeMirror.Pass"}},He={scroll:!1},tt={origin:"*mouse"},Ye={origin:"+move"};function vt(o,s,d){for(var f=0,g=0;;){var w=o.indexOf("	",f);w==-1&&(w=o.length);var S=w-f;if(w==o.length||g+S>=s)return f+Math.min(S,s-g);if(g+=w-f,g+=d-g%d,f=w+1,g>=s)return f}}var Bt=[""];function Pt(o){for(;Bt.length<=o;)Bt.push(rt(Bt)+" ");return Bt[o]}function rt(o){return o[o.length-1]}function pt(o,s){for(var d=[],f=0;f<o.length;f++)d[f]=s(o[f],f);return d}function kt(o,s,d){for(var f=0,g=d(s);f<o.length&&d(o[f])<=g;)f++;o.splice(f,0,s)}function Rt(){}function $t(o,s){var d;return Object.create?d=Object.create(o):(Rt.prototype=o,d=new Rt),s&&ye(s,d),d}var Wt=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function ut(o){return/\w/.test(o)||o>""&&(o.toUpperCase()!=o.toLowerCase()||Wt.test(o))}function fe(o,s){return s?s.source.indexOf("\\w")>-1&&ut(o)?!0:s.test(o):ut(o)}function Ee(o){for(var s in o)if(o.hasOwnProperty(s)&&o[s])return!1;return!0}var ge=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function We(o){return o.charCodeAt(0)>=768&&ge.test(o)}function Lt(o,s,d){for(;(d<0?s>0:s<o.length)&&We(o.charAt(s));)s+=d;return s}function B(o,s,d){for(var f=s>d?-1:1;;){if(s==d)return s;var g=(s+d)/2,w=f<0?Math.ceil(g):Math.floor(g);if(w==s)return o(w)?s:d;o(w)?d=w:s=w+f}}function k(o,s,d,f){if(!o)return f(s,d,"ltr",0);for(var g=!1,w=0;w<o.length;++w){var S=o[w];(S.from<d&&S.to>s||s==d&&S.to==s)&&(f(Math.max(S.from,s),Math.min(S.to,d),S.level==1?"rtl":"ltr",w),g=!0)}g||f(s,d,"ltr")}var L=null;function K(o,s,d){var f;L=null;for(var g=0;g<o.length;++g){var w=o[g];if(w.from<s&&w.to>s)return g;w.to==s&&(w.from!=w.to&&d=="before"?f=g:L=g),w.from==s&&(w.from!=w.to&&d!="before"?f=g:L=g)}return f!=null?f:L}var ie=function(){var o="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",s="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function d(R){return R<=247?o.charAt(R):1424<=R&&R<=1524?"R":1536<=R&&R<=1785?s.charAt(R-1536):1774<=R&&R<=2220?"r":8192<=R&&R<=8203?"w":R==8204?"b":"L"}var f=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,g=/[stwN]/,w=/[LRr]/,S=/[Lb1n]/,_=/[1n]/;function N(R,G,Y){this.level=R,this.from=G,this.to=Y}return function(R,G){var Y=G=="ltr"?"L":"R";if(R.length==0||G=="ltr"&&!f.test(R))return!1;for(var le=R.length,ae=[],xe=0;xe<le;++xe)ae.push(d(R.charCodeAt(xe)));for(var Pe=0,De=Y;Pe<le;++Pe){var Ke=ae[Pe];Ke=="m"?ae[Pe]=De:De=Ke}for(var qe=0,Ge=Y;qe<le;++qe){var Ze=ae[qe];Ze=="1"&&Ge=="r"?ae[qe]="n":w.test(Ze)&&(Ge=Ze,Ze=="r"&&(ae[qe]="R"))}for(var at=1,ot=ae[0];at<le-1;++at){var Tt=ae[at];Tt=="+"&&ot=="1"&&ae[at+1]=="1"?ae[at]="1":Tt==","&&ot==ae[at+1]&&(ot=="1"||ot=="n")&&(ae[at]=ot),ot=Tt}for(var Yt=0;Yt<le;++Yt){var On=ae[Yt];if(On==",")ae[Yt]="N";else if(On=="%"){var nn=void 0;for(nn=Yt+1;nn<le&&ae[nn]=="%";++nn);for(var lr=Yt&&ae[Yt-1]=="!"||nn<le&&ae[nn]=="1"?"1":"N",ur=Yt;ur<nn;++ur)ae[ur]=lr;Yt=nn-1}}for(var bn=0,qn=Y;bn<le;++bn){var Fn=ae[bn];qn=="L"&&Fn=="1"?ae[bn]="L":w.test(Fn)&&(qn=Fn)}for(var en=0;en<le;++en)if(g.test(ae[en])){var an=void 0;for(an=en+1;an<le&&g.test(ae[an]);++an);for(var yn=(en?ae[en-1]:Y)=="L",cr=(an<le?ae[an]:Y)=="L",hl=yn==cr?yn?"L":"R":Y,ga=en;ga<an;++ga)ae[ga]=hl;en=an-1}for(var nr=[],ro,jn=0;jn<le;)if(S.test(ae[jn])){var uh=jn;for(++jn;jn<le&&S.test(ae[jn]);++jn);nr.push(new N(0,uh,jn))}else{var ko=jn,us=nr.length,cs=G=="rtl"?1:0;for(++jn;jn<le&&ae[jn]!="L";++jn);for(var fr=ko;fr<jn;)if(_.test(ae[fr])){ko<fr&&(nr.splice(us,0,new N(1,ko,fr)),us+=cs);var pl=fr;for(++fr;fr<jn&&_.test(ae[fr]);++fr);nr.splice(us,0,new N(2,pl,fr)),us+=cs,ko=fr}else++fr;ko<jn&&nr.splice(us,0,new N(1,ko,jn))}return G=="ltr"&&(nr[0].level==1&&(ro=R.match(/^\s+/))&&(nr[0].from=ro[0].length,nr.unshift(new N(0,0,ro[0].length))),rt(nr).level==1&&(ro=R.match(/\s+$/))&&(rt(nr).to-=ro[0].length,nr.push(new N(0,le-ro[0].length,le)))),G=="rtl"?nr.reverse():nr}}();function ve(o,s){var d=o.order;return d==null&&(d=o.order=ie(o.text,s)),d}var Te=[],Be=function(o,s,d){if(o.addEventListener)o.addEventListener(s,d,!1);else if(o.attachEvent)o.attachEvent("on"+s,d);else{var f=o._handlers||(o._handlers={});f[s]=(f[s]||Te).concat(d)}};function Xt(o,s){return o._handlers&&o._handlers[s]||Te}function Ct(o,s,d){if(o.removeEventListener)o.removeEventListener(s,d,!1);else if(o.detachEvent)o.detachEvent("on"+s,d);else{var f=o._handlers,g=f&&f[s];if(g){var w=pe(g,d);w>-1&&(f[s]=g.slice(0,w).concat(g.slice(w+1)))}}}function Qe(o,s){var d=Xt(o,s);if(d.length)for(var f=Array.prototype.slice.call(arguments,2),g=0;g<d.length;++g)d[g].apply(null,f)}function mt(o,s,d){return typeof s=="string"&&(s={type:s,preventDefault:function(){this.defaultPrevented=!0}}),Qe(o,d||s.type,o,s),Hr(s)||s.codemirrorIgnore}function Fs(o){var s=o._handlers&&o._handlers.cursorActivity;if(s)for(var d=o.curOp.cursorActivityHandlers||(o.curOp.cursorActivityHandlers=[]),f=0;f<s.length;++f)pe(d,s[f])==-1&&d.push(s[f])}function Hn(o,s){return Xt(o,s).length>0}function wi(o){o.prototype.on=function(s,d){Be(this,s,d)},o.prototype.off=function(s,d){Ct(this,s,d)}}function Un(o){o.preventDefault?o.preventDefault():o.returnValue=!1}function js(o){o.stopPropagation?o.stopPropagation():o.cancelBubble=!0}function Hr(o){return o.defaultPrevented!=null?o.defaultPrevented:o.returnValue==!1}function za(o){Un(o),js(o)}function Wo(o){return o.target||o.srcElement}function ql(o){var s=o.which;return s==null&&(o.button&1?s=1:o.button&2?s=3:o.button&4&&(s=2)),$&&o.ctrlKey&&s==1&&(s=3),s}var Xl=function(){if(p&&v<9)return!1;var o=Z("div");return"draggable"in o||"dragDrop"in o}(),br;function gc(o){if(br==null){var s=Z("span","");J(o,Z("span",[s,document.createTextNode("x")])),o.firstChild.offsetHeight!=0&&(br=s.offsetWidth<=1&&s.offsetHeight>2&&!(p&&v<8))}var d=br?Z("span",""):Z("span","",null,"display: inline-block; width: 1px; margin-right: -1px");return d.setAttribute("cm-text",""),d}var Ha;function qi(o){if(Ha!=null)return Ha;var s=J(o,document.createTextNode("AA")),d=Me(s,0,1).getBoundingClientRect(),f=Me(s,1,2).getBoundingClientRect();return ze(o),!d||d.left==d.right?!1:Ha=f.right-d.right<3}var Ua="\n\nb".split(/\n/).length!=3?function(o){for(var s=0,d=[],f=o.length;s<=f;){var g=o.indexOf("\n",s);g==-1&&(g=o.length);var w=o.slice(s,o.charAt(g-1)=="\r"?g-1:g),S=w.indexOf("\r");S!=-1?(d.push(w.slice(0,S)),s+=S+1):(d.push(w),s=g+1)}return d}:function(o){return o.split(/\r\n?|\n/)},vc=window.getSelection?function(o){try{return o.selectionStart!=o.selectionEnd}catch{return!1}}:function(o){var s;try{s=o.ownerDocument.selection.createRange()}catch{}return!s||s.parentElement()!=o?!1:s.compareEndPoints("StartToEnd",s)!=0},mc=function(){var o=Z("div");return"oncopy"in o?!0:(o.setAttribute("oncopy","return;"),typeof o.oncopy=="function")}(),Vl=null;function Ko(o){if(Vl!=null)return Vl;var s=J(o,Z("span","x")),d=s.getBoundingClientRect(),f=Me(s,0,1).getBoundingClientRect();return Vl=Math.abs(d.left-f.left)>1}var ni={},Ur={};function yc(o,s){arguments.length>2&&(s.dependencies=Array.prototype.slice.call(arguments,2)),ni[o]=s}function yo(o,s){Ur[o]=s}function Wa(o){if(typeof o=="string"&&Ur.hasOwnProperty(o))o=Ur[o];else if(o&&typeof o.name=="string"&&Ur.hasOwnProperty(o.name)){var s=Ur[o.name];typeof s=="string"&&(s={name:s}),o=$t(s,o),o.name=s.name}else{if(typeof o=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(o))return Wa("application/xml");if(typeof o=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(o))return Wa("application/json")}return typeof o=="string"?{name:o}:o||{name:"null"}}function $s(o,s){s=Wa(s);var d=ni[s.name];if(!d)return $s(o,"text/plain");var f=d(o,s);if(xi.hasOwnProperty(s.name)){var g=xi[s.name];for(var w in g)g.hasOwnProperty(w)&&(f.hasOwnProperty(w)&&(f["_"+w]=f[w]),f[w]=g[w])}if(f.name=s.name,s.helperType&&(f.helperType=s.helperType),s.modeProps)for(var S in s.modeProps)f[S]=s.modeProps[S];return f}var xi={};function bi(o,s){var d=xi.hasOwnProperty(o)?xi[o]:xi[o]={};ye(s,d)}function Wr(o,s){if(s===!0)return s;if(o.copyState)return o.copyState(s);var d={};for(var f in s){var g=s[f];g instanceof Array&&(g=g.concat([])),d[f]=g}return d}function Yl(o,s){for(var d;o.innerMode&&(d=o.innerMode(s),!(!d||d.mode==o));)s=d.state,o=d.mode;return d||{mode:o,state:s}}function Ql(o,s,d){return o.startState?o.startState(s,d):!0}var cn=function(o,s,d){this.pos=this.start=0,this.string=o,this.tabSize=s||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=d};cn.prototype.eol=function(){return this.pos>=this.string.length},cn.prototype.sol=function(){return this.pos==this.lineStart},cn.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},cn.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},cn.prototype.eat=function(o){var s=this.string.charAt(this.pos),d;if(typeof o=="string"?d=s==o:d=s&&(o.test?o.test(s):o(s)),d)return++this.pos,s},cn.prototype.eatWhile=function(o){for(var s=this.pos;this.eat(o););return this.pos>s},cn.prototype.eatSpace=function(){for(var o=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>o},cn.prototype.skipToEnd=function(){this.pos=this.string.length},cn.prototype.skipTo=function(o){var s=this.string.indexOf(o,this.pos);if(s>-1)return this.pos=s,!0},cn.prototype.backUp=function(o){this.pos-=o},cn.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=re(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?re(this.string,this.lineStart,this.tabSize):0)},cn.prototype.indentation=function(){return re(this.string,null,this.tabSize)-(this.lineStart?re(this.string,this.lineStart,this.tabSize):0)},cn.prototype.match=function(o,s,d){if(typeof o=="string"){var f=function(S){return d?S.toLowerCase():S},g=this.string.substr(this.pos,o.length);if(f(g)==f(o))return s!==!1&&(this.pos+=o.length),!0}else{var w=this.string.slice(this.pos).match(o);return w&&w.index>0?null:(w&&s!==!1&&(this.pos+=w[0].length),w)}},cn.prototype.current=function(){return this.string.slice(this.start,this.pos)},cn.prototype.hideFirstChars=function(o,s){this.lineStart+=o;try{return s()}finally{this.lineStart-=o}},cn.prototype.lookAhead=function(o){var s=this.lineOracle;return s&&s.lookAhead(o)},cn.prototype.baseToken=function(){var o=this.lineOracle;return o&&o.baseToken(this.pos)};function nt(o,s){if(s-=o.first,s<0||s>=o.size)throw new Error("There is no line "+(s+o.first)+" in the document.");for(var d=o;!d.lines;)for(var f=0;;++f){var g=d.children[f],w=g.chunkSize();if(s<w){d=g;break}s-=w}return d.lines[s]}function Kr(o,s,d){var f=[],g=s.line;return o.iter(s.line,d.line+1,function(w){var S=w.text;g==d.line&&(S=S.slice(0,d.ch)),g==s.line&&(S=S.slice(s.ch)),f.push(S),++g}),f}function Zl(o,s,d){var f=[];return o.iter(s,d,function(g){f.push(g.text)}),f}function Pr(o,s){var d=s-o.height;if(d)for(var f=o;f;f=f.parent)f.height+=d}function Kt(o){if(o.parent==null)return null;for(var s=o.parent,d=pe(s.lines,o),f=s.parent;f;s=f,f=f.parent)for(var g=0;f.children[g]!=s;++g)d+=f.children[g].chunkSize();return d+s.first}function Ei(o,s){var d=o.first;e:do{for(var f=0;f<o.children.length;++f){var g=o.children[f],w=g.height;if(s<w){o=g;continue e}s-=w,d+=g.chunkSize()}return d}while(!o.lines);for(var S=0;S<o.lines.length;++S){var _=o.lines[S],N=_.height;if(s<N)break;s-=N}return d+S}function Go(o,s){return s>=o.first&&s<o.first+o.size}function Ds(o,s){return String(o.lineNumberFormatter(s+o.firstLineNumber))}function Fe(o,s,d){if(d===void 0&&(d=null),!(this instanceof Fe))return new Fe(o,s,d);this.line=o,this.ch=s,this.sticky=d}function F(o,s){return o.line-s.line||o.ch-s.ch}function Q(o,s){return o.sticky==s.sticky&&F(o,s)==0}function ke(o){return Fe(o.line,o.ch)}function je(o,s){return F(o,s)<0?s:o}function gt(o,s){return F(o,s)<0?o:s}function Ft(o,s){return Math.max(o.first,Math.min(s,o.first+o.size-1))}function Ve(o,s){if(s.line<o.first)return Fe(o.first,0);var d=o.first+o.size-1;return s.line>d?Fe(d,nt(o,d).text.length):Xn(s,nt(o,s.line).text.length)}function Xn(o,s){var d=o.ch;return d==null||d>s?Fe(o.line,s):d<0?Fe(o.line,0):o}function Ar(o,s){for(var d=[],f=0;f<s.length;f++)d[f]=Ve(o,s[f]);return d}var wo=function(o,s){this.state=o,this.lookAhead=s},Si=function(o,s,d,f){this.state=s,this.doc=o,this.line=d,this.maxLookAhead=f||0,this.baseTokens=null,this.baseTokenPos=1};Si.prototype.lookAhead=function(o){var s=this.doc.getLine(this.line+o);return s!=null&&o>this.maxLookAhead&&(this.maxLookAhead=o),s},Si.prototype.baseToken=function(o){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=o;)this.baseTokenPos+=2;var s=this.baseTokens[this.baseTokenPos+1];return{type:s&&s.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-o}},Si.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},Si.fromSaved=function(o,s,d){return s instanceof wo?new Si(o,Wr(o.mode,s.state),d,s.lookAhead):new Si(o,Wr(o.mode,s),d)},Si.prototype.save=function(o){var s=o!==!1?Wr(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new wo(s,this.maxLookAhead):s};function tg(o,s,d,f){var g=[o.state.modeGen],w={};yd(o,s.text,o.doc.mode,d,function(R,G){return g.push(R,G)},w,f);for(var S=d.state,_=function(R){d.baseTokens=g;var G=o.state.overlays[R],Y=1,le=0;d.state=!0,yd(o,s.text,G.mode,d,function(ae,xe){for(var Pe=Y;le<ae;){var De=g[Y];De>ae&&g.splice(Y,1,ae,g[Y+1],De),Y+=2,le=Math.min(ae,De)}if(xe)if(G.opaque)g.splice(Pe,Y-Pe,ae,"overlay "+xe),Y=Pe+2;else for(;Pe<Y;Pe+=2){var Ke=g[Pe+1];g[Pe+1]=(Ke?Ke+" ":"")+"overlay "+xe}},w),d.state=S,d.baseTokens=null,d.baseTokenPos=1},N=0;N<o.state.overlays.length;++N)_(N);return{styles:g,classes:w.bgClass||w.textClass?w:null}}function md(o,s,d){if(!s.styles||s.styles[0]!=o.state.modeGen){var f=Bs(o,Kt(s)),g=s.text.length>o.options.maxHighlightLength&&Wr(o.doc.mode,f.state),w=tg(o,s,f);g&&(f.state=g),s.stateAfter=f.save(!g),s.styles=w.styles,w.classes?s.styleClasses=w.classes:s.styleClasses&&(s.styleClasses=null),d===o.doc.highlightFrontier&&(o.doc.modeFrontier=Math.max(o.doc.modeFrontier,++o.doc.highlightFrontier))}return s.styles}function Bs(o,s,d){var f=o.doc,g=o.display;if(!f.mode.startState)return new Si(f,!0,s);var w=rg(o,s,d),S=w>f.first&&nt(f,w-1).stateAfter,_=S?Si.fromSaved(f,S,w):new Si(f,Ql(f.mode),w);return f.iter(w,s,function(N){Jl(o,N.text,_);var R=_.line;N.stateAfter=R==s-1||R%5==0||R>=g.viewFrom&&R<g.viewTo?_.save():null,_.nextLine()}),d&&(f.modeFrontier=_.line),_}function Jl(o,s,d,f){var g=o.doc.mode,w=new cn(s,o.options.tabSize,d);for(w.start=w.pos=f||0,s==""&&ng(g,d.state);!w.eol();)wc(g,w,d.state),w.start=w.pos}function ng(o,s){if(o.blankLine)return o.blankLine(s);if(o.innerMode){var d=Yl(o,s);if(d.mode.blankLine)return d.mode.blankLine(d.state)}}function wc(o,s,d,f){for(var g=0;g<10;g++){f&&(f[0]=Yl(o,d).mode);var w=o.token(s,d);if(s.pos>s.start)return w}throw new Error("Mode "+o.name+" failed to advance stream.")}var xc=function(o,s,d){this.start=o.start,this.end=o.pos,this.string=o.current(),this.type=s||null,this.state=d};function bc(o,s,d,f){var g=o.doc,w=g.mode,S;s=Ve(g,s);var _=nt(g,s.line),N=Bs(o,s.line,d),R=new cn(_.text,o.options.tabSize,N),G;for(f&&(G=[]);(f||R.pos<s.ch)&&!R.eol();)R.start=R.pos,S=wc(w,R,N.state),f&&G.push(new xc(R,S,Wr(g.mode,N.state)));return f?G:new xc(R,S,N.state)}function Ka(o,s){if(o)for(;;){var d=o.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!d)break;o=o.slice(0,d.index)+o.slice(d.index+d[0].length);var f=d[1]?"bgClass":"textClass";s[f]==null?s[f]=d[2]:new RegExp("(?:^|\\s)"+d[2]+"(?:$|\\s)").test(s[f])||(s[f]+=" "+d[2])}return o}function yd(o,s,d,f,g,w,S){var _=d.flattenSpans;_==null&&(_=o.options.flattenSpans);var N=0,R=null,G=new cn(s,o.options.tabSize,f),Y,le=o.options.addModeClass&&[null];for(s==""&&Ka(ng(d,f.state),w);!G.eol();){if(G.pos>o.options.maxHighlightLength?(_=!1,S&&Jl(o,s,f,G.pos),G.pos=s.length,Y=null):Y=Ka(wc(d,G,f.state,le),w),le){var ae=le[0].name;ae&&(Y="m-"+(Y?ae+" "+Y:ae))}if(!_||R!=Y){for(;N<G.start;)N=Math.min(G.start,N+5e3),g(N,R);R=Y}G.start=G.pos}for(;N<G.pos;){var xe=Math.min(G.pos,N+5e3);g(xe,R),N=xe}}function rg(o,s,d){for(var f,g,w=o.doc,S=d?-1:s-(o.doc.mode.innerMode?1e3:100),_=s;_>S;--_){if(_<=w.first)return w.first;var N=nt(w,_-1),R=N.stateAfter;if(R&&(!d||_+(R instanceof wo?R.lookAhead:0)<=w.modeFrontier))return _;var G=re(N.text,null,o.options.tabSize);(g==null||f>G)&&(g=_-1,f=G)}return g}function L0(o,s){if(o.modeFrontier=Math.min(o.modeFrontier,s),!(o.highlightFrontier<s-10)){for(var d=o.first,f=s-1;f>d;f--){var g=nt(o,f).stateAfter;if(g&&(!(g instanceof wo)||f+g.lookAhead<s)){d=f+1;break}}o.highlightFrontier=Math.min(o.highlightFrontier,d)}}var wd=!1,Xi=!1;function ig(){wd=!0}function og(){Xi=!0}function Ec(o,s,d){this.marker=o,this.from=s,this.to=d}function eu(o,s){if(o)for(var d=0;d<o.length;++d){var f=o[d];if(f.marker==s)return f}}function P0(o,s){for(var d,f=0;f<o.length;++f)o[f]!=s&&(d||(d=[])).push(o[f]);return d}function ag(o,s,d){var f=d&&window.WeakSet&&(d.markedSpans||(d.markedSpans=new WeakSet));f&&f.has(o.markedSpans)?o.markedSpans.push(s):(o.markedSpans=o.markedSpans?o.markedSpans.concat([s]):[s],f&&f.add(o.markedSpans)),s.marker.attachLine(o)}function A0(o,s,d){var f;if(o)for(var g=0;g<o.length;++g){var w=o[g],S=w.marker,_=w.from==null||(S.inclusiveLeft?w.from<=s:w.from<s);if(_||w.from==s&&S.type=="bookmark"&&(!d||!w.marker.insertLeft)){var N=w.to==null||(S.inclusiveRight?w.to>=s:w.to>s);(f||(f=[])).push(new Ec(S,w.from,N?null:w.to))}}return f}function N0(o,s,d){var f;if(o)for(var g=0;g<o.length;++g){var w=o[g],S=w.marker,_=w.to==null||(S.inclusiveRight?w.to>=s:w.to>s);if(_||w.from==s&&S.type=="bookmark"&&(!d||w.marker.insertLeft)){var N=w.from==null||(S.inclusiveLeft?w.from<=s:w.from<s);(f||(f=[])).push(new Ec(S,N?null:w.from-s,w.to==null?null:w.to-s))}}return f}function xd(o,s){if(s.full)return null;var d=Go(o,s.from.line)&&nt(o,s.from.line).markedSpans,f=Go(o,s.to.line)&&nt(o,s.to.line).markedSpans;if(!d&&!f)return null;var g=s.from.ch,w=s.to.ch,S=F(s.from,s.to)==0,_=A0(d,g,S),N=N0(f,w,S),R=s.text.length==1,G=rt(s.text).length+(R?g:0);if(_)for(var Y=0;Y<_.length;++Y){var le=_[Y];if(le.to==null){var ae=eu(N,le.marker);ae?R&&(le.to=ae.to==null?null:ae.to+G):le.to=g}}if(N)for(var xe=0;xe<N.length;++xe){var Pe=N[xe];if(Pe.to!=null&&(Pe.to+=G),Pe.from==null){var De=eu(_,Pe.marker);De||(Pe.from=G,R&&(_||(_=[])).push(Pe))}else Pe.from+=G,R&&(_||(_=[])).push(Pe)}_&&(_=sg(_)),N&&N!=_&&(N=sg(N));var Ke=[_];if(!R){var qe=s.text.length-2,Ge;if(qe>0&&_)for(var Ze=0;Ze<_.length;++Ze)_[Ze].to==null&&(Ge||(Ge=[])).push(new Ec(_[Ze].marker,null,null));for(var at=0;at<qe;++at)Ke.push(Ge);Ke.push(N)}return Ke}function sg(o){for(var s=0;s<o.length;++s){var d=o[s];d.from!=null&&d.from==d.to&&d.marker.clearWhenEmpty!==!1&&o.splice(s--,1)}return o.length?o:null}function bd(o,s,d){var f=null;if(o.iter(s.line,d.line+1,function(ae){if(ae.markedSpans)for(var xe=0;xe<ae.markedSpans.length;++xe){var Pe=ae.markedSpans[xe].marker;Pe.readOnly&&(!f||pe(f,Pe)==-1)&&(f||(f=[])).push(Pe)}}),!f)return null;for(var g=[{from:s,to:d}],w=0;w<f.length;++w)for(var S=f[w],_=S.find(0),N=0;N<g.length;++N){var R=g[N];if(!(F(R.to,_.from)<0||F(R.from,_.to)>0)){var G=[N,1],Y=F(R.from,_.from),le=F(R.to,_.to);(Y<0||!S.inclusiveLeft&&!Y)&&G.push({from:R.from,to:_.from}),(le>0||!S.inclusiveRight&&!le)&&G.push({from:_.to,to:R.to}),g.splice.apply(g,G),N+=G.length-3}}return g}function lg(o){var s=o.markedSpans;if(s){for(var d=0;d<s.length;++d)s[d].marker.detachLine(o);o.markedSpans=null}}function ug(o,s){if(s){for(var d=0;d<s.length;++d)s[d].marker.attachLine(o);o.markedSpans=s}}function Sc(o){return o.inclusiveLeft?-1:0}function Cc(o){return o.inclusiveRight?1:0}function Ed(o,s){var d=o.lines.length-s.lines.length;if(d!=0)return d;var f=o.find(),g=s.find(),w=F(f.from,g.from)||Sc(o)-Sc(s);if(w)return-w;var S=F(f.to,g.to)||Cc(o)-Cc(s);return S||s.id-o.id}function fn(o,s){var d=Xi&&o.markedSpans,f;if(d)for(var g=void 0,w=0;w<d.length;++w)g=d[w],g.marker.collapsed&&(s?g.from:g.to)==null&&(!f||Ed(f,g.marker)<0)&&(f=g.marker);return f}function on(o){return fn(o,!0)}function Tc(o){return fn(o,!1)}function I0(o,s){var d=Xi&&o.markedSpans,f;if(d)for(var g=0;g<d.length;++g){var w=d[g];w.marker.collapsed&&(w.from==null||w.from<s)&&(w.to==null||w.to>s)&&(!f||Ed(f,w.marker)<0)&&(f=w.marker)}return f}function cg(o,s,d,f,g){var w=nt(o,s),S=Xi&&w.markedSpans;if(S)for(var _=0;_<S.length;++_){var N=S[_];if(N.marker.collapsed){var R=N.marker.find(0),G=F(R.from,d)||Sc(N.marker)-Sc(g),Y=F(R.to,f)||Cc(N.marker)-Cc(g);if(!(G>=0&&Y<=0||G<=0&&Y>=0)&&(G<=0&&(N.marker.inclusiveRight&&g.inclusiveLeft?F(R.to,d)>=0:F(R.to,d)>0)||G>=0&&(N.marker.inclusiveRight&&g.inclusiveLeft?F(R.from,f)<=0:F(R.from,f)<0)))return!0}}}function Ci(o){for(var s;s=on(o);)o=s.find(-1,!0).line;return o}function R0(o){for(var s;s=Tc(o);)o=s.find(1,!0).line;return o}function M0(o){for(var s,d;s=Tc(o);)o=s.find(1,!0).line,(d||(d=[])).push(o);return d}function kc(o,s){var d=nt(o,s),f=Ci(d);return d==f?s:Kt(f)}function fg(o,s){if(s>o.lastLine())return s;var d=nt(o,s),f;if(!dn(o,d))return s;for(;f=Tc(d);)d=f.find(1,!0).line;return Kt(d)+1}function dn(o,s){var d=Xi&&s.markedSpans;if(d){for(var f=void 0,g=0;g<d.length;++g)if(f=d[g],!!f.marker.collapsed){if(f.from==null)return!0;if(!f.marker.widgetNode&&f.from==0&&f.marker.inclusiveLeft&&tu(o,s,f))return!0}}}function tu(o,s,d){if(d.to==null){var f=d.marker.find(1,!0);return tu(o,f.line,eu(f.line.markedSpans,d.marker))}if(d.marker.inclusiveRight&&d.to==s.text.length)return!0;for(var g=void 0,w=0;w<s.markedSpans.length;++w)if(g=s.markedSpans[w],g.marker.collapsed&&!g.marker.widgetNode&&g.from==d.to&&(g.to==null||g.to!=d.from)&&(g.marker.inclusiveLeft||d.marker.inclusiveRight)&&tu(o,s,g))return!0}function Er(o){o=Ci(o);for(var s=0,d=o.parent,f=0;f<d.lines.length;++f){var g=d.lines[f];if(g==o)break;s+=g.height}for(var w=d.parent;w;d=w,w=d.parent)for(var S=0;S<w.children.length;++S){var _=w.children[S];if(_==d)break;s+=_.height}return s}function nu(o){if(o.height==0)return 0;for(var s=o.text.length,d,f=o;d=on(f);){var g=d.find(0,!0);f=g.from.line,s+=g.from.ch-g.to.ch}for(f=o;d=Tc(f);){var w=d.find(0,!0);s-=f.text.length-w.from.ch,f=w.to.line,s+=f.text.length-w.to.ch}return s}function ru(o){var s=o.display,d=o.doc;s.maxLine=nt(d,d.first),s.maxLineLength=nu(s.maxLine),s.maxLineChanged=!0,d.iter(function(f){var g=nu(f);g>s.maxLineLength&&(s.maxLineLength=g,s.maxLine=f)})}var Vn=function(o,s,d){this.text=o,ug(this,s),this.height=d?d(this):1};Vn.prototype.lineNo=function(){return Kt(this)},wi(Vn);function dg(o,s,d,f){o.text=s,o.stateAfter&&(o.stateAfter=null),o.styles&&(o.styles=null),o.order!=null&&(o.order=null),lg(o),ug(o,d);var g=f?f(o):1;g!=o.height&&Pr(o,g)}function hg(o){o.parent=null,lg(o)}var pg={},gg={};function Sd(o,s){if(!o||/^\s*$/.test(o))return null;var d=s.addModeClass?gg:pg;return d[o]||(d[o]=o.replace(/\S+/g,"cm-$&"))}function Cd(o,s){var d=q("span",null,null,m?"padding-right: .1px":null),f={pre:q("pre",[d],"CodeMirror-line"),content:d,col:0,pos:0,cm:o,trailingSpace:!1,splitSpaces:o.getOption("lineWrapping")};s.measure={};for(var g=0;g<=(s.rest?s.rest.length:0);g++){var w=g?s.rest[g-1]:s.line,S=void 0;f.pos=0,f.addToken=F0,qi(o.display.measure)&&(S=ve(w,o.doc.direction))&&(f.addToken=j0(f.addToken,S)),f.map=[];var _=s!=o.display.externalMeasured&&Kt(w);qo(w,f,md(o,w,_)),w.styleClasses&&(w.styleClasses.bgClass&&(f.bgClass=Le(w.styleClasses.bgClass,f.bgClass||"")),w.styleClasses.textClass&&(f.textClass=Le(w.styleClasses.textClass,f.textClass||""))),f.map.length==0&&f.map.push(0,0,f.content.appendChild(gc(o.display.measure))),g==0?(s.measure.map=f.map,s.measure.cache={}):((s.measure.maps||(s.measure.maps=[])).push(f.map),(s.measure.caches||(s.measure.caches=[])).push({}))}if(m){var N=f.content.lastChild;(/\bcm-tab\b/.test(N.className)||N.querySelector&&N.querySelector(".cm-tab"))&&(f.content.className="cm-tab-wrap-hack")}return Qe(o,"renderLine",o,s.line,f.pre),f.pre.className&&(f.textClass=Le(f.pre.className,f.textClass||"")),f}function Gr(o){var s=Z("span","","cm-invalidchar");return s.title="\\u"+o.charCodeAt(0).toString(16),s.setAttribute("aria-label",s.title),s}function F0(o,s,d,f,g,w,S){if(s){var _=o.splitSpaces?ri(s,o.trailingSpace):s,N=o.cm.state.specialChars,R=!1,G;if(!N.test(s))o.col+=s.length,G=document.createTextNode(_),o.map.push(o.pos,o.pos+s.length,G),p&&v<9&&(R=!0),o.pos+=s.length;else{G=document.createDocumentFragment();for(var Y=0;;){N.lastIndex=Y;var le=N.exec(s),ae=le?le.index-Y:s.length-Y;if(ae){var xe=document.createTextNode(_.slice(Y,Y+ae));p&&v<9?G.appendChild(Z("span",[xe])):G.appendChild(xe),o.map.push(o.pos,o.pos+ae,xe),o.col+=ae,o.pos+=ae}if(!le)break;Y+=ae+1;var Pe=void 0;if(le[0]=="	"){var De=o.cm.options.tabSize,Ke=De-o.col%De;Pe=G.appendChild(Z("span",Pt(Ke),"cm-tab")),Pe.setAttribute("role","presentation"),Pe.setAttribute("cm-text","	"),o.col+=Ke}else le[0]=="\r"||le[0]=="\n"?(Pe=G.appendChild(Z("span",le[0]=="\r"?"":"","cm-invalidchar")),Pe.setAttribute("cm-text",le[0]),o.col+=1):(Pe=o.cm.options.specialCharPlaceholder(le[0]),Pe.setAttribute("cm-text",le[0]),p&&v<9?G.appendChild(Z("span",[Pe])):G.appendChild(Pe),o.col+=1);o.map.push(o.pos,o.pos+1,Pe),o.pos++}}if(o.trailingSpace=_.charCodeAt(s.length-1)==32,d||f||g||R||w||S){var qe=d||"";f&&(qe+=f),g&&(qe+=g);var Ge=Z("span",[G],qe,w);if(S)for(var Ze in S)S.hasOwnProperty(Ze)&&Ze!="style"&&Ze!="class"&&Ge.setAttribute(Ze,S[Ze]);return o.content.appendChild(Ge)}o.content.appendChild(G)}}function ri(o,s){if(o.length>1&&!/  /.test(o))return o;for(var d=s,f="",g=0;g<o.length;g++){var w=o.charAt(g);w==" "&&d&&(g==o.length-1||o.charCodeAt(g+1)==32)&&(w=""),f+=w,d=w==" "}return f}function j0(o,s){return function(d,f,g,w,S,_,N){g=g?g+" cm-force-border":"cm-force-border";for(var R=d.pos,G=R+f.length;;){for(var Y=void 0,le=0;le<s.length&&(Y=s[le],!(Y.to>R&&Y.from<=R));le++);if(Y.to>=G)return o(d,f,g,w,S,_,N);o(d,f.slice(0,Y.to-R),g,w,null,_,N),w=null,f=f.slice(Y.to-R),R=Y.to}}}function Td(o,s,d,f){var g=!f&&d.widgetNode;g&&o.map.push(o.pos,o.pos+s,g),!f&&o.cm.display.input.needsContentAttribute&&(g||(g=o.content.appendChild(document.createElement("span"))),g.setAttribute("cm-marker",d.id)),g&&(o.cm.display.input.setUneditable(g),o.content.appendChild(g)),o.pos+=s,o.trailingSpace=!1}function qo(o,s,d){var f=o.markedSpans,g=o.text,w=0;if(!f){for(var S=1;S<d.length;S+=2)s.addToken(s,g.slice(w,w=d[S]),Sd(d[S+1],s.cm.options));return}for(var _=g.length,N=0,R=1,G="",Y,le,ae=0,xe,Pe,De,Ke,qe;;){if(ae==N){xe=Pe=De=le="",qe=null,Ke=null,ae=1/0;for(var Ge=[],Ze=void 0,at=0;at<f.length;++at){var ot=f[at],Tt=ot.marker;if(Tt.type=="bookmark"&&ot.from==N&&Tt.widgetNode)Ge.push(Tt);else if(ot.from<=N&&(ot.to==null||ot.to>N||Tt.collapsed&&ot.to==N&&ot.from==N)){if(ot.to!=null&&ot.to!=N&&ae>ot.to&&(ae=ot.to,Pe=""),Tt.className&&(xe+=" "+Tt.className),Tt.css&&(le=(le?le+";":"")+Tt.css),Tt.startStyle&&ot.from==N&&(De+=" "+Tt.startStyle),Tt.endStyle&&ot.to==ae&&(Ze||(Ze=[])).push(Tt.endStyle,ot.to),Tt.title&&((qe||(qe={})).title=Tt.title),Tt.attributes)for(var Yt in Tt.attributes)(qe||(qe={}))[Yt]=Tt.attributes[Yt];Tt.collapsed&&(!Ke||Ed(Ke.marker,Tt)<0)&&(Ke=ot)}else ot.from>N&&ae>ot.from&&(ae=ot.from)}if(Ze)for(var On=0;On<Ze.length;On+=2)Ze[On+1]==ae&&(Pe+=" "+Ze[On]);if(!Ke||Ke.from==N)for(var nn=0;nn<Ge.length;++nn)Td(s,0,Ge[nn]);if(Ke&&(Ke.from||0)==N){if(Td(s,(Ke.to==null?_+1:Ke.to)-N,Ke.marker,Ke.from==null),Ke.to==null)return;Ke.to==N&&(Ke=!1)}}if(N>=_)break;for(var lr=Math.min(_,ae);;){if(G){var ur=N+G.length;if(!Ke){var bn=ur>lr?G.slice(0,lr-N):G;s.addToken(s,bn,Y?Y+xe:xe,De,N+bn.length==ae?Pe:"",le,qe)}if(ur>=lr){G=G.slice(lr-N),N=lr;break}N=ur,De=""}G=g.slice(w,w=d[R++]),Y=Sd(d[R++],s.cm.options)}}}function iu(o,s,d){this.line=s,this.rest=M0(s),this.size=this.rest?Kt(rt(this.rest))-d+1:1,this.node=this.text=null,this.hidden=dn(o,s)}function zs(o,s,d){for(var f=[],g,w=s;w<d;w=g){var S=new iu(o.doc,nt(o.doc,w),w);g=w+S.size,f.push(S)}return f}var Jt=null;function Xo(o){Jt?Jt.ops.push(o):o.ownsGroup=Jt={ops:[o],delayedCallbacks:[]}}function kd(o){var s=o.delayedCallbacks,d=0;do{for(;d<s.length;d++)s[d].call(null);for(var f=0;f<o.ops.length;f++){var g=o.ops[f];if(g.cursorActivityHandlers)for(;g.cursorActivityCalled<g.cursorActivityHandlers.length;)g.cursorActivityHandlers[g.cursorActivityCalled++].call(null,g.cm)}}while(d<s.length)}function $0(o,s){var d=o.ownsGroup;if(d)try{kd(d)}finally{Jt=null,s(d)}}var Ga=null;function Rn(o,s){var d=Xt(o,s);if(d.length){var f=Array.prototype.slice.call(arguments,2),g;Jt?g=Jt.delayedCallbacks:Ga?g=Ga:(g=Ga=[],setTimeout(D0,0));for(var w=function(_){g.push(function(){return d[_].apply(null,f)})},S=0;S<d.length;++S)w(S)}}function D0(){var o=Ga;Ga=null;for(var s=0;s<o.length;++s)o[s]()}function vg(o,s,d,f){for(var g=0;g<s.changes.length;g++){var w=s.changes[g];w=="text"?B0(o,s):w=="gutter"?_d(o,s,d,f):w=="class"?Oc(o,s):w=="widget"&&Od(o,s,f)}s.changes=null}function Hs(o){return o.node==o.text&&(o.node=Z("div",null,null,"position: relative"),o.text.parentNode&&o.text.parentNode.replaceChild(o.node,o.text),o.node.appendChild(o.text),p&&v<8&&(o.node.style.zIndex=2)),o.node}function _c(o,s){var d=s.bgClass?s.bgClass+" "+(s.line.bgClass||""):s.line.bgClass;if(d&&(d+=" CodeMirror-linebackground"),s.background)d?s.background.className=d:(s.background.parentNode.removeChild(s.background),s.background=null);else if(d){var f=Hs(s);s.background=f.insertBefore(Z("div",null,d),f.firstChild),o.display.input.setUneditable(s.background)}}function qa(o,s){var d=o.display.externalMeasured;return d&&d.line==s.line?(o.display.externalMeasured=null,s.measure=d.measure,d.built):Cd(o,s)}function B0(o,s){var d=s.text.className,f=qa(o,s);s.text==s.node&&(s.node=f.pre),s.text.parentNode.replaceChild(f.pre,s.text),s.text=f.pre,f.bgClass!=s.bgClass||f.textClass!=s.textClass?(s.bgClass=f.bgClass,s.textClass=f.textClass,Oc(o,s)):d&&(s.text.className=d)}function Oc(o,s){_c(o,s),s.line.wrapClass?Hs(s).className=s.line.wrapClass:s.node!=s.text&&(s.node.className="");var d=s.textClass?s.textClass+" "+(s.line.textClass||""):s.line.textClass;s.text.className=d||""}function _d(o,s,d,f){if(s.gutter&&(s.node.removeChild(s.gutter),s.gutter=null),s.gutterBackground&&(s.node.removeChild(s.gutterBackground),s.gutterBackground=null),s.line.gutterClass){var g=Hs(s);s.gutterBackground=Z("div",null,"CodeMirror-gutter-background "+s.line.gutterClass,"left: "+(o.options.fixedGutter?f.fixedPos:-f.gutterTotalWidth)+"px; width: "+f.gutterTotalWidth+"px"),o.display.input.setUneditable(s.gutterBackground),g.insertBefore(s.gutterBackground,s.text)}var w=s.line.gutterMarkers;if(o.options.lineNumbers||w){var S=Hs(s),_=s.gutter=Z("div",null,"CodeMirror-gutter-wrapper","left: "+(o.options.fixedGutter?f.fixedPos:-f.gutterTotalWidth)+"px");if(_.setAttribute("aria-hidden","true"),o.display.input.setUneditable(_),S.insertBefore(_,s.text),s.line.gutterClass&&(_.className+=" "+s.line.gutterClass),o.options.lineNumbers&&(!w||!w["CodeMirror-linenumbers"])&&(s.lineNumber=_.appendChild(Z("div",Ds(o.options,d),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+f.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+o.display.lineNumInnerWidth+"px"))),w)for(var N=0;N<o.display.gutterSpecs.length;++N){var R=o.display.gutterSpecs[N].className,G=w.hasOwnProperty(R)&&w[R];G&&_.appendChild(Z("div",[G],"CodeMirror-gutter-elt","left: "+f.gutterLeft[R]+"px; width: "+f.gutterWidth[R]+"px"))}}}function Od(o,s,d){s.alignable&&(s.alignable=null);for(var f=me("CodeMirror-linewidget"),g=s.node.firstChild,w=void 0;g;g=w)w=g.nextSibling,f.test(g.className)&&s.node.removeChild(g);Pd(o,s,d)}function Ld(o,s,d,f){var g=qa(o,s);return s.text=s.node=g.pre,g.bgClass&&(s.bgClass=g.bgClass),g.textClass&&(s.textClass=g.textClass),Oc(o,s),_d(o,s,d,f),Pd(o,s,f),s.node}function Pd(o,s,d){if(mg(o,s.line,s,d,!0),s.rest)for(var f=0;f<s.rest.length;f++)mg(o,s.rest[f],s,d,!1)}function mg(o,s,d,f,g){if(s.widgets)for(var w=Hs(d),S=0,_=s.widgets;S<_.length;++S){var N=_[S],R=Z("div",[N.node],"CodeMirror-linewidget"+(N.className?" "+N.className:""));N.handleMouseEvents||R.setAttribute("cm-ignore-events","true"),Ad(N,R,d,f),o.display.input.setUneditable(R),g&&N.above?w.insertBefore(R,d.gutter||d.text):w.appendChild(R),Rn(N,"redraw")}}function Ad(o,s,d,f){if(o.noHScroll){(d.alignable||(d.alignable=[])).push(s);var g=f.wrapperWidth;s.style.left=f.fixedPos+"px",o.coverGutter||(g-=f.gutterTotalWidth,s.style.paddingLeft=f.gutterTotalWidth+"px"),s.style.width=g+"px"}o.coverGutter&&(s.style.zIndex=5,s.style.position="relative",o.noHScroll||(s.style.marginLeft=-f.gutterTotalWidth+"px"))}function Xa(o){if(o.height!=null)return o.height;var s=o.doc.cm;if(!s)return 0;if(!Ne(document.body,o.node)){var d="position: relative;";o.coverGutter&&(d+="margin-left: -"+s.display.gutters.offsetWidth+"px;"),o.noHScroll&&(d+="width: "+s.display.wrapper.clientWidth+"px;"),J(s.display.measure,Z("div",[o.node],null,d))}return o.height=o.node.parentNode.offsetHeight}function xo(o,s){for(var d=Wo(s);d!=o.wrapper;d=d.parentNode)if(!d||d.nodeType==1&&d.getAttribute("cm-ignore-events")=="true"||d.parentNode==o.sizer&&d!=o.mover)return!0}function ou(o){return o.lineSpace.offsetTop}function Sr(o){return o.mover.offsetHeight-o.lineSpace.offsetHeight}function Lc(o){if(o.cachedPaddingH)return o.cachedPaddingH;var s=J(o.measure,Z("pre","x","CodeMirror-line-like")),d=window.getComputedStyle?window.getComputedStyle(s):s.currentStyle,f={left:parseInt(d.paddingLeft),right:parseInt(d.paddingRight)};return!isNaN(f.left)&&!isNaN(f.right)&&(o.cachedPaddingH=f),f}function Nr(o){return Ce-o.display.nativeBarWidth}function Vo(o){return o.display.scroller.clientWidth-Nr(o)-o.display.barWidth}function Pc(o){return o.display.scroller.clientHeight-Nr(o)-o.display.barHeight}function z0(o,s,d){var f=o.options.lineWrapping,g=f&&Vo(o);if(!s.measure.heights||f&&s.measure.width!=g){var w=s.measure.heights=[];if(f){s.measure.width=g;for(var S=s.text.firstChild.getClientRects(),_=0;_<S.length-1;_++){var N=S[_],R=S[_+1];Math.abs(N.bottom-R.bottom)>2&&w.push((N.bottom+R.top)/2-d.top)}}w.push(d.bottom-d.top)}}function yg(o,s,d){if(o.line==s)return{map:o.measure.map,cache:o.measure.cache};if(o.rest){for(var f=0;f<o.rest.length;f++)if(o.rest[f]==s)return{map:o.measure.maps[f],cache:o.measure.caches[f]};for(var g=0;g<o.rest.length;g++)if(Kt(o.rest[g])>d)return{map:o.measure.maps[g],cache:o.measure.caches[g],before:!0}}}function H0(o,s){s=Ci(s);var d=Kt(s),f=o.display.externalMeasured=new iu(o.doc,s,d);f.lineN=d;var g=f.built=Cd(o,f);return f.text=g.pre,J(o.display.lineMeasure,g.pre),f}function wg(o,s,d,f){return Vi(o,Ti(o,s),d,f)}function Nd(o,s){if(s>=o.display.viewFrom&&s<o.display.viewTo)return o.display.view[Qi(o,s)];var d=o.display.externalMeasured;if(d&&s>=d.lineN&&s<d.lineN+d.size)return d}function Ti(o,s){var d=Kt(s),f=Nd(o,d);f&&!f.text?f=null:f&&f.changes&&(vg(o,f,d,Ir(o)),o.curOp.forceUpdate=!0),f||(f=H0(o,s));var g=yg(f,s,d);return{line:s,view:f,rect:null,map:g.map,cache:g.cache,before:g.before,hasHeights:!1}}function Vi(o,s,d,f,g){s.before&&(d=-1);var w=d+(f||""),S;return s.cache.hasOwnProperty(w)?S=s.cache[w]:(s.rect||(s.rect=s.view.text.getBoundingClientRect()),s.hasHeights||(z0(o,s.view,s.rect),s.hasHeights=!0),S=Yo(o,s,d,f),S.bogus||(s.cache[w]=S)),{left:S.left,right:S.right,top:g?S.rtop:S.top,bottom:g?S.rbottom:S.bottom}}var xg={left:0,right:0,top:0,bottom:0};function Ac(o,s,d){for(var f,g,w,S,_,N,R=0;R<o.length;R+=3)if(_=o[R],N=o[R+1],s<_?(g=0,w=1,S="left"):s<N?(g=s-_,w=g+1):(R==o.length-3||s==N&&o[R+3]>s)&&(w=N-_,g=w-1,s>=N&&(S="right")),g!=null){if(f=o[R+2],_==N&&d==(f.insertLeft?"left":"right")&&(S=d),d=="left"&&g==0)for(;R&&o[R-2]==o[R-3]&&o[R-1].insertLeft;)f=o[(R-=3)+2],S="left";if(d=="right"&&g==N-_)for(;R<o.length-3&&o[R+3]==o[R+4]&&!o[R+5].insertLeft;)f=o[(R+=3)+2],S="right";break}return{node:f,start:g,end:w,collapse:S,coverStart:_,coverEnd:N}}function bg(o,s){var d=xg;if(s=="left")for(var f=0;f<o.length&&(d=o[f]).left==d.right;f++);else for(var g=o.length-1;g>=0&&(d=o[g]).left==d.right;g--);return d}function Yo(o,s,d,f){var g=Ac(s.map,d,f),w=g.node,S=g.start,_=g.end,N=g.collapse,R;if(w.nodeType==3){for(var G=0;G<4;G++){for(;S&&We(s.line.text.charAt(g.coverStart+S));)--S;for(;g.coverStart+_<g.coverEnd&&We(s.line.text.charAt(g.coverStart+_));)++_;if(p&&v<9&&S==0&&_==g.coverEnd-g.coverStart?R=w.parentNode.getBoundingClientRect():R=bg(Me(w,S,_).getClientRects(),f),R.left||R.right||S==0)break;_=S,S=S-1,N="right"}p&&v<11&&(R=Nc(o.display.measure,R))}else{S>0&&(N=f="right");var Y;o.options.lineWrapping&&(Y=w.getClientRects()).length>1?R=Y[f=="right"?Y.length-1:0]:R=w.getBoundingClientRect()}if(p&&v<9&&!S&&(!R||!R.left&&!R.right)){var le=w.parentNode.getClientRects()[0];le?R={left:le.left,right:le.left+Us(o.display),top:le.top,bottom:le.bottom}:R=xg}for(var ae=R.top-s.rect.top,xe=R.bottom-s.rect.top,Pe=(ae+xe)/2,De=s.view.measure.heights,Ke=0;Ke<De.length-1&&!(Pe<De[Ke]);Ke++);var qe=Ke?De[Ke-1]:0,Ge=De[Ke],Ze={left:(N=="right"?R.right:R.left)-s.rect.left,right:(N=="left"?R.left:R.right)-s.rect.left,top:qe,bottom:Ge};return!R.left&&!R.right&&(Ze.bogus=!0),o.options.singleCursorHeightPerLine||(Ze.rtop=ae,Ze.rbottom=xe),Ze}function Nc(o,s){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!Ko(o))return s;var d=screen.logicalXDPI/screen.deviceXDPI,f=screen.logicalYDPI/screen.deviceYDPI;return{left:s.left*d,right:s.right*d,top:s.top*f,bottom:s.bottom*f}}function Eg(o){if(o.measure&&(o.measure.cache={},o.measure.heights=null,o.rest))for(var s=0;s<o.rest.length;s++)o.measure.caches[s]={}}function Sg(o){o.display.externalMeasure=null,ze(o.display.lineMeasure);for(var s=0;s<o.display.view.length;s++)Eg(o.display.view[s])}function au(o){Sg(o),o.display.cachedCharWidth=o.display.cachedTextHeight=o.display.cachedPaddingH=null,o.options.lineWrapping||(o.display.maxLineChanged=!0),o.display.lineNumChars=null}function Va(){return E&&M?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function ii(){return E&&M?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function Ic(o){var s=Ci(o),d=s.widgets,f=0;if(d)for(var g=0;g<d.length;++g)d[g].above&&(f+=Xa(d[g]));return f}function Rc(o,s,d,f,g){if(!g){var w=Ic(s);d.top+=w,d.bottom+=w}if(f=="line")return d;f||(f="local");var S=Er(s);if(f=="local"?S+=ou(o.display):S-=o.display.viewOffset,f=="page"||f=="window"){var _=o.display.lineSpace.getBoundingClientRect();S+=_.top+(f=="window"?0:ii());var N=_.left+(f=="window"?0:Va());d.left+=N,d.right+=N}return d.top+=S,d.bottom+=S,d}function Cg(o,s,d){if(d=="div")return s;var f=s.left,g=s.top;if(d=="page")f-=Va(),g-=ii();else if(d=="local"||!d){var w=o.display.sizer.getBoundingClientRect();f+=w.left,g+=w.top}var S=o.display.lineSpace.getBoundingClientRect();return{left:f-S.left,top:g-S.top}}function Mc(o,s,d,f,g){return f||(f=nt(o.doc,s.line)),Rc(o,f,wg(o,f,s.ch,g),d)}function ki(o,s,d,f,g,w){f=f||nt(o.doc,s.line),g||(g=Ti(o,f));function S(xe,Pe){var De=Vi(o,g,xe,Pe?"right":"left",w);return Pe?De.left=De.right:De.right=De.left,Rc(o,f,De,d)}var _=ve(f,o.doc.direction),N=s.ch,R=s.sticky;if(N>=f.text.length?(N=f.text.length,R="before"):N<=0&&(N=0,R="after"),!_)return S(R=="before"?N-1:N,R=="before");function G(xe,Pe,De){var Ke=_[Pe],qe=Ke.level==1;return S(De?xe-1:xe,qe!=De)}var Y=K(_,N,R),le=L,ae=G(N,Y,R=="before");return le!=null&&(ae.other=G(N,le,R!="before")),ae}function Tg(o,s){var d=0;s=Ve(o.doc,s),o.options.lineWrapping||(d=Us(o.display)*s.ch);var f=nt(o.doc,s.line),g=Er(f)+ou(o.display);return{left:d,right:d,top:g,bottom:g+f.height}}function Qo(o,s,d,f,g){var w=Fe(o,s,d);return w.xRel=g,f&&(w.outside=f),w}function ue(o,s,d){var f=o.doc;if(d+=o.display.viewOffset,d<0)return Qo(f.first,0,null,-1,-1);var g=Ei(f,d),w=f.first+f.size-1;if(g>w)return Qo(f.first+f.size-1,nt(f,w).text.length,null,1,1);s<0&&(s=0);for(var S=nt(f,g);;){var _=xt(o,S,g,s,d),N=I0(S,_.ch+(_.xRel>0||_.outside>0?1:0));if(!N)return _;var R=N.find(1);if(R.line==g)return R;S=nt(f,g=R.line)}}function Oe(o,s,d,f){f-=Ic(s);var g=s.text.length,w=B(function(S){return Vi(o,d,S-1).bottom<=f},g,0);return g=B(function(S){return Vi(o,d,S).top>f},w,g),{begin:w,end:g}}function be(o,s,d,f){d||(d=Ti(o,s));var g=Rc(o,s,Vi(o,d,f),"line").top;return Oe(o,s,d,g)}function et(o,s,d,f){return o.bottom<=d?!1:o.top>d?!0:(f?o.left:o.right)>s}function xt(o,s,d,f,g){g-=Er(s);var w=Ti(o,s),S=Ic(s),_=0,N=s.text.length,R=!0,G=ve(s,o.doc.direction);if(G){var Y=(o.options.lineWrapping?Mn:Vt)(o,s,d,w,G,f,g);R=Y.level!=1,_=R?Y.from:Y.to-1,N=R?Y.to:Y.from-1}var le=null,ae=null,xe=B(function(at){var ot=Vi(o,w,at);return ot.top+=S,ot.bottom+=S,et(ot,f,g,!1)?(ot.top<=g&&ot.left<=f&&(le=at,ae=ot),!0):!1},_,N),Pe,De,Ke=!1;if(ae){var qe=f-ae.left<ae.right-f,Ge=qe==R;xe=le+(Ge?0:1),De=Ge?"after":"before",Pe=qe?ae.left:ae.right}else{!R&&(xe==N||xe==_)&&xe++,De=xe==0?"after":xe==s.text.length?"before":Vi(o,w,xe-(R?1:0)).bottom+S<=g==R?"after":"before";var Ze=ki(o,Fe(d,xe,De),"line",s,w);Pe=Ze.left,Ke=g<Ze.top?-1:g>=Ze.bottom?1:0}return xe=Lt(s.text,xe,1),Qo(d,xe,De,Ke,f-Pe)}function Vt(o,s,d,f,g,w,S){var _=B(function(Y){var le=g[Y],ae=le.level!=1;return et(ki(o,Fe(d,ae?le.to:le.from,ae?"before":"after"),"line",s,f),w,S,!0)},0,g.length-1),N=g[_];if(_>0){var R=N.level!=1,G=ki(o,Fe(d,R?N.from:N.to,R?"after":"before"),"line",s,f);et(G,w,S,!0)&&G.top>S&&(N=g[_-1])}return N}function Mn(o,s,d,f,g,w,S){var _=Oe(o,s,f,S),N=_.begin,R=_.end;/\s/.test(s.text.charAt(R-1))&&R--;for(var G=null,Y=null,le=0;le<g.length;le++){var ae=g[le];if(!(ae.from>=R||ae.to<=N)){var xe=ae.level!=1,Pe=Vi(o,f,xe?Math.min(R,ae.to)-1:Math.max(N,ae.from)).right,De=Pe<w?w-Pe+1e9:Pe-w;(!G||Y>De)&&(G=ae,Y=De)}}return G||(G=g[g.length-1]),G.from<N&&(G={from:N,to:G.to,level:G.level}),G.to>R&&(G={from:G.from,to:R,level:G.level}),G}var Ht;function Zo(o){if(o.cachedTextHeight!=null)return o.cachedTextHeight;if(Ht==null){Ht=Z("pre",null,"CodeMirror-line-like");for(var s=0;s<49;++s)Ht.appendChild(document.createTextNode("x")),Ht.appendChild(Z("br"));Ht.appendChild(document.createTextNode("x"))}J(o.measure,Ht);var d=Ht.offsetHeight/50;return d>3&&(o.cachedTextHeight=d),ze(o.measure),d||1}function Us(o){if(o.cachedCharWidth!=null)return o.cachedCharWidth;var s=Z("span","xxxxxxxxxx"),d=Z("pre",[s],"CodeMirror-line-like");J(o.measure,d);var f=s.getBoundingClientRect(),g=(f.right-f.left)/10;return g>2&&(o.cachedCharWidth=g),g||10}function Ir(o){for(var s=o.display,d={},f={},g=s.gutters.clientLeft,w=s.gutters.firstChild,S=0;w;w=w.nextSibling,++S){var _=o.display.gutterSpecs[S].className;d[_]=w.offsetLeft+w.clientLeft+g,f[_]=w.clientWidth}return{fixedPos:Ws(s),gutterTotalWidth:s.gutters.offsetWidth,gutterLeft:d,gutterWidth:f,wrapperWidth:s.wrapper.clientWidth}}function Ws(o){return o.scroller.getBoundingClientRect().left-o.sizer.getBoundingClientRect().left}function kg(o){var s=Zo(o.display),d=o.options.lineWrapping,f=d&&Math.max(5,o.display.scroller.clientWidth/Us(o.display)-3);return function(g){if(dn(o.doc,g))return 0;var w=0;if(g.widgets)for(var S=0;S<g.widgets.length;S++)g.widgets[S].height&&(w+=g.widgets[S].height);return d?w+(Math.ceil(g.text.length/f)||1)*s:w+s}}function Jo(o){var s=o.doc,d=kg(o);s.iter(function(f){var g=d(f);g!=f.height&&Pr(f,g)})}function Yi(o,s,d,f){var g=o.display;if(!d&&Wo(s).getAttribute("cm-not-content")=="true")return null;var w,S,_=g.lineSpace.getBoundingClientRect();try{w=s.clientX-_.left,S=s.clientY-_.top}catch{return null}var N=ue(o,w,S),R;if(f&&N.xRel>0&&(R=nt(o.doc,N.line).text).length==N.ch){var G=re(R,R.length,o.options.tabSize)-R.length;N=Fe(N.line,Math.max(0,Math.round((w-Lc(o.display).left)/Us(o.display))-G))}return N}function Qi(o,s){if(s>=o.display.viewTo||(s-=o.display.viewFrom,s<0))return null;for(var d=o.display.view,f=0;f<d.length;f++)if(s-=d[f].size,s<0)return f}function bt(o,s,d,f){s==null&&(s=o.doc.first),d==null&&(d=o.doc.first+o.doc.size),f||(f=0);var g=o.display;if(f&&d<g.viewTo&&(g.updateLineNumbers==null||g.updateLineNumbers>s)&&(g.updateLineNumbers=s),o.curOp.viewChanged=!0,s>=g.viewTo)Xi&&kc(o.doc,s)<g.viewTo&&bo(o);else if(d<=g.viewFrom)Xi&&fg(o.doc,d+f)>g.viewFrom?bo(o):(g.viewFrom+=f,g.viewTo+=f);else if(s<=g.viewFrom&&d>=g.viewTo)bo(o);else if(s<=g.viewFrom){var w=Ya(o,d,d+f,1);w?(g.view=g.view.slice(w.index),g.viewFrom=w.lineN,g.viewTo+=f):bo(o)}else if(d>=g.viewTo){var S=Ya(o,s,s,-1);S?(g.view=g.view.slice(0,S.index),g.viewTo=S.lineN):bo(o)}else{var _=Ya(o,s,s,-1),N=Ya(o,d,d+f,1);_&&N?(g.view=g.view.slice(0,_.index).concat(zs(o,_.lineN,N.lineN)).concat(g.view.slice(N.index)),g.viewTo+=f):bo(o)}var R=g.externalMeasured;R&&(d<R.lineN?R.lineN+=f:s<R.lineN+R.size&&(g.externalMeasured=null))}function ea(o,s,d){o.curOp.viewChanged=!0;var f=o.display,g=o.display.externalMeasured;if(g&&s>=g.lineN&&s<g.lineN+g.size&&(f.externalMeasured=null),!(s<f.viewFrom||s>=f.viewTo)){var w=f.view[Qi(o,s)];if(w.node!=null){var S=w.changes||(w.changes=[]);pe(S,d)==-1&&S.push(d)}}}function bo(o){o.display.viewFrom=o.display.viewTo=o.doc.first,o.display.view=[],o.display.viewOffset=0}function Ya(o,s,d,f){var g=Qi(o,s),w,S=o.display.view;if(!Xi||d==o.doc.first+o.doc.size)return{index:g,lineN:d};for(var _=o.display.viewFrom,N=0;N<g;N++)_+=S[N].size;if(_!=s){if(f>0){if(g==S.length-1)return null;w=_+S[g].size-s,g++}else w=_-s;s+=w,d+=w}for(;kc(o.doc,d)!=d;){if(g==(f<0?0:S.length-1))return null;d+=f*S[g-(f<0?1:0)].size,g+=f}return{index:g,lineN:d}}function U0(o,s,d){var f=o.display,g=f.view;g.length==0||s>=f.viewTo||d<=f.viewFrom?(f.view=zs(o,s,d),f.viewFrom=s):(f.viewFrom>s?f.view=zs(o,s,f.viewFrom).concat(f.view):f.viewFrom<s&&(f.view=f.view.slice(Qi(o,s))),f.viewFrom=s,f.viewTo<d?f.view=f.view.concat(zs(o,f.viewTo,d)):f.viewTo>d&&(f.view=f.view.slice(0,Qi(o,d)))),f.viewTo=d}function _g(o){for(var s=o.display.view,d=0,f=0;f<s.length;f++){var g=s[f];!g.hidden&&(!g.node||g.changes)&&++d}return d}function su(o){o.display.input.showSelection(o.display.input.prepareSelection())}function lu(o,s){s===void 0&&(s=!0);var d=o.doc,f={},g=f.cursors=document.createDocumentFragment(),w=f.selection=document.createDocumentFragment(),S=o.options.$customCursor;S&&(s=!0);for(var _=0;_<d.sel.ranges.length;_++)if(!(!s&&_==d.sel.primIndex)){var N=d.sel.ranges[_];if(!(N.from().line>=o.display.viewTo||N.to().line<o.display.viewFrom)){var R=N.empty();if(S){var G=S(o,N);G&&Zi(o,G,g)}else(R||o.options.showCursorWhenSelecting)&&Zi(o,N.head,g);R||Og(o,N,w)}}return f}function Zi(o,s,d){var f=ki(o,s,"div",null,null,!o.options.singleCursorHeightPerLine),g=d.appendChild(Z("div","","CodeMirror-cursor"));if(g.style.left=f.left+"px",g.style.top=f.top+"px",g.style.height=Math.max(0,f.bottom-f.top)*o.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(o.getWrapperElement().className)){var w=Mc(o,s,"div",null,null),S=w.right-w.left;g.style.width=(S>0?S:o.defaultCharWidth())+"px"}if(f.other){var _=d.appendChild(Z("div","","CodeMirror-cursor CodeMirror-secondarycursor"));_.style.display="",_.style.left=f.other.left+"px",_.style.top=f.other.top+"px",_.style.height=(f.other.bottom-f.other.top)*.85+"px"}}function Qa(o,s){return o.top-s.top||o.left-s.left}function Og(o,s,d){var f=o.display,g=o.doc,w=document.createDocumentFragment(),S=Lc(o.display),_=S.left,N=Math.max(f.sizerWidth,Vo(o)-f.sizer.offsetLeft)-S.right,R=g.direction=="ltr";function G(Ge,Ze,at,ot){Ze<0&&(Ze=0),Ze=Math.round(Ze),ot=Math.round(ot),w.appendChild(Z("div",null,"CodeMirror-selected","position: absolute; left: "+Ge+"px;\n                             top: "+Ze+"px; width: "+(at==null?N-Ge:at)+"px;\n                             height: "+(ot-Ze)+"px"))}function Y(Ge,Ze,at){var ot=nt(g,Ge),Tt=ot.text.length,Yt,On;function nn(bn,qn){return Mc(o,Fe(Ge,bn),"div",ot,qn)}function lr(bn,qn,Fn){var en=be(o,ot,null,bn),an=qn=="ltr"==(Fn=="after")?"left":"right",yn=Fn=="after"?en.begin:en.end-(/\s/.test(ot.text.charAt(en.end-1))?2:1);return nn(yn,an)[an]}var ur=ve(ot,g.direction);return k(ur,Ze||0,at==null?Tt:at,function(bn,qn,Fn,en){var an=Fn=="ltr",yn=nn(bn,an?"left":"right"),cr=nn(qn-1,an?"right":"left"),hl=Ze==null&&bn==0,ga=at==null&&qn==Tt,nr=en==0,ro=!ur||en==ur.length-1;if(cr.top-yn.top<=3){var jn=(R?hl:ga)&&nr,uh=(R?ga:hl)&&ro,ko=jn?_:(an?yn:cr).left,us=uh?N:(an?cr:yn).right;G(ko,yn.top,us-ko,yn.bottom)}else{var cs,fr,pl,ff;an?(cs=R&&hl&&nr?_:yn.left,fr=R?N:lr(bn,Fn,"before"),pl=R?_:lr(qn,Fn,"after"),ff=R&&ga&&ro?N:cr.right):(cs=R?lr(bn,Fn,"before"):_,fr=!R&&hl&&nr?N:yn.right,pl=!R&&ga&&ro?_:cr.left,ff=R?lr(qn,Fn,"after"):N),G(cs,yn.top,fr-cs,yn.bottom),yn.bottom<cr.top&&G(_,yn.bottom,null,cr.top),G(pl,cr.top,ff-pl,cr.bottom)}(!Yt||Qa(yn,Yt)<0)&&(Yt=yn),Qa(cr,Yt)<0&&(Yt=cr),(!On||Qa(yn,On)<0)&&(On=yn),Qa(cr,On)<0&&(On=cr)}),{start:Yt,end:On}}var le=s.from(),ae=s.to();if(le.line==ae.line)Y(le.line,le.ch,ae.ch);else{var xe=nt(g,le.line),Pe=nt(g,ae.line),De=Ci(xe)==Ci(Pe),Ke=Y(le.line,le.ch,De?xe.text.length+1:null).end,qe=Y(ae.line,De?0:null,ae.ch).start;De&&(Ke.top<qe.top-2?(G(Ke.right,Ke.top,null,Ke.bottom),G(_,qe.top,qe.left,qe.bottom)):G(Ke.right,Ke.top,qe.left-Ke.right,Ke.bottom)),Ke.bottom<qe.top&&G(_,Ke.bottom,null,qe.top)}d.appendChild(w)}function Ks(o){if(o.state.focused){var s=o.display;clearInterval(s.blinker);var d=!0;s.cursorDiv.style.visibility="",o.options.cursorBlinkRate>0?s.blinker=setInterval(function(){o.hasFocus()||Za(o),s.cursorDiv.style.visibility=(d=!d)?"":"hidden"},o.options.cursorBlinkRate):o.options.cursorBlinkRate<0&&(s.cursorDiv.style.visibility="hidden")}}function Id(o){o.hasFocus()||(o.display.input.focus(),o.state.focused||Gs(o))}function Fc(o){o.state.delayingBlurEvent=!0,setTimeout(function(){o.state.delayingBlurEvent&&(o.state.delayingBlurEvent=!1,o.state.focused&&Za(o))},100)}function Gs(o,s){o.state.delayingBlurEvent&&!o.state.draggingText&&(o.state.delayingBlurEvent=!1),o.options.readOnly!="nocursor"&&(o.state.focused||(Qe(o,"focus",o,s),o.state.focused=!0,Se(o.display.wrapper,"CodeMirror-focused"),!o.curOp&&o.display.selForContextMenu!=o.doc.sel&&(o.display.input.reset(),m&&setTimeout(function(){return o.display.input.reset(!0)},20)),o.display.input.receivedFocus()),Ks(o))}function Za(o,s){o.state.delayingBlurEvent||(o.state.focused&&(Qe(o,"blur",o,s),o.state.focused=!1,we(o.display.wrapper,"CodeMirror-focused")),clearInterval(o.display.blinker),setTimeout(function(){o.state.focused||(o.display.shift=!1)},150))}function ta(o){for(var s=o.display,d=s.lineDiv.offsetTop,f=Math.max(0,s.scroller.getBoundingClientRect().top),g=s.lineDiv.getBoundingClientRect().top,w=0,S=0;S<s.view.length;S++){var _=s.view[S],N=o.options.lineWrapping,R=void 0,G=0;if(!_.hidden){if(g+=_.line.height,p&&v<8){var Y=_.node.offsetTop+_.node.offsetHeight;R=Y-d,d=Y}else{var le=_.node.getBoundingClientRect();R=le.bottom-le.top,!N&&_.text.firstChild&&(G=_.text.firstChild.getBoundingClientRect().right-le.left-1)}var ae=_.line.height-R;if((ae>.005||ae<-.005)&&(g<f&&(w-=ae),Pr(_.line,R),na(_.line),_.rest))for(var xe=0;xe<_.rest.length;xe++)na(_.rest[xe]);if(G>o.display.sizerWidth){var Pe=Math.ceil(G/Us(o.display));Pe>o.display.maxLineLength&&(o.display.maxLineLength=Pe,o.display.maxLine=_.line,o.display.maxLineChanged=!0)}}}Math.abs(w)>2&&(s.scroller.scrollTop+=w)}function na(o){if(o.widgets)for(var s=0;s<o.widgets.length;++s){var d=o.widgets[s],f=d.node.parentNode;f&&(d.height=f.offsetHeight)}}function Ja(o,s,d){var f=d&&d.top!=null?Math.max(0,d.top):o.scroller.scrollTop;f=Math.floor(f-ou(o));var g=d&&d.bottom!=null?d.bottom:f+o.wrapper.clientHeight,w=Ei(s,f),S=Ei(s,g);if(d&&d.ensure){var _=d.ensure.from.line,N=d.ensure.to.line;_<w?(w=_,S=Ei(s,Er(nt(s,_))+o.wrapper.clientHeight)):Math.min(N,s.lastLine())>=S&&(w=Ei(s,Er(nt(s,N))-o.wrapper.clientHeight),S=N)}return{from:w,to:Math.max(S,w+1)}}function W0(o,s){if(!mt(o,"scrollCursorIntoView")){var d=o.display,f=d.sizer.getBoundingClientRect(),g=null;if(s.top+f.top<0?g=!0:s.bottom+f.top>(window.innerHeight||document.documentElement.clientHeight)&&(g=!1),g!=null&&!A){var w=Z("div","",null,"position: absolute;\n                         top: "+(s.top-d.viewOffset-ou(o.display))+"px;\n                         height: "+(s.bottom-s.top+Nr(o)+d.barHeight)+"px;\n                         left: "+s.left+"px; width: "+Math.max(2,s.right-s.left)+"px;");o.display.lineSpace.appendChild(w),w.scrollIntoView(g),o.display.lineSpace.removeChild(w)}}}function K0(o,s,d,f){f==null&&(f=0);var g;!o.options.lineWrapping&&s==d&&(d=s.sticky=="before"?Fe(s.line,s.ch+1,"before"):s,s=s.ch?Fe(s.line,s.sticky=="before"?s.ch-1:s.ch,"after"):s);for(var w=0;w<5;w++){var S=!1,_=ki(o,s),N=!d||d==s?_:ki(o,d);g={left:Math.min(_.left,N.left),top:Math.min(_.top,N.top)-f,right:Math.max(_.left,N.left),bottom:Math.max(_.bottom,N.bottom)+f};var R=qs(o,g),G=o.doc.scrollTop,Y=o.doc.scrollLeft;if(R.scrollTop!=null&&(vn(o,R.scrollTop),Math.abs(o.doc.scrollTop-G)>1&&(S=!0)),R.scrollLeft!=null&&(es(o,R.scrollLeft),Math.abs(o.doc.scrollLeft-Y)>1&&(S=!0)),!S)break}return g}function G0(o,s){var d=qs(o,s);d.scrollTop!=null&&vn(o,d.scrollTop),d.scrollLeft!=null&&es(o,d.scrollLeft)}function qs(o,s){var d=o.display,f=Zo(o.display);s.top<0&&(s.top=0);var g=o.curOp&&o.curOp.scrollTop!=null?o.curOp.scrollTop:d.scroller.scrollTop,w=Pc(o),S={};s.bottom-s.top>w&&(s.bottom=s.top+w);var _=o.doc.height+Sr(d),N=s.top<f,R=s.bottom>_-f;if(s.top<g)S.scrollTop=N?0:s.top;else if(s.bottom>g+w){var G=Math.min(s.top,(R?_:s.bottom)-w);G!=g&&(S.scrollTop=G)}var Y=o.options.fixedGutter?0:d.gutters.offsetWidth,le=o.curOp&&o.curOp.scrollLeft!=null?o.curOp.scrollLeft:d.scroller.scrollLeft-Y,ae=Vo(o)-d.gutters.offsetWidth,xe=s.right-s.left>ae;return xe&&(s.right=s.left+ae),s.left<10?S.scrollLeft=0:s.left<le?S.scrollLeft=Math.max(0,s.left+Y-(xe?0:10)):s.right>ae+le-3&&(S.scrollLeft=s.right+(xe?0:10)-ae),S}function Xs(o,s){s!=null&&(jc(o),o.curOp.scrollTop=(o.curOp.scrollTop==null?o.doc.scrollTop:o.curOp.scrollTop)+s)}function ra(o){jc(o);var s=o.getCursor();o.curOp.scrollToPos={from:s,to:s,margin:o.options.cursorScrollMargin}}function uu(o,s,d){(s!=null||d!=null)&&jc(o),s!=null&&(o.curOp.scrollLeft=s),d!=null&&(o.curOp.scrollTop=d)}function Lg(o,s){jc(o),o.curOp.scrollToPos=s}function jc(o){var s=o.curOp.scrollToPos;if(s){o.curOp.scrollToPos=null;var d=Tg(o,s.from),f=Tg(o,s.to);Pg(o,d,f,s.margin)}}function Pg(o,s,d,f){var g=qs(o,{left:Math.min(s.left,d.left),top:Math.min(s.top,d.top)-f,right:Math.max(s.right,d.right),bottom:Math.max(s.bottom,d.bottom)+f});uu(o,g.scrollLeft,g.scrollTop)}function vn(o,s){Math.abs(o.doc.scrollTop-s)<2||(i||Md(o,{top:s}),Yn(o,s,!0),i&&Md(o),eo(o,100))}function Yn(o,s,d){s=Math.max(0,Math.min(o.display.scroller.scrollHeight-o.display.scroller.clientHeight,s)),!(o.display.scroller.scrollTop==s&&!d)&&(o.doc.scrollTop=s,o.display.scrollbars.setScrollTop(s),o.display.scroller.scrollTop!=s&&(o.display.scroller.scrollTop=s))}function es(o,s,d,f){s=Math.max(0,Math.min(s,o.display.scroller.scrollWidth-o.display.scroller.clientWidth)),!((d?s==o.doc.scrollLeft:Math.abs(o.doc.scrollLeft-s)<2)&&!f)&&(o.doc.scrollLeft=s,Ag(o),o.display.scroller.scrollLeft!=s&&(o.display.scroller.scrollLeft=s),o.display.scrollbars.setScrollLeft(s))}function cu(o){var s=o.display,d=s.gutters.offsetWidth,f=Math.round(o.doc.height+Sr(o.display));return{clientHeight:s.scroller.clientHeight,viewHeight:s.wrapper.clientHeight,scrollWidth:s.scroller.scrollWidth,clientWidth:s.scroller.clientWidth,viewWidth:s.wrapper.clientWidth,barLeft:o.options.fixedGutter?d:0,docHeight:f,scrollHeight:f+Nr(o)+s.barHeight,nativeBarWidth:s.nativeBarWidth,gutterWidth:d}}var ia=function(o,s,d){this.cm=d;var f=this.vert=Z("div",[Z("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),g=this.horiz=Z("div",[Z("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");f.tabIndex=g.tabIndex=-1,o(f),o(g),Be(f,"scroll",function(){f.clientHeight&&s(f.scrollTop,"vertical")}),Be(g,"scroll",function(){g.clientWidth&&s(g.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,p&&v<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};ia.prototype.update=function(o){var s=o.scrollWidth>o.clientWidth+1,d=o.scrollHeight>o.clientHeight+1,f=o.nativeBarWidth;if(d){this.vert.style.display="block",this.vert.style.bottom=s?f+"px":"0";var g=o.viewHeight-(s?f:0);this.vert.firstChild.style.height=Math.max(0,o.scrollHeight-o.clientHeight+g)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(s){this.horiz.style.display="block",this.horiz.style.right=d?f+"px":"0",this.horiz.style.left=o.barLeft+"px";var w=o.viewWidth-o.barLeft-(d?f:0);this.horiz.firstChild.style.width=Math.max(0,o.scrollWidth-o.clientWidth+w)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&o.clientHeight>0&&(f==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:d?f:0,bottom:s?f:0}},ia.prototype.setScrollLeft=function(o){this.horiz.scrollLeft!=o&&(this.horiz.scrollLeft=o),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},ia.prototype.setScrollTop=function(o){this.vert.scrollTop!=o&&(this.vert.scrollTop=o),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},ia.prototype.zeroWidthHack=function(){var o=$&&!j?"12px":"18px";this.horiz.style.height=this.vert.style.width=o,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new se,this.disableVert=new se},ia.prototype.enableZeroWidthBar=function(o,s,d){o.style.pointerEvents="auto";function f(){var g=o.getBoundingClientRect(),w=d=="vert"?document.elementFromPoint(g.right-1,(g.top+g.bottom)/2):document.elementFromPoint((g.right+g.left)/2,g.bottom-1);w!=o?o.style.pointerEvents="none":s.set(1e3,f)}s.set(1e3,f)},ia.prototype.clear=function(){var o=this.horiz.parentNode;o.removeChild(this.horiz),o.removeChild(this.vert)};var fu=function(){};fu.prototype.update=function(){return{bottom:0,right:0}},fu.prototype.setScrollLeft=function(){},fu.prototype.setScrollTop=function(){},fu.prototype.clear=function(){};function oa(o,s){s||(s=cu(o));var d=o.display.barWidth,f=o.display.barHeight;Vs(o,s);for(var g=0;g<4&&d!=o.display.barWidth||f!=o.display.barHeight;g++)d!=o.display.barWidth&&o.options.lineWrapping&&ta(o),Vs(o,cu(o)),d=o.display.barWidth,f=o.display.barHeight}function Vs(o,s){var d=o.display,f=d.scrollbars.update(s);d.sizer.style.paddingRight=(d.barWidth=f.right)+"px",d.sizer.style.paddingBottom=(d.barHeight=f.bottom)+"px",d.heightForcer.style.borderBottom=f.bottom+"px solid transparent",f.right&&f.bottom?(d.scrollbarFiller.style.display="block",d.scrollbarFiller.style.height=f.bottom+"px",d.scrollbarFiller.style.width=f.right+"px"):d.scrollbarFiller.style.display="",f.bottom&&o.options.coverGutterNextToScrollbar&&o.options.fixedGutter?(d.gutterFiller.style.display="block",d.gutterFiller.style.height=f.bottom+"px",d.gutterFiller.style.width=s.gutterWidth+"px"):d.gutterFiller.style.display=""}var $c={native:ia,null:fu};function ts(o){o.display.scrollbars&&(o.display.scrollbars.clear(),o.display.scrollbars.addClass&&we(o.display.wrapper,o.display.scrollbars.addClass)),o.display.scrollbars=new $c[o.options.scrollbarStyle](function(s){o.display.wrapper.insertBefore(s,o.display.scrollbarFiller),Be(s,"mousedown",function(){o.state.focused&&setTimeout(function(){return o.display.input.focus()},0)}),s.setAttribute("cm-not-content","true")},function(s,d){d=="horizontal"?es(o,s):vn(o,s)},o),o.display.scrollbars.addClass&&Se(o.display.wrapper,o.display.scrollbars.addClass)}var du=0;function _i(o){o.curOp={cm:o,viewChanged:!1,startHeight:o.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++du,markArrays:null},Xo(o.curOp)}function Ji(o){var s=o.curOp;s&&$0(s,function(d){for(var f=0;f<d.ops.length;f++)d.ops[f].cm.curOp=null;Ys(d)})}function Ys(o){for(var s=o.ops,d=0;d<s.length;d++)q0(s[d]);for(var f=0;f<s.length;f++)X0(s[f]);for(var g=0;g<s.length;g++)V0(s[g]);for(var w=0;w<s.length;w++)Y0(s[w]);for(var S=0;S<s.length;S++)Q0(s[S])}function q0(o){var s=o.cm,d=s.display;Dt(s),o.updateMaxLine&&ru(s),o.mustUpdate=o.viewChanged||o.forceUpdate||o.scrollTop!=null||o.scrollToPos&&(o.scrollToPos.from.line<d.viewFrom||o.scrollToPos.to.line>=d.viewTo)||d.maxLineChanged&&s.options.lineWrapping,o.update=o.mustUpdate&&new Cr(s,o.mustUpdate&&{top:o.scrollTop,ensure:o.scrollToPos},o.forceUpdate)}function X0(o){o.updatedDisplay=o.mustUpdate&&Rd(o.cm,o.update)}function V0(o){var s=o.cm,d=s.display;o.updatedDisplay&&ta(s),o.barMeasure=cu(s),d.maxLineChanged&&!s.options.lineWrapping&&(o.adjustWidthTo=wg(s,d.maxLine,d.maxLine.text.length).left+3,s.display.sizerWidth=o.adjustWidthTo,o.barMeasure.scrollWidth=Math.max(d.scroller.clientWidth,d.sizer.offsetLeft+o.adjustWidthTo+Nr(s)+s.display.barWidth),o.maxScrollLeft=Math.max(0,d.sizer.offsetLeft+o.adjustWidthTo-Vo(s))),(o.updatedDisplay||o.selectionChanged)&&(o.preparedSelection=d.input.prepareSelection())}function Y0(o){var s=o.cm;o.adjustWidthTo!=null&&(s.display.sizer.style.minWidth=o.adjustWidthTo+"px",o.maxScrollLeft<s.doc.scrollLeft&&es(s,Math.min(s.display.scroller.scrollLeft,o.maxScrollLeft),!0),s.display.maxLineChanged=!1);var d=o.focus&&o.focus==_e();o.preparedSelection&&s.display.input.showSelection(o.preparedSelection,d),(o.updatedDisplay||o.startHeight!=s.doc.height)&&oa(s,o.barMeasure),o.updatedDisplay&&jd(s,o.barMeasure),o.selectionChanged&&Ks(s),s.state.focused&&o.updateInput&&s.display.input.reset(o.typing),d&&Id(o.cm)}function Q0(o){var s=o.cm,d=s.display,f=s.doc;if(o.updatedDisplay&&aa(s,o.update),d.wheelStartX!=null&&(o.scrollTop!=null||o.scrollLeft!=null||o.scrollToPos)&&(d.wheelStartX=d.wheelStartY=null),o.scrollTop!=null&&Yn(s,o.scrollTop,o.forceScroll),o.scrollLeft!=null&&es(s,o.scrollLeft,!0,!0),o.scrollToPos){var g=K0(s,Ve(f,o.scrollToPos.from),Ve(f,o.scrollToPos.to),o.scrollToPos.margin);W0(s,g)}var w=o.maybeHiddenMarkers,S=o.maybeUnhiddenMarkers;if(w)for(var _=0;_<w.length;++_)w[_].lines.length||Qe(w[_],"hide");if(S)for(var N=0;N<S.length;++N)S[N].lines.length&&Qe(S[N],"unhide");d.wrapper.offsetHeight&&(f.scrollTop=s.display.scroller.scrollTop),o.changeObjs&&Qe(s,"changes",s,o.changeObjs),o.update&&o.update.finish()}function Qn(o,s){if(o.curOp)return s();_i(o);try{return s()}finally{Ji(o)}}function mn(o,s){return function(){if(o.curOp)return s.apply(o,arguments);_i(o);try{return s.apply(o,arguments)}finally{Ji(o)}}}function Zn(o){return function(){if(this.curOp)return o.apply(this,arguments);_i(this);try{return o.apply(this,arguments)}finally{Ji(this)}}}function H(o){return function(){var s=this.cm;if(!s||s.curOp)return o.apply(this,arguments);_i(s);try{return o.apply(this,arguments)}finally{Ji(s)}}}function eo(o,s){o.doc.highlightFrontier<o.display.viewTo&&o.state.highlight.set(s,ce(Dc,o))}function Dc(o){var s=o.doc;if(!(s.highlightFrontier>=o.display.viewTo)){var d=+new Date+o.options.workTime,f=Bs(o,s.highlightFrontier),g=[];s.iter(f.line,Math.min(s.first+s.size,o.display.viewTo+500),function(w){if(f.line>=o.display.viewFrom){var S=w.styles,_=w.text.length>o.options.maxHighlightLength?Wr(s.mode,f.state):null,N=tg(o,w,f,!0);_&&(f.state=_),w.styles=N.styles;var R=w.styleClasses,G=N.classes;G?w.styleClasses=G:R&&(w.styleClasses=null);for(var Y=!S||S.length!=w.styles.length||R!=G&&(!R||!G||R.bgClass!=G.bgClass||R.textClass!=G.textClass),le=0;!Y&&le<S.length;++le)Y=S[le]!=w.styles[le];Y&&g.push(f.line),w.stateAfter=f.save(),f.nextLine()}else w.text.length<=o.options.maxHighlightLength&&Jl(o,w.text,f),w.stateAfter=f.line%5==0?f.save():null,f.nextLine();if(+new Date>d)return eo(o,o.options.workDelay),!0}),s.highlightFrontier=f.line,s.modeFrontier=Math.max(s.modeFrontier,f.line),g.length&&Qn(o,function(){for(var w=0;w<g.length;w++)ea(o,g[w],"text")})}}var Cr=function(o,s,d){var f=o.display;this.viewport=s,this.visible=Ja(f,o.doc,s),this.editorIsHidden=!f.wrapper.offsetWidth,this.wrapperHeight=f.wrapper.clientHeight,this.wrapperWidth=f.wrapper.clientWidth,this.oldDisplayWidth=Vo(o),this.force=d,this.dims=Ir(o),this.events=[]};Cr.prototype.signal=function(o,s){Hn(o,s)&&this.events.push(arguments)},Cr.prototype.finish=function(){for(var o=0;o<this.events.length;o++)Qe.apply(null,this.events[o])};function Dt(o){var s=o.display;!s.scrollbarsClipped&&s.scroller.offsetWidth&&(s.nativeBarWidth=s.scroller.offsetWidth-s.scroller.clientWidth,s.heightForcer.style.height=Nr(o)+"px",s.sizer.style.marginBottom=-s.nativeBarWidth+"px",s.sizer.style.borderRightWidth=Nr(o)+"px",s.scrollbarsClipped=!0)}function Z0(o){if(o.hasFocus())return null;var s=_e();if(!s||!Ne(o.display.lineDiv,s))return null;var d={activeElt:s};if(window.getSelection){var f=window.getSelection();f.anchorNode&&f.extend&&Ne(o.display.lineDiv,f.anchorNode)&&(d.anchorNode=f.anchorNode,d.anchorOffset=f.anchorOffset,d.focusNode=f.focusNode,d.focusOffset=f.focusOffset)}return d}function J0(o){if(!(!o||!o.activeElt||o.activeElt==_e())&&(o.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(o.activeElt.nodeName)&&o.anchorNode&&Ne(document.body,o.anchorNode)&&Ne(document.body,o.focusNode))){var s=window.getSelection(),d=document.createRange();d.setEnd(o.anchorNode,o.anchorOffset),d.collapse(!1),s.removeAllRanges(),s.addRange(d),s.extend(o.focusNode,o.focusOffset)}}function Rd(o,s){var d=o.display,f=o.doc;if(s.editorIsHidden)return bo(o),!1;if(!s.force&&s.visible.from>=d.viewFrom&&s.visible.to<=d.viewTo&&(d.updateLineNumbers==null||d.updateLineNumbers>=d.viewTo)&&d.renderedView==d.view&&_g(o)==0)return!1;to(o)&&(bo(o),s.dims=Ir(o));var g=f.first+f.size,w=Math.max(s.visible.from-o.options.viewportMargin,f.first),S=Math.min(g,s.visible.to+o.options.viewportMargin);d.viewFrom<w&&w-d.viewFrom<20&&(w=Math.max(f.first,d.viewFrom)),d.viewTo>S&&d.viewTo-S<20&&(S=Math.min(g,d.viewTo)),Xi&&(w=kc(o.doc,w),S=fg(o.doc,S));var _=w!=d.viewFrom||S!=d.viewTo||d.lastWrapHeight!=s.wrapperHeight||d.lastWrapWidth!=s.wrapperWidth;U0(o,w,S),d.viewOffset=Er(nt(o.doc,d.viewFrom)),o.display.mover.style.top=d.viewOffset+"px";var N=_g(o);if(!_&&N==0&&!s.force&&d.renderedView==d.view&&(d.updateLineNumbers==null||d.updateLineNumbers>=d.viewTo))return!1;var R=Z0(o);return N>4&&(d.lineDiv.style.display="none"),ew(o,d.updateLineNumbers,s.dims),N>4&&(d.lineDiv.style.display=""),d.renderedView=d.view,J0(R),ze(d.cursorDiv),ze(d.selectionDiv),d.gutters.style.height=d.sizer.style.minHeight=0,_&&(d.lastWrapHeight=s.wrapperHeight,d.lastWrapWidth=s.wrapperWidth,eo(o,400)),d.updateLineNumbers=null,!0}function aa(o,s){for(var d=s.viewport,f=!0;;f=!1){if(!f||!o.options.lineWrapping||s.oldDisplayWidth==Vo(o)){if(d&&d.top!=null&&(d={top:Math.min(o.doc.height+Sr(o.display)-Pc(o),d.top)}),s.visible=Ja(o.display,o.doc,d),s.visible.from>=o.display.viewFrom&&s.visible.to<=o.display.viewTo)break}else f&&(s.visible=Ja(o.display,o.doc,d));if(!Rd(o,s))break;ta(o);var g=cu(o);su(o),oa(o,g),jd(o,g),s.force=!1}s.signal(o,"update",o),(o.display.viewFrom!=o.display.reportedViewFrom||o.display.viewTo!=o.display.reportedViewTo)&&(s.signal(o,"viewportChange",o,o.display.viewFrom,o.display.viewTo),o.display.reportedViewFrom=o.display.viewFrom,o.display.reportedViewTo=o.display.viewTo)}function Md(o,s){var d=new Cr(o,s);if(Rd(o,d)){ta(o),aa(o,d);var f=cu(o);su(o),oa(o,f),jd(o,f),d.finish()}}function ew(o,s,d){var f=o.display,g=o.options.lineNumbers,w=f.lineDiv,S=w.firstChild;function _(xe){var Pe=xe.nextSibling;return m&&$&&o.display.currentWheelTarget==xe?xe.style.display="none":xe.parentNode.removeChild(xe),Pe}for(var N=f.view,R=f.viewFrom,G=0;G<N.length;G++){var Y=N[G];if(!Y.hidden)if(!Y.node||Y.node.parentNode!=w){var le=Ld(o,Y,R,d);w.insertBefore(le,S)}else{for(;S!=Y.node;)S=_(S);var ae=g&&s!=null&&s<=R&&Y.lineNumber;Y.changes&&(pe(Y.changes,"gutter")>-1&&(ae=!1),vg(o,Y,R,d)),ae&&(ze(Y.lineNumber),Y.lineNumber.appendChild(document.createTextNode(Ds(o.options,R)))),S=Y.node.nextSibling}R+=Y.size}for(;S;)S=_(S)}function Fd(o){var s=o.gutters.offsetWidth;o.sizer.style.marginLeft=s+"px",Rn(o,"gutterChanged",o)}function jd(o,s){o.display.sizer.style.minHeight=s.docHeight+"px",o.display.heightForcer.style.top=s.docHeight+"px",o.display.gutters.style.height=s.docHeight+o.display.barHeight+Nr(o)+"px"}function Ag(o){var s=o.display,d=s.view;if(!(!s.alignWidgets&&(!s.gutters.firstChild||!o.options.fixedGutter))){for(var f=Ws(s)-s.scroller.scrollLeft+o.doc.scrollLeft,g=s.gutters.offsetWidth,w=f+"px",S=0;S<d.length;S++)if(!d[S].hidden){o.options.fixedGutter&&(d[S].gutter&&(d[S].gutter.style.left=w),d[S].gutterBackground&&(d[S].gutterBackground.style.left=w));var _=d[S].alignable;if(_)for(var N=0;N<_.length;N++)_[N].style.left=w}o.options.fixedGutter&&(s.gutters.style.left=f+g+"px")}}function to(o){if(!o.options.lineNumbers)return!1;var s=o.doc,d=Ds(o.options,s.first+s.size-1),f=o.display;if(d.length!=f.lineNumChars){var g=f.measure.appendChild(Z("div",[Z("div",d)],"CodeMirror-linenumber CodeMirror-gutter-elt")),w=g.firstChild.offsetWidth,S=g.offsetWidth-w;return f.lineGutter.style.width="",f.lineNumInnerWidth=Math.max(w,f.lineGutter.offsetWidth-S)+1,f.lineNumWidth=f.lineNumInnerWidth+S,f.lineNumChars=f.lineNumInnerWidth?d.length:-1,f.lineGutter.style.width=f.lineNumWidth+"px",Fd(o.display),!0}return!1}function $d(o,s){for(var d=[],f=!1,g=0;g<o.length;g++){var w=o[g],S=null;if(typeof w!="string"&&(S=w.style,w=w.className),w=="CodeMirror-linenumbers")if(s)f=!0;else continue;d.push({className:w,style:S})}return s&&!f&&d.push({className:"CodeMirror-linenumbers",style:null}),d}function Ng(o){var s=o.gutters,d=o.gutterSpecs;ze(s),o.lineGutter=null;for(var f=0;f<d.length;++f){var g=d[f],w=g.className,S=g.style,_=s.appendChild(Z("div",null,"CodeMirror-gutter "+w));S&&(_.style.cssText=S),w=="CodeMirror-linenumbers"&&(o.lineGutter=_,_.style.width=(o.lineNumWidth||1)+"px")}s.style.display=d.length?"":"none",Fd(o)}function hu(o){Ng(o.display),bt(o),Ag(o)}function tw(o,s,d,f){var g=this;this.input=d,g.scrollbarFiller=Z("div",null,"CodeMirror-scrollbar-filler"),g.scrollbarFiller.setAttribute("cm-not-content","true"),g.gutterFiller=Z("div",null,"CodeMirror-gutter-filler"),g.gutterFiller.setAttribute("cm-not-content","true"),g.lineDiv=q("div",null,"CodeMirror-code"),g.selectionDiv=Z("div",null,null,"position: relative; z-index: 1"),g.cursorDiv=Z("div",null,"CodeMirror-cursors"),g.measure=Z("div",null,"CodeMirror-measure"),g.lineMeasure=Z("div",null,"CodeMirror-measure"),g.lineSpace=q("div",[g.measure,g.lineMeasure,g.selectionDiv,g.cursorDiv,g.lineDiv],null,"position: relative; outline: none");var w=q("div",[g.lineSpace],"CodeMirror-lines");g.mover=Z("div",[w],null,"position: relative"),g.sizer=Z("div",[g.mover],"CodeMirror-sizer"),g.sizerWidth=null,g.heightForcer=Z("div",null,null,"position: absolute; height: "+Ce+"px; width: 1px;"),g.gutters=Z("div",null,"CodeMirror-gutters"),g.lineGutter=null,g.scroller=Z("div",[g.sizer,g.heightForcer,g.gutters],"CodeMirror-scroll"),g.scroller.setAttribute("tabIndex","-1"),g.wrapper=Z("div",[g.scrollbarFiller,g.gutterFiller,g.scroller],"CodeMirror"),g.wrapper.setAttribute("translate","no"),p&&v<8&&(g.gutters.style.zIndex=-1,g.scroller.style.paddingRight=0),!m&&!(i&&z)&&(g.scroller.draggable=!0),o&&(o.appendChild?o.appendChild(g.wrapper):o(g.wrapper)),g.viewFrom=g.viewTo=s.first,g.reportedViewFrom=g.reportedViewTo=s.first,g.view=[],g.renderedView=null,g.externalMeasured=null,g.viewOffset=0,g.lastWrapHeight=g.lastWrapWidth=0,g.updateLineNumbers=null,g.nativeBarWidth=g.barHeight=g.barWidth=0,g.scrollbarsClipped=!1,g.lineNumWidth=g.lineNumInnerWidth=g.lineNumChars=null,g.alignWidgets=!1,g.cachedCharWidth=g.cachedTextHeight=g.cachedPaddingH=null,g.maxLine=null,g.maxLineLength=0,g.maxLineChanged=!1,g.wheelDX=g.wheelDY=g.wheelStartX=g.wheelStartY=null,g.shift=!1,g.selForContextMenu=null,g.activeTouch=null,g.gutterSpecs=$d(f.gutters,f.lineNumbers),Ng(g),d.init(g)}var Bc=0,Jn=null;p?Jn=-.53:i?Jn=15:E?Jn=-.7:I&&(Jn=-1/3);function Ig(o){var s=o.wheelDeltaX,d=o.wheelDeltaY;return s==null&&o.detail&&o.axis==o.HORIZONTAL_AXIS&&(s=o.detail),d==null&&o.detail&&o.axis==o.VERTICAL_AXIS?d=o.detail:d==null&&(d=o.wheelDelta),{x:s,y:d}}function nw(o){var s=Ig(o);return s.x*=Jn,s.y*=Jn,s}function Rg(o,s){var d=Ig(s),f=d.x,g=d.y,w=Jn;s.deltaMode===0&&(f=s.deltaX,g=s.deltaY,w=1);var S=o.display,_=S.scroller,N=_.scrollWidth>_.clientWidth,R=_.scrollHeight>_.clientHeight;if(f&&N||g&&R){if(g&&$&&m){e:for(var G=s.target,Y=S.view;G!=_;G=G.parentNode)for(var le=0;le<Y.length;le++)if(Y[le].node==G){o.display.currentWheelTarget=G;break e}}if(f&&!i&&!C&&w!=null){g&&R&&vn(o,Math.max(0,_.scrollTop+g*w)),es(o,Math.max(0,_.scrollLeft+f*w)),(!g||g&&R)&&Un(s),S.wheelStartX=null;return}if(g&&w!=null){var ae=g*w,xe=o.doc.scrollTop,Pe=xe+S.wrapper.clientHeight;ae<0?xe=Math.max(0,xe+ae-50):Pe=Math.min(o.doc.height,Pe+ae+50),Md(o,{top:xe,bottom:Pe})}Bc<20&&s.deltaMode!==0&&(S.wheelStartX==null?(S.wheelStartX=_.scrollLeft,S.wheelStartY=_.scrollTop,S.wheelDX=f,S.wheelDY=g,setTimeout(function(){if(S.wheelStartX!=null){var De=_.scrollLeft-S.wheelStartX,Ke=_.scrollTop-S.wheelStartY,qe=Ke&&S.wheelDY&&Ke/S.wheelDY||De&&S.wheelDX&&De/S.wheelDX;S.wheelStartX=S.wheelStartY=null,qe&&(Jn=(Jn*Bc+qe)/(Bc+1),++Bc)}},200)):(S.wheelDX+=f,S.wheelDY+=g))}}var qr=function(o,s){this.ranges=o,this.primIndex=s};qr.prototype.primary=function(){return this.ranges[this.primIndex]},qr.prototype.equals=function(o){if(o==this)return!0;if(o.primIndex!=this.primIndex||o.ranges.length!=this.ranges.length)return!1;for(var s=0;s<this.ranges.length;s++){var d=this.ranges[s],f=o.ranges[s];if(!Q(d.anchor,f.anchor)||!Q(d.head,f.head))return!1}return!0},qr.prototype.deepCopy=function(){for(var o=[],s=0;s<this.ranges.length;s++)o[s]=new Gt(ke(this.ranges[s].anchor),ke(this.ranges[s].head));return new qr(o,this.primIndex)},qr.prototype.somethingSelected=function(){for(var o=0;o<this.ranges.length;o++)if(!this.ranges[o].empty())return!0;return!1},qr.prototype.contains=function(o,s){s||(s=o);for(var d=0;d<this.ranges.length;d++){var f=this.ranges[d];if(F(s,f.from())>=0&&F(o,f.to())<=0)return d}return-1};var Gt=function(o,s){this.anchor=o,this.head=s};Gt.prototype.from=function(){return gt(this.anchor,this.head)},Gt.prototype.to=function(){return je(this.anchor,this.head)},Gt.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function er(o,s,d){var f=o&&o.options.selectionsMayTouch,g=s[d];s.sort(function(le,ae){return F(le.from(),ae.from())}),d=pe(s,g);for(var w=1;w<s.length;w++){var S=s[w],_=s[w-1],N=F(_.to(),S.from());if(f&&!S.empty()?N>0:N>=0){var R=gt(_.from(),S.from()),G=je(_.to(),S.to()),Y=_.empty()?S.from()==S.head:_.from()==_.head;w<=d&&--d,s.splice(--w,2,new Gt(Y?G:R,Y?R:G))}}return new qr(s,d)}function sa(o,s){return new qr([new Gt(o,s||o)],0)}function la(o){return o.text?Fe(o.from.line+o.text.length-1,rt(o.text).length+(o.text.length==1?o.from.ch:0)):o.to}function oi(o,s){if(F(o,s.from)<0)return o;if(F(o,s.to)<=0)return la(s);var d=o.line+s.text.length-(s.to.line-s.from.line)-1,f=o.ch;return o.line==s.to.line&&(f+=la(s).ch-s.to.ch),Fe(d,f)}function Dd(o,s){for(var d=[],f=0;f<o.sel.ranges.length;f++){var g=o.sel.ranges[f];d.push(new Gt(oi(g.anchor,s),oi(g.head,s)))}return er(o.cm,d,o.sel.primIndex)}function Mg(o,s,d){return o.line==s.line?Fe(d.line,o.ch-s.ch+d.ch):Fe(d.line+(o.line-s.line),o.ch)}function rw(o,s,d){for(var f=[],g=Fe(o.first,0),w=g,S=0;S<s.length;S++){var _=s[S],N=Mg(_.from,g,w),R=Mg(la(_),g,w);if(g=_.to,w=R,d=="around"){var G=o.sel.ranges[S],Y=F(G.head,G.anchor)<0;f[S]=new Gt(Y?R:N,Y?N:R)}else f[S]=new Gt(N,N)}return new qr(f,o.sel.primIndex)}function Bd(o){o.doc.mode=$s(o.options,o.doc.modeOption),pu(o)}function pu(o){o.doc.iter(function(s){s.stateAfter&&(s.stateAfter=null),s.styles&&(s.styles=null)}),o.doc.modeFrontier=o.doc.highlightFrontier=o.doc.first,eo(o,100),o.state.modeGen++,o.curOp&&bt(o)}function zd(o,s){return s.from.ch==0&&s.to.ch==0&&rt(s.text)==""&&(!o.cm||o.cm.options.wholeLineUpdateBefore)}function zc(o,s,d,f){function g(qe){return d?d[qe]:null}function w(qe,Ge,Ze){dg(qe,Ge,Ze,f),Rn(qe,"change",qe,s)}function S(qe,Ge){for(var Ze=[],at=qe;at<Ge;++at)Ze.push(new Vn(R[at],g(at),f));return Ze}var _=s.from,N=s.to,R=s.text,G=nt(o,_.line),Y=nt(o,N.line),le=rt(R),ae=g(R.length-1),xe=N.line-_.line;if(s.full)o.insert(0,S(0,R.length)),o.remove(R.length,o.size-R.length);else if(zd(o,s)){var Pe=S(0,R.length-1);w(Y,Y.text,ae),xe&&o.remove(_.line,xe),Pe.length&&o.insert(_.line,Pe)}else if(G==Y)if(R.length==1)w(G,G.text.slice(0,_.ch)+le+G.text.slice(N.ch),ae);else{var De=S(1,R.length-1);De.push(new Vn(le+G.text.slice(N.ch),ae,f)),w(G,G.text.slice(0,_.ch)+R[0],g(0)),o.insert(_.line+1,De)}else if(R.length==1)w(G,G.text.slice(0,_.ch)+R[0]+Y.text.slice(N.ch),g(0)),o.remove(_.line+1,xe);else{w(G,G.text.slice(0,_.ch)+R[0],g(0)),w(Y,le+Y.text.slice(N.ch),ae);var Ke=S(1,R.length-1);xe>1&&o.remove(_.line+1,xe-1),o.insert(_.line+1,Ke)}Rn(o,"change",o,s)}function ua(o,s,d){function f(g,w,S){if(g.linked)for(var _=0;_<g.linked.length;++_){var N=g.linked[_];if(N.doc!=w){var R=S&&N.sharedHist;d&&!R||(s(N.doc,R),f(N.doc,g,R))}}}f(o,null,!0)}function Fg(o,s){if(s.cm)throw new Error("This document is already in use.");o.doc=s,s.cm=o,Jo(o),Bd(o),Hc(o),o.options.direction=s.direction,o.options.lineWrapping||ru(o),o.options.mode=s.modeOption,bt(o)}function Hc(o){(o.doc.direction=="rtl"?Se:we)(o.display.lineDiv,"CodeMirror-rtl")}function gu(o){Qn(o,function(){Hc(o),bt(o)})}function ns(o){this.done=[],this.undone=[],this.undoDepth=o?o.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=o?o.maxGeneration:1}function Hd(o,s){var d={from:ke(s.from),to:la(s),text:Kr(o,s.from,s.to)};return jg(o,d,s.from.line,s.to.line+1),ua(o,function(f){return jg(f,d,s.from.line,s.to.line+1)},!0),d}function Ud(o){for(;o.length;){var s=rt(o);if(s.ranges)o.pop();else break}}function iw(o,s){if(s)return Ud(o.done),rt(o.done);if(o.done.length&&!rt(o.done).ranges)return rt(o.done);if(o.done.length>1&&!o.done[o.done.length-2].ranges)return o.done.pop(),rt(o.done)}function no(o,s,d,f){var g=o.history;g.undone.length=0;var w=+new Date,S,_;if((g.lastOp==f||g.lastOrigin==s.origin&&s.origin&&(s.origin.charAt(0)=="+"&&g.lastModTime>w-(o.cm?o.cm.options.historyEventDelay:500)||s.origin.charAt(0)=="*"))&&(S=iw(g,g.lastOp==f)))_=rt(S.changes),F(s.from,s.to)==0&&F(s.from,_.to)==0?_.to=la(s):S.changes.push(Hd(o,s));else{var N=rt(g.done);for((!N||!N.ranges)&&Tr(o.sel,g.done),S={changes:[Hd(o,s)],generation:g.generation},g.done.push(S);g.done.length>g.undoDepth;)g.done.shift(),g.done[0].ranges||g.done.shift()}g.done.push(d),g.generation=++g.maxGeneration,g.lastModTime=g.lastSelTime=w,g.lastOp=g.lastSelOp=f,g.lastOrigin=g.lastSelOrigin=s.origin,_||Qe(o,"historyAdded")}function Wd(o,s,d,f){var g=s.charAt(0);return g=="*"||g=="+"&&d.ranges.length==f.ranges.length&&d.somethingSelected()==f.somethingSelected()&&new Date-o.history.lastSelTime<=(o.cm?o.cm.options.historyEventDelay:500)}function rs(o,s,d,f){var g=o.history,w=f&&f.origin;d==g.lastSelOp||w&&g.lastSelOrigin==w&&(g.lastModTime==g.lastSelTime&&g.lastOrigin==w||Wd(o,w,rt(g.done),s))?g.done[g.done.length-1]=s:Tr(s,g.done),g.lastSelTime=+new Date,g.lastSelOrigin=w,g.lastSelOp=d,f&&f.clearRedo!==!1&&Ud(g.undone)}function Tr(o,s){var d=rt(s);d&&d.ranges&&d.equals(o)||s.push(o)}function jg(o,s,d,f){var g=s["spans_"+o.id],w=0;o.iter(Math.max(o.first,d),Math.min(o.first+o.size,f),function(S){S.markedSpans&&((g||(g=s["spans_"+o.id]={}))[w]=S.markedSpans),++w})}function $g(o){if(!o)return null;for(var s,d=0;d<o.length;++d)o[d].marker.explicitlyCleared?s||(s=o.slice(0,d)):s&&s.push(o[d]);return s?s.length?s:null:o}function Dg(o,s){var d=s["spans_"+o.id];if(!d)return null;for(var f=[],g=0;g<s.text.length;++g)f.push($g(d[g]));return f}function Qs(o,s){var d=Dg(o,s),f=xd(o,s);if(!d)return f;if(!f)return d;for(var g=0;g<d.length;++g){var w=d[g],S=f[g];if(w&&S)e:for(var _=0;_<S.length;++_){for(var N=S[_],R=0;R<w.length;++R)if(w[R].marker==N.marker)continue e;w.push(N)}else S&&(d[g]=S)}return d}function Xr(o,s,d){for(var f=[],g=0;g<o.length;++g){var w=o[g];if(w.ranges){f.push(d?qr.prototype.deepCopy.call(w):w);continue}var S=w.changes,_=[];f.push({changes:_});for(var N=0;N<S.length;++N){var R=S[N],G=void 0;if(_.push({from:R.from,to:R.to,text:R.text}),s)for(var Y in R)(G=Y.match(/^spans_(\d+)$/))&&pe(s,Number(G[1]))>-1&&(rt(_)[Y]=R[Y],delete R[Y])}}return f}function Uc(o,s,d,f){if(f){var g=o.anchor;if(d){var w=F(s,g)<0;w!=F(d,g)<0?(g=s,s=d):w!=F(s,d)<0&&(s=d)}return new Gt(g,s)}else return new Gt(d||s,s)}function Wc(o,s,d,f,g){g==null&&(g=o.cm&&(o.cm.display.shift||o.extend)),Wn(o,new qr([Uc(o.sel.primary(),s,d,g)],0),f)}function vu(o,s,d){for(var f=[],g=o.cm&&(o.cm.display.shift||o.extend),w=0;w<o.sel.ranges.length;w++)f[w]=Uc(o.sel.ranges[w],s[w],null,g);var S=er(o.cm,f,o.sel.primIndex);Wn(o,S,d)}function Kd(o,s,d,f){var g=o.sel.ranges.slice(0);g[s]=d,Wn(o,er(o.cm,g,o.sel.primIndex),f)}function Gd(o,s,d,f){Wn(o,sa(s,d),f)}function tr(o,s,d){var f={ranges:s.ranges,update:function(g){this.ranges=[];for(var w=0;w<g.length;w++)this.ranges[w]=new Gt(Ve(o,g[w].anchor),Ve(o,g[w].head))},origin:d&&d.origin};return Qe(o,"beforeSelectionChange",o,f),o.cm&&Qe(o.cm,"beforeSelectionChange",o.cm,f),f.ranges!=s.ranges?er(o.cm,f.ranges,f.ranges.length-1):s}function Kc(o,s,d){var f=o.history.done,g=rt(f);g&&g.ranges?(f[f.length-1]=s,Vr(o,s,d)):Wn(o,s,d)}function Wn(o,s,d){Vr(o,s,d),rs(o,o.sel,o.cm?o.cm.curOp.id:NaN,d)}function Vr(o,s,d){(Hn(o,"beforeSelectionChange")||o.cm&&Hn(o.cm,"beforeSelectionChange"))&&(s=tr(o,s,d));var f=d&&d.bias||(F(s.primary().head,o.sel.primary().head)<0?-1:1);Gc(o,ca(o,s,f,!0)),!(d&&d.scroll===!1)&&o.cm&&o.cm.getOption("readOnly")!="nocursor"&&ra(o.cm)}function Gc(o,s){s.equals(o.sel)||(o.sel=s,o.cm&&(o.cm.curOp.updateInput=1,o.cm.curOp.selectionChanged=!0,Fs(o.cm)),Rn(o,"cursorActivity",o))}function mu(o){Gc(o,ca(o,o.sel,null,!1))}function ca(o,s,d,f){for(var g,w=0;w<s.ranges.length;w++){var S=s.ranges[w],_=s.ranges.length==o.sel.ranges.length&&o.sel.ranges[w],N=Kn(o,S.anchor,_&&_.anchor,d,f),R=Kn(o,S.head,_&&_.head,d,f);(g||N!=S.anchor||R!=S.head)&&(g||(g=s.ranges.slice(0,w)),g[w]=new Gt(N,R))}return g?er(o.cm,g,s.primIndex):s}function is(o,s,d,f,g){var w=nt(o,s.line);if(w.markedSpans)for(var S=0;S<w.markedSpans.length;++S){var _=w.markedSpans[S],N=_.marker,R="selectLeft"in N?!N.selectLeft:N.inclusiveLeft,G="selectRight"in N?!N.selectRight:N.inclusiveRight;if((_.from==null||(R?_.from<=s.ch:_.from<s.ch))&&(_.to==null||(G?_.to>=s.ch:_.to>s.ch))){if(g&&(Qe(N,"beforeCursorEnter"),N.explicitlyCleared))if(w.markedSpans){--S;continue}else break;if(!N.atomic)continue;if(d){var Y=N.find(f<0?1:-1),le=void 0;if((f<0?G:R)&&(Y=qc(o,Y,-f,Y&&Y.line==s.line?w:null)),Y&&Y.line==s.line&&(le=F(Y,d))&&(f<0?le<0:le>0))return is(o,Y,s,f,g)}var ae=N.find(f<0?-1:1);return(f<0?R:G)&&(ae=qc(o,ae,f,ae.line==s.line?w:null)),ae?is(o,ae,s,f,g):null}}return s}function Kn(o,s,d,f,g){var w=f||1,S=is(o,s,d,w,g)||!g&&is(o,s,d,w,!0)||is(o,s,d,-w,g)||!g&&is(o,s,d,-w,!0);return S||(o.cantEdit=!0,Fe(o.first,0))}function qc(o,s,d,f){return d<0&&s.ch==0?s.line>o.first?Ve(o,Fe(s.line-1)):null:d>0&&s.ch==(f||nt(o,s.line)).text.length?s.line<o.first+o.size-1?Fe(s.line+1,0):null:new Fe(s.line,s.ch+d)}function Bg(o){o.setSelection(Fe(o.firstLine(),0),Fe(o.lastLine()),He)}function zg(o,s,d){var f={canceled:!1,from:s.from,to:s.to,text:s.text,origin:s.origin,cancel:function(){return f.canceled=!0}};return d&&(f.update=function(g,w,S,_){g&&(f.from=Ve(o,g)),w&&(f.to=Ve(o,w)),S&&(f.text=S),_!==void 0&&(f.origin=_)}),Qe(o,"beforeChange",o,f),o.cm&&Qe(o.cm,"beforeChange",o.cm,f),f.canceled?(o.cm&&(o.cm.curOp.updateInput=2),null):{from:f.from,to:f.to,text:f.text,origin:f.origin}}function Zs(o,s,d){if(o.cm){if(!o.cm.curOp)return mn(o.cm,Zs)(o,s,d);if(o.cm.state.suppressEdits)return}if(!((Hn(o,"beforeChange")||o.cm&&Hn(o.cm,"beforeChange"))&&(s=zg(o,s,!0),!s))){var f=wd&&!d&&bd(o,s.from,s.to);if(f)for(var g=f.length-1;g>=0;--g)Xc(o,{from:f[g].from,to:f[g].to,text:g?[""]:s.text,origin:s.origin});else Xc(o,s)}}function Xc(o,s){if(!(s.text.length==1&&s.text[0]==""&&F(s.from,s.to)==0)){var d=Dd(o,s);no(o,s,d,o.cm?o.cm.curOp.id:NaN),el(o,s,d,xd(o,s));var f=[];ua(o,function(g,w){!w&&pe(f,g.history)==-1&&(Ug(g.history,s),f.push(g.history)),el(g,s,null,xd(g,s))})}}function Vc(o,s,d){var f=o.cm&&o.cm.state.suppressEdits;if(!(f&&!d)){for(var g=o.history,w,S=o.sel,_=s=="undo"?g.done:g.undone,N=s=="undo"?g.undone:g.done,R=0;R<_.length&&(w=_[R],!(d?w.ranges&&!w.equals(o.sel):!w.ranges));R++);if(R!=_.length){for(g.lastOrigin=g.lastSelOrigin=null;;)if(w=_.pop(),w.ranges){if(Tr(w,N),d&&!w.equals(o.sel)){Wn(o,w,{clearRedo:!1});return}S=w}else if(f){_.push(w);return}else break;var G=[];Tr(S,N),N.push({changes:G,generation:g.generation}),g.generation=w.generation||++g.maxGeneration;for(var Y=Hn(o,"beforeChange")||o.cm&&Hn(o.cm,"beforeChange"),le=function(Pe){var De=w.changes[Pe];if(De.origin=s,Y&&!zg(o,De,!1))return _.length=0,{};G.push(Hd(o,De));var Ke=Pe?Dd(o,De):rt(_);el(o,De,Ke,Qs(o,De)),!Pe&&o.cm&&o.cm.scrollIntoView({from:De.from,to:la(De)});var qe=[];ua(o,function(Ge,Ze){!Ze&&pe(qe,Ge.history)==-1&&(Ug(Ge.history,De),qe.push(Ge.history)),el(Ge,De,null,Qs(Ge,De))})},ae=w.changes.length-1;ae>=0;--ae){var xe=le(ae);if(xe)return xe.v}}}}function Js(o,s){if(s!=0&&(o.first+=s,o.sel=new qr(pt(o.sel.ranges,function(g){return new Gt(Fe(g.anchor.line+s,g.anchor.ch),Fe(g.head.line+s,g.head.ch))}),o.sel.primIndex),o.cm)){bt(o.cm,o.first,o.first-s,s);for(var d=o.cm.display,f=d.viewFrom;f<d.viewTo;f++)ea(o.cm,f,"gutter")}}function el(o,s,d,f){if(o.cm&&!o.cm.curOp)return mn(o.cm,el)(o,s,d,f);if(s.to.line<o.first){Js(o,s.text.length-1-(s.to.line-s.from.line));return}if(!(s.from.line>o.lastLine())){if(s.from.line<o.first){var g=s.text.length-1-(o.first-s.from.line);Js(o,g),s={from:Fe(o.first,0),to:Fe(s.to.line+g,s.to.ch),text:[rt(s.text)],origin:s.origin}}var w=o.lastLine();s.to.line>w&&(s={from:s.from,to:Fe(w,nt(o,w).text.length),text:[s.text[0]],origin:s.origin}),s.removed=Kr(o,s.from,s.to),d||(d=Dd(o,s)),o.cm?ow(o.cm,s,f):zc(o,s,f),Vr(o,d,He),o.cantEdit&&Kn(o,Fe(o.firstLine(),0))&&(o.cantEdit=!1)}}function ow(o,s,d){var f=o.doc,g=o.display,w=s.from,S=s.to,_=!1,N=w.line;o.options.lineWrapping||(N=Kt(Ci(nt(f,w.line))),f.iter(N,S.line+1,function(ae){if(ae==g.maxLine)return _=!0,!0})),f.sel.contains(s.from,s.to)>-1&&Fs(o),zc(f,s,d,kg(o)),o.options.lineWrapping||(f.iter(N,w.line+s.text.length,function(ae){var xe=nu(ae);xe>g.maxLineLength&&(g.maxLine=ae,g.maxLineLength=xe,g.maxLineChanged=!0,_=!1)}),_&&(o.curOp.updateMaxLine=!0)),L0(f,w.line),eo(o,400);var R=s.text.length-(S.line-w.line)-1;s.full?bt(o):w.line==S.line&&s.text.length==1&&!zd(o.doc,s)?ea(o,w.line,"text"):bt(o,w.line,S.line+1,R);var G=Hn(o,"changes"),Y=Hn(o,"change");if(Y||G){var le={from:w,to:S,text:s.text,removed:s.removed,origin:s.origin};Y&&Rn(o,"change",o,le),G&&(o.curOp.changeObjs||(o.curOp.changeObjs=[])).push(le)}o.display.selForContextMenu=null}function tl(o,s,d,f,g){var w;f||(f=d),F(f,d)<0&&(w=[f,d],d=w[0],f=w[1]),typeof s=="string"&&(s=o.splitLines(s)),Zs(o,{from:d,to:f,text:s,origin:g})}function nl(o,s,d,f){d<o.line?o.line+=f:s<o.line&&(o.line=s,o.ch=0)}function Hg(o,s,d,f){for(var g=0;g<o.length;++g){var w=o[g],S=!0;if(w.ranges){w.copied||(w=o[g]=w.deepCopy(),w.copied=!0);for(var _=0;_<w.ranges.length;_++)nl(w.ranges[_].anchor,s,d,f),nl(w.ranges[_].head,s,d,f);continue}for(var N=0;N<w.changes.length;++N){var R=w.changes[N];if(d<R.from.line)R.from=Fe(R.from.line+f,R.from.ch),R.to=Fe(R.to.line+f,R.to.ch);else if(s<=R.to.line){S=!1;break}}S||(o.splice(0,g+1),g=0)}}function Ug(o,s){var d=s.from.line,f=s.to.line,g=s.text.length-(f-d)-1;Hg(o.done,d,f,g),Hg(o.undone,d,f,g)}function os(o,s,d,f){var g=s,w=s;return typeof s=="number"?w=nt(o,Ft(o,s)):g=Kt(s),g==null?null:(f(w,g)&&o.cm&&ea(o.cm,g,d),w)}function rl(o){this.lines=o,this.parent=null;for(var s=0,d=0;d<o.length;++d)o[d].parent=this,s+=o[d].height;this.height=s}rl.prototype={chunkSize:function(){return this.lines.length},removeInner:function(o,s){for(var d=o,f=o+s;d<f;++d){var g=this.lines[d];this.height-=g.height,hg(g),Rn(g,"delete")}this.lines.splice(o,s)},collapse:function(o){o.push.apply(o,this.lines)},insertInner:function(o,s,d){this.height+=d,this.lines=this.lines.slice(0,o).concat(s).concat(this.lines.slice(o));for(var f=0;f<s.length;++f)s[f].parent=this},iterN:function(o,s,d){for(var f=o+s;o<f;++o)if(d(this.lines[o]))return!0}};function yu(o){this.children=o;for(var s=0,d=0,f=0;f<o.length;++f){var g=o[f];s+=g.chunkSize(),d+=g.height,g.parent=this}this.size=s,this.height=d,this.parent=null}yu.prototype={chunkSize:function(){return this.size},removeInner:function(o,s){this.size-=s;for(var d=0;d<this.children.length;++d){var f=this.children[d],g=f.chunkSize();if(o<g){var w=Math.min(s,g-o),S=f.height;if(f.removeInner(o,w),this.height-=S-f.height,g==w&&(this.children.splice(d--,1),f.parent=null),(s-=w)==0)break;o=0}else o-=g}if(this.size-s<25&&(this.children.length>1||!(this.children[0]instanceof rl))){var _=[];this.collapse(_),this.children=[new rl(_)],this.children[0].parent=this}},collapse:function(o){for(var s=0;s<this.children.length;++s)this.children[s].collapse(o)},insertInner:function(o,s,d){this.size+=s.length,this.height+=d;for(var f=0;f<this.children.length;++f){var g=this.children[f],w=g.chunkSize();if(o<=w){if(g.insertInner(o,s,d),g.lines&&g.lines.length>50){for(var S=g.lines.length%25+25,_=S;_<g.lines.length;){var N=new rl(g.lines.slice(_,_+=25));g.height-=N.height,this.children.splice(++f,0,N),N.parent=this}g.lines=g.lines.slice(0,S),this.maybeSpill()}break}o-=w}},maybeSpill:function(){if(!(this.children.length<=10)){var o=this;do{var s=o.children.splice(o.children.length-5,5),d=new yu(s);if(o.parent){o.size-=d.size,o.height-=d.height;var g=pe(o.parent.children,o);o.parent.children.splice(g+1,0,d)}else{var f=new yu(o.children);f.parent=o,o.children=[f,d],o=f}d.parent=o.parent}while(o.children.length>10);o.parent.maybeSpill()}},iterN:function(o,s,d){for(var f=0;f<this.children.length;++f){var g=this.children[f],w=g.chunkSize();if(o<w){var S=Math.min(s,w-o);if(g.iterN(o,S,d))return!0;if((s-=S)==0)break;o=0}else o-=w}}};var wu=function(o,s,d){if(d)for(var f in d)d.hasOwnProperty(f)&&(this[f]=d[f]);this.doc=o,this.node=s};wu.prototype.clear=function(){var o=this.doc.cm,s=this.line.widgets,d=this.line,f=Kt(d);if(!(f==null||!s)){for(var g=0;g<s.length;++g)s[g]==this&&s.splice(g--,1);s.length||(d.widgets=null);var w=Xa(this);Pr(d,Math.max(0,d.height-w)),o&&(Qn(o,function(){Wg(o,d,-w),ea(o,f,"widget")}),Rn(o,"lineWidgetCleared",o,this,f))}},wu.prototype.changed=function(){var o=this,s=this.height,d=this.doc.cm,f=this.line;this.height=null;var g=Xa(this)-s;g&&(dn(this.doc,f)||Pr(f,f.height+g),d&&Qn(d,function(){d.curOp.forceUpdate=!0,Wg(d,f,g),Rn(d,"lineWidgetChanged",d,o,Kt(f))}))},wi(wu);function Wg(o,s,d){Er(s)<(o.curOp&&o.curOp.scrollTop||o.doc.scrollTop)&&Xs(o,d)}function Kg(o,s,d,f){var g=new wu(o,d,f),w=o.cm;return w&&g.noHScroll&&(w.display.alignWidgets=!0),os(o,s,"widget",function(S){var _=S.widgets||(S.widgets=[]);if(g.insertAt==null?_.push(g):_.splice(Math.min(_.length,Math.max(0,g.insertAt)),0,g),g.line=S,w&&!dn(o,S)){var N=Er(S)<o.scrollTop;Pr(S,S.height+Xa(g)),N&&Xs(w,g.height),w.curOp.forceUpdate=!0}return!0}),w&&Rn(w,"lineWidgetAdded",w,g,typeof s=="number"?s:Kt(s)),g}var Yc=0,fa=function(o,s){this.lines=[],this.type=s,this.doc=o,this.id=++Yc};fa.prototype.clear=function(){if(!this.explicitlyCleared){var o=this.doc.cm,s=o&&!o.curOp;if(s&&_i(o),Hn(this,"clear")){var d=this.find();d&&Rn(this,"clear",d.from,d.to)}for(var f=null,g=null,w=0;w<this.lines.length;++w){var S=this.lines[w],_=eu(S.markedSpans,this);o&&!this.collapsed?ea(o,Kt(S),"text"):o&&(_.to!=null&&(g=Kt(S)),_.from!=null&&(f=Kt(S))),S.markedSpans=P0(S.markedSpans,_),_.from==null&&this.collapsed&&!dn(this.doc,S)&&o&&Pr(S,Zo(o.display))}if(o&&this.collapsed&&!o.options.lineWrapping)for(var N=0;N<this.lines.length;++N){var R=Ci(this.lines[N]),G=nu(R);G>o.display.maxLineLength&&(o.display.maxLine=R,o.display.maxLineLength=G,o.display.maxLineChanged=!0)}f!=null&&o&&this.collapsed&&bt(o,f,g+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,o&&mu(o.doc)),o&&Rn(o,"markerCleared",o,this,f,g),s&&Ji(o),this.parent&&this.parent.clear()}},fa.prototype.find=function(o,s){o==null&&this.type=="bookmark"&&(o=1);for(var d,f,g=0;g<this.lines.length;++g){var w=this.lines[g],S=eu(w.markedSpans,this);if(S.from!=null&&(d=Fe(s?w:Kt(w),S.from),o==-1))return d;if(S.to!=null&&(f=Fe(s?w:Kt(w),S.to),o==1))return f}return d&&{from:d,to:f}},fa.prototype.changed=function(){var o=this,s=this.find(-1,!0),d=this,f=this.doc.cm;!s||!f||Qn(f,function(){var g=s.line,w=Kt(s.line),S=Nd(f,w);if(S&&(Eg(S),f.curOp.selectionChanged=f.curOp.forceUpdate=!0),f.curOp.updateMaxLine=!0,!dn(d.doc,g)&&d.height!=null){var _=d.height;d.height=null;var N=Xa(d)-_;N&&Pr(g,g.height+N)}Rn(f,"markerChanged",f,o)})},fa.prototype.attachLine=function(o){if(!this.lines.length&&this.doc.cm){var s=this.doc.cm.curOp;(!s.maybeHiddenMarkers||pe(s.maybeHiddenMarkers,this)==-1)&&(s.maybeUnhiddenMarkers||(s.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(o)},fa.prototype.detachLine=function(o){if(this.lines.splice(pe(this.lines,o),1),!this.lines.length&&this.doc.cm){var s=this.doc.cm.curOp;(s.maybeHiddenMarkers||(s.maybeHiddenMarkers=[])).push(this)}},wi(fa);function da(o,s,d,f,g){if(f&&f.shared)return Gg(o,s,d,f,g);if(o.cm&&!o.cm.curOp)return mn(o.cm,da)(o,s,d,f,g);var w=new fa(o,g),S=F(s,d);if(f&&ye(f,w,!1),S>0||S==0&&w.clearWhenEmpty!==!1)return w;if(w.replacedWith&&(w.collapsed=!0,w.widgetNode=q("span",[w.replacedWith],"CodeMirror-widget"),f.handleMouseEvents||w.widgetNode.setAttribute("cm-ignore-events","true"),f.insertLeft&&(w.widgetNode.insertLeft=!0)),w.collapsed){if(cg(o,s.line,s,d,w)||s.line!=d.line&&cg(o,d.line,s,d,w))throw new Error("Inserting collapsed marker partially overlapping an existing one");og()}w.addToHistory&&no(o,{from:s,to:d,origin:"markText"},o.sel,NaN);var _=s.line,N=o.cm,R;if(o.iter(_,d.line+1,function(Y){N&&w.collapsed&&!N.options.lineWrapping&&Ci(Y)==N.display.maxLine&&(R=!0),w.collapsed&&_!=s.line&&Pr(Y,0),ag(Y,new Ec(w,_==s.line?s.ch:null,_==d.line?d.ch:null),o.cm&&o.cm.curOp),++_}),w.collapsed&&o.iter(s.line,d.line+1,function(Y){dn(o,Y)&&Pr(Y,0)}),w.clearOnEnter&&Be(w,"beforeCursorEnter",function(){return w.clear()}),w.readOnly&&(ig(),(o.history.done.length||o.history.undone.length)&&o.clearHistory()),w.collapsed&&(w.id=++Yc,w.atomic=!0),N){if(R&&(N.curOp.updateMaxLine=!0),w.collapsed)bt(N,s.line,d.line+1);else if(w.className||w.startStyle||w.endStyle||w.css||w.attributes||w.title)for(var G=s.line;G<=d.line;G++)ea(N,G,"text");w.atomic&&mu(N.doc),Rn(N,"markerAdded",N,w)}return w}var il=function(o,s){this.markers=o,this.primary=s;for(var d=0;d<o.length;++d)o[d].parent=this};il.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var o=0;o<this.markers.length;++o)this.markers[o].clear();Rn(this,"clear")}},il.prototype.find=function(o,s){return this.primary.find(o,s)},wi(il);function Gg(o,s,d,f,g){f=ye(f),f.shared=!1;var w=[da(o,s,d,f,g)],S=w[0],_=f.widgetNode;return ua(o,function(N){_&&(f.widgetNode=_.cloneNode(!0)),w.push(da(N,Ve(N,s),Ve(N,d),f,g));for(var R=0;R<N.linked.length;++R)if(N.linked[R].isParent)return;S=rt(w)}),new il(w,S)}function qd(o){return o.findMarks(Fe(o.first,0),o.clipPos(Fe(o.lastLine())),function(s){return s.parent})}function Qc(o,s){for(var d=0;d<s.length;d++){var f=s[d],g=f.find(),w=o.clipPos(g.from),S=o.clipPos(g.to);if(F(w,S)){var _=da(o,w,S,f.primary,f.primary.type);f.markers.push(_),_.parent=f}}}function aw(o){for(var s=function(f){var g=o[f],w=[g.primary.doc];ua(g.primary.doc,function(N){return w.push(N)});for(var S=0;S<g.markers.length;S++){var _=g.markers[S];pe(w,_.doc)==-1&&(_.parent=null,g.markers.splice(S--,1))}},d=0;d<o.length;d++)s(d)}var qg=0,or=function(o,s,d,f,g){if(!(this instanceof or))return new or(o,s,d,f,g);d==null&&(d=0),yu.call(this,[new rl([new Vn("",null)])]),this.first=d,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=d;var w=Fe(d,0);this.sel=sa(w),this.history=new ns(null),this.id=++qg,this.modeOption=s,this.lineSep=f,this.direction=g=="rtl"?"rtl":"ltr",this.extend=!1,typeof o=="string"&&(o=this.splitLines(o)),zc(this,{from:w,to:w,text:o}),Wn(this,sa(w),He)};or.prototype=$t(yu.prototype,{constructor:or,iter:function(o,s,d){d?this.iterN(o-this.first,s-o,d):this.iterN(this.first,this.first+this.size,o)},insert:function(o,s){for(var d=0,f=0;f<s.length;++f)d+=s[f].height;this.insertInner(o-this.first,s,d)},remove:function(o,s){this.removeInner(o-this.first,s)},getValue:function(o){var s=Zl(this,this.first,this.first+this.size);return o===!1?s:s.join(o||this.lineSeparator())},setValue:H(function(o){var s=Fe(this.first,0),d=this.first+this.size-1;Zs(this,{from:s,to:Fe(d,nt(this,d).text.length),text:this.splitLines(o),origin:"setValue",full:!0},!0),this.cm&&uu(this.cm,0,0),Wn(this,sa(s),He)}),replaceRange:function(o,s,d,f){s=Ve(this,s),d=d?Ve(this,d):s,tl(this,o,s,d,f)},getRange:function(o,s,d){var f=Kr(this,Ve(this,o),Ve(this,s));return d===!1?f:d===""?f.join(""):f.join(d||this.lineSeparator())},getLine:function(o){var s=this.getLineHandle(o);return s&&s.text},getLineHandle:function(o){if(Go(this,o))return nt(this,o)},getLineNumber:function(o){return Kt(o)},getLineHandleVisualStart:function(o){return typeof o=="number"&&(o=nt(this,o)),Ci(o)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(o){return Ve(this,o)},getCursor:function(o){var s=this.sel.primary(),d;return o==null||o=="head"?d=s.head:o=="anchor"?d=s.anchor:o=="end"||o=="to"||o===!1?d=s.to():d=s.from(),d},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:H(function(o,s,d){Gd(this,Ve(this,typeof o=="number"?Fe(o,s||0):o),null,d)}),setSelection:H(function(o,s,d){Gd(this,Ve(this,o),Ve(this,s||o),d)}),extendSelection:H(function(o,s,d){Wc(this,Ve(this,o),s&&Ve(this,s),d)}),extendSelections:H(function(o,s){vu(this,Ar(this,o),s)}),extendSelectionsBy:H(function(o,s){var d=pt(this.sel.ranges,o);vu(this,Ar(this,d),s)}),setSelections:H(function(o,s,d){if(o.length){for(var f=[],g=0;g<o.length;g++)f[g]=new Gt(Ve(this,o[g].anchor),Ve(this,o[g].head||o[g].anchor));s==null&&(s=Math.min(o.length-1,this.sel.primIndex)),Wn(this,er(this.cm,f,s),d)}}),addSelection:H(function(o,s,d){var f=this.sel.ranges.slice(0);f.push(new Gt(Ve(this,o),Ve(this,s||o))),Wn(this,er(this.cm,f,f.length-1),d)}),getSelection:function(o){for(var s=this.sel.ranges,d,f=0;f<s.length;f++){var g=Kr(this,s[f].from(),s[f].to());d=d?d.concat(g):g}return o===!1?d:d.join(o||this.lineSeparator())},getSelections:function(o){for(var s=[],d=this.sel.ranges,f=0;f<d.length;f++){var g=Kr(this,d[f].from(),d[f].to());o!==!1&&(g=g.join(o||this.lineSeparator())),s[f]=g}return s},replaceSelection:function(o,s,d){for(var f=[],g=0;g<this.sel.ranges.length;g++)f[g]=o;this.replaceSelections(f,s,d||"+input")},replaceSelections:H(function(o,s,d){for(var f=[],g=this.sel,w=0;w<g.ranges.length;w++){var S=g.ranges[w];f[w]={from:S.from(),to:S.to(),text:this.splitLines(o[w]),origin:d}}for(var _=s&&s!="end"&&rw(this,f,s),N=f.length-1;N>=0;N--)Zs(this,f[N]);_?Kc(this,_):this.cm&&ra(this.cm)}),undo:H(function(){Vc(this,"undo")}),redo:H(function(){Vc(this,"redo")}),undoSelection:H(function(){Vc(this,"undo",!0)}),redoSelection:H(function(){Vc(this,"redo",!0)}),setExtending:function(o){this.extend=o},getExtending:function(){return this.extend},historySize:function(){for(var o=this.history,s=0,d=0,f=0;f<o.done.length;f++)o.done[f].ranges||++s;for(var g=0;g<o.undone.length;g++)o.undone[g].ranges||++d;return{undo:s,redo:d}},clearHistory:function(){var o=this;this.history=new ns(this.history),ua(this,function(s){return s.history=o.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(o){return o&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(o){return this.history.generation==(o||this.cleanGeneration)},getHistory:function(){return{done:Xr(this.history.done),undone:Xr(this.history.undone)}},setHistory:function(o){var s=this.history=new ns(this.history);s.done=Xr(o.done.slice(0),null,!0),s.undone=Xr(o.undone.slice(0),null,!0)},setGutterMarker:H(function(o,s,d){return os(this,o,"gutter",function(f){var g=f.gutterMarkers||(f.gutterMarkers={});return g[s]=d,!d&&Ee(g)&&(f.gutterMarkers=null),!0})}),clearGutter:H(function(o){var s=this;this.iter(function(d){d.gutterMarkers&&d.gutterMarkers[o]&&os(s,d,"gutter",function(){return d.gutterMarkers[o]=null,Ee(d.gutterMarkers)&&(d.gutterMarkers=null),!0})})}),lineInfo:function(o){var s;if(typeof o=="number"){if(!Go(this,o)||(s=o,o=nt(this,o),!o))return null}else if(s=Kt(o),s==null)return null;return{line:s,handle:o,text:o.text,gutterMarkers:o.gutterMarkers,textClass:o.textClass,bgClass:o.bgClass,wrapClass:o.wrapClass,widgets:o.widgets}},addLineClass:H(function(o,s,d){return os(this,o,s=="gutter"?"gutter":"class",function(f){var g=s=="text"?"textClass":s=="background"?"bgClass":s=="gutter"?"gutterClass":"wrapClass";if(!f[g])f[g]=d;else{if(me(d).test(f[g]))return!1;f[g]+=" "+d}return!0})}),removeLineClass:H(function(o,s,d){return os(this,o,s=="gutter"?"gutter":"class",function(f){var g=s=="text"?"textClass":s=="background"?"bgClass":s=="gutter"?"gutterClass":"wrapClass",w=f[g];if(w)if(d==null)f[g]=null;else{var S=w.match(me(d));if(!S)return!1;var _=S.index+S[0].length;f[g]=w.slice(0,S.index)+(!S.index||_==w.length?"":" ")+w.slice(_)||null}else return!1;return!0})}),addLineWidget:H(function(o,s,d){return Kg(this,o,s,d)}),removeLineWidget:function(o){o.clear()},markText:function(o,s,d){return da(this,Ve(this,o),Ve(this,s),d,d&&d.type||"range")},setBookmark:function(o,s){var d={replacedWith:s&&(s.nodeType==null?s.widget:s),insertLeft:s&&s.insertLeft,clearWhenEmpty:!1,shared:s&&s.shared,handleMouseEvents:s&&s.handleMouseEvents};return o=Ve(this,o),da(this,o,o,d,"bookmark")},findMarksAt:function(o){o=Ve(this,o);var s=[],d=nt(this,o.line).markedSpans;if(d)for(var f=0;f<d.length;++f){var g=d[f];(g.from==null||g.from<=o.ch)&&(g.to==null||g.to>=o.ch)&&s.push(g.marker.parent||g.marker)}return s},findMarks:function(o,s,d){o=Ve(this,o),s=Ve(this,s);var f=[],g=o.line;return this.iter(o.line,s.line+1,function(w){var S=w.markedSpans;if(S)for(var _=0;_<S.length;_++){var N=S[_];!(N.to!=null&&g==o.line&&o.ch>=N.to||N.from==null&&g!=o.line||N.from!=null&&g==s.line&&N.from>=s.ch)&&(!d||d(N.marker))&&f.push(N.marker.parent||N.marker)}++g}),f},getAllMarks:function(){var o=[];return this.iter(function(s){var d=s.markedSpans;if(d)for(var f=0;f<d.length;++f)d[f].from!=null&&o.push(d[f].marker)}),o},posFromIndex:function(o){var s,d=this.first,f=this.lineSeparator().length;return this.iter(function(g){var w=g.text.length+f;if(w>o)return s=o,!0;o-=w,++d}),Ve(this,Fe(d,s))},indexFromPos:function(o){o=Ve(this,o);var s=o.ch;if(o.line<this.first||o.ch<0)return 0;var d=this.lineSeparator().length;return this.iter(this.first,o.line,function(f){s+=f.text.length+d}),s},copy:function(o){var s=new or(Zl(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return s.scrollTop=this.scrollTop,s.scrollLeft=this.scrollLeft,s.sel=this.sel,s.extend=!1,o&&(s.history.undoDepth=this.history.undoDepth,s.setHistory(this.getHistory())),s},linkedDoc:function(o){o||(o={});var s=this.first,d=this.first+this.size;o.from!=null&&o.from>s&&(s=o.from),o.to!=null&&o.to<d&&(d=o.to);var f=new or(Zl(this,s,d),o.mode||this.modeOption,s,this.lineSep,this.direction);return o.sharedHist&&(f.history=this.history),(this.linked||(this.linked=[])).push({doc:f,sharedHist:o.sharedHist}),f.linked=[{doc:this,isParent:!0,sharedHist:o.sharedHist}],Qc(f,qd(this)),f},unlinkDoc:function(o){if(o instanceof tn&&(o=o.doc),this.linked)for(var s=0;s<this.linked.length;++s){var d=this.linked[s];if(d.doc==o){this.linked.splice(s,1),o.unlinkDoc(this),aw(qd(this));break}}if(o.history==this.history){var f=[o.id];ua(o,function(g){return f.push(g.id)},!0),o.history=new ns(null),o.history.done=Xr(this.history.done,f),o.history.undone=Xr(this.history.undone,f)}},iterLinkedDocs:function(o){ua(this,o)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(o){return this.lineSep?o.split(this.lineSep):Ua(o)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:H(function(o){o!="rtl"&&(o="ltr"),o!=this.direction&&(this.direction=o,this.iter(function(s){return s.order=null}),this.cm&&gu(this.cm))})}),or.prototype.eachLine=or.prototype.iter;var Xg=0;function Vg(o){var s=this;if(Vd(s),!(mt(s,o)||xo(s.display,o))){Un(o),p&&(Xg=+new Date);var d=Yi(s,o,!0),f=o.dataTransfer.files;if(!(!d||s.isReadOnly()))if(f&&f.length&&window.FileReader&&window.File)for(var g=f.length,w=Array(g),S=0,_=function(){++S==g&&mn(s,function(){d=Ve(s.doc,d);var ae={from:d,to:d,text:s.doc.splitLines(w.filter(function(xe){return xe!=null}).join(s.doc.lineSeparator())),origin:"paste"};Zs(s.doc,ae),Kc(s.doc,sa(Ve(s.doc,d),Ve(s.doc,la(ae))))})()},N=function(ae,xe){if(s.options.allowDropFileTypes&&pe(s.options.allowDropFileTypes,ae.type)==-1){_();return}var Pe=new FileReader;Pe.onerror=function(){return _()},Pe.onload=function(){var De=Pe.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(De)){_();return}w[xe]=De,_()},Pe.readAsText(ae)},R=0;R<f.length;R++)N(f[R],R);else{if(s.state.draggingText&&s.doc.sel.contains(d)>-1){s.state.draggingText(o),setTimeout(function(){return s.display.input.focus()},20);return}try{var G=o.dataTransfer.getData("Text");if(G){var Y;if(s.state.draggingText&&!s.state.draggingText.copy&&(Y=s.listSelections()),Vr(s.doc,sa(d,d)),Y)for(var le=0;le<Y.length;++le)tl(s.doc,"",Y[le].anchor,Y[le].head,"drag");s.replaceSelection(G,"around","paste"),s.display.input.focus()}}catch{}}}}function sw(o,s){if(p&&(!o.state.draggingText||+new Date-Xg<100)){za(s);return}if(!(mt(o,s)||xo(o.display,s))&&(s.dataTransfer.setData("Text",o.getSelection()),s.dataTransfer.effectAllowed="copyMove",s.dataTransfer.setDragImage&&!I)){var d=Z("img",null,null,"position: fixed; left: 0; top: 0;");d.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",C&&(d.width=d.height=1,o.display.wrapper.appendChild(d),d._top=d.offsetTop),s.dataTransfer.setDragImage(d,0,0),C&&d.parentNode.removeChild(d)}}function Xd(o,s){var d=Yi(o,s);if(d){var f=document.createDocumentFragment();Zi(o,d,f),o.display.dragCursor||(o.display.dragCursor=Z("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),o.display.lineSpace.insertBefore(o.display.dragCursor,o.display.cursorDiv)),J(o.display.dragCursor,f)}}function Vd(o){o.display.dragCursor&&(o.display.lineSpace.removeChild(o.display.dragCursor),o.display.dragCursor=null)}function Zc(o){if(document.getElementsByClassName){for(var s=document.getElementsByClassName("CodeMirror"),d=[],f=0;f<s.length;f++){var g=s[f].CodeMirror;g&&d.push(g)}d.length&&d[0].operation(function(){for(var w=0;w<d.length;w++)o(d[w])})}}var Yg=!1;function Yd(){Yg||(At(),Yg=!0)}function At(){var o;Be(window,"resize",function(){o==null&&(o=setTimeout(function(){o=null,Zc(lw)},100))}),Be(window,"blur",function(){return Zc(Za)})}function lw(o){var s=o.display;s.cachedCharWidth=s.cachedTextHeight=s.cachedPaddingH=null,s.scrollbarsClipped=!1,o.setSize()}for(var ha={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Eo=0;Eo<10;Eo++)ha[Eo+48]=ha[Eo+96]=String(Eo);for(var xu=65;xu<=90;xu++)ha[xu]=String.fromCharCode(xu);for(var bu=1;bu<=12;bu++)ha[bu+111]=ha[bu+63235]="F"+bu;var So={};So.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},So.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},So.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},So.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},So.default=$?So.macDefault:So.pcDefault;function ai(o){var s=o.split(/-(?!$)/);o=s[s.length-1];for(var d,f,g,w,S=0;S<s.length-1;S++){var _=s[S];if(/^(cmd|meta|m)$/i.test(_))w=!0;else if(/^a(lt)?$/i.test(_))d=!0;else if(/^(c|ctrl|control)$/i.test(_))f=!0;else if(/^s(hift)?$/i.test(_))g=!0;else throw new Error("Unrecognized modifier name: "+_)}return d&&(o="Alt-"+o),f&&(o="Ctrl-"+o),w&&(o="Cmd-"+o),g&&(o="Shift-"+o),o}function uw(o){var s={};for(var d in o)if(o.hasOwnProperty(d)){var f=o[d];if(/^(name|fallthrough|(de|at)tach)$/.test(d))continue;if(f=="..."){delete o[d];continue}for(var g=pt(d.split(" "),ai),w=0;w<g.length;w++){var S=void 0,_=void 0;w==g.length-1?(_=g.join(" "),S=f):(_=g.slice(0,w+1).join(" "),S="...");var N=s[_];if(!N)s[_]=S;else if(N!=S)throw new Error("Inconsistent bindings for "+_)}delete o[d]}for(var R in s)o[R]=s[R];return o}function Co(o,s,d,f){s=ar(s);var g=s.call?s.call(o,f):s[o];if(g===!1)return"nothing";if(g==="...")return"multi";if(g!=null&&d(g))return"handled";if(s.fallthrough){if(Object.prototype.toString.call(s.fallthrough)!="[object Array]")return Co(o,s.fallthrough,d,f);for(var w=0;w<s.fallthrough.length;w++){var S=Co(o,s.fallthrough[w],d,f);if(S)return S}}}function Jc(o){var s=typeof o=="string"?o:ha[o.keyCode];return s=="Ctrl"||s=="Alt"||s=="Shift"||s=="Mod"}function Qd(o,s,d){var f=o;return s.altKey&&f!="Alt"&&(o="Alt-"+o),(ne?s.metaKey:s.ctrlKey)&&f!="Ctrl"&&(o="Ctrl-"+o),(ne?s.ctrlKey:s.metaKey)&&f!="Mod"&&(o="Cmd-"+o),!d&&s.shiftKey&&f!="Shift"&&(o="Shift-"+o),o}function Zd(o,s){if(C&&o.keyCode==34&&o.char)return!1;var d=ha[o.keyCode];return d==null||o.altGraphKey?!1:(o.keyCode==3&&o.code&&(d=o.code),Qd(d,o,s))}function ar(o){return typeof o=="string"?So[o]:o}function Yr(o,s){for(var d=o.doc.sel.ranges,f=[],g=0;g<d.length;g++){for(var w=s(d[g]);f.length&&F(w.from,rt(f).to)<=0;){var S=f.pop();if(F(S.from,w.from)<0){w.from=S.from;break}}f.push(w)}Qn(o,function(){for(var _=f.length-1;_>=0;_--)tl(o.doc,"",f[_].from,f[_].to,"+delete");ra(o)})}function Eu(o,s,d){var f=Lt(o.text,s+d,d);return f<0||f>o.text.length?null:f}function ef(o,s,d){var f=Eu(o,s.ch,d);return f==null?null:new Fe(s.line,f,d<0?"after":"before")}function ol(o,s,d,f,g){if(o){s.doc.direction=="rtl"&&(g=-g);var w=ve(d,s.doc.direction);if(w){var S=g<0?rt(w):w[0],_=g<0==(S.level==1),N=_?"after":"before",R;if(S.level>0||s.doc.direction=="rtl"){var G=Ti(s,d);R=g<0?d.text.length-1:0;var Y=Vi(s,G,R).top;R=B(function(le){return Vi(s,G,le).top==Y},g<0==(S.level==1)?S.from:S.to-1,R),N=="before"&&(R=Eu(d,R,1))}else R=g<0?S.to:S.from;return new Fe(f,R,N)}}return new Fe(f,g<0?d.text.length:0,g<0?"before":"after")}function Qg(o,s,d,f){var g=ve(s,o.doc.direction);if(!g)return ef(s,d,f);d.ch>=s.text.length?(d.ch=s.text.length,d.sticky="before"):d.ch<=0&&(d.ch=0,d.sticky="after");var w=K(g,d.ch,d.sticky),S=g[w];if(o.doc.direction=="ltr"&&S.level%2==0&&(f>0?S.to>d.ch:S.from<d.ch))return ef(s,d,f);var _=function(Ke,qe){return Eu(s,Ke instanceof Fe?Ke.ch:Ke,qe)},N,R=function(Ke){return o.options.lineWrapping?(N=N||Ti(o,s),be(o,s,N,Ke)):{begin:0,end:s.text.length}},G=R(d.sticky=="before"?_(d,-1):d.ch);if(o.doc.direction=="rtl"||S.level==1){var Y=S.level==1==f<0,le=_(d,Y?1:-1);if(le!=null&&(Y?le<=S.to&&le<=G.end:le>=S.from&&le>=G.begin)){var ae=Y?"before":"after";return new Fe(d.line,le,ae)}}var xe=function(Ke,qe,Ge){for(var Ze=function(Yt,On){return On?new Fe(d.line,_(Yt,1),"before"):new Fe(d.line,Yt,"after")};Ke>=0&&Ke<g.length;Ke+=qe){var at=g[Ke],ot=qe>0==(at.level!=1),Tt=ot?Ge.begin:_(Ge.end,-1);if(at.from<=Tt&&Tt<at.to||(Tt=ot?at.from:_(at.to,-1),Ge.begin<=Tt&&Tt<Ge.end))return Ze(Tt,ot)}},Pe=xe(w+f,f,G);if(Pe)return Pe;var De=f>0?G.end:_(G.begin,-1);return De!=null&&!(f>0&&De==s.text.length)&&(Pe=xe(f>0?0:g.length-1,f,R(De)),Pe)?Pe:null}var as={selectAll:Bg,singleSelection:function(o){return o.setSelection(o.getCursor("anchor"),o.getCursor("head"),He)},killLine:function(o){return Yr(o,function(s){if(s.empty()){var d=nt(o.doc,s.head.line).text.length;return s.head.ch==d&&s.head.line<o.lastLine()?{from:s.head,to:Fe(s.head.line+1,0)}:{from:s.head,to:Fe(s.head.line,d)}}else return{from:s.from(),to:s.to()}})},deleteLine:function(o){return Yr(o,function(s){return{from:Fe(s.from().line,0),to:Ve(o.doc,Fe(s.to().line+1,0))}})},delLineLeft:function(o){return Yr(o,function(s){return{from:Fe(s.from().line,0),to:s.from()}})},delWrappedLineLeft:function(o){return Yr(o,function(s){var d=o.charCoords(s.head,"div").top+5,f=o.coordsChar({left:0,top:d},"div");return{from:f,to:s.from()}})},delWrappedLineRight:function(o){return Yr(o,function(s){var d=o.charCoords(s.head,"div").top+5,f=o.coordsChar({left:o.display.lineDiv.offsetWidth+100,top:d},"div");return{from:s.from(),to:f}})},undo:function(o){return o.undo()},redo:function(o){return o.redo()},undoSelection:function(o){return o.undoSelection()},redoSelection:function(o){return o.redoSelection()},goDocStart:function(o){return o.extendSelection(Fe(o.firstLine(),0))},goDocEnd:function(o){return o.extendSelection(Fe(o.lastLine()))},goLineStart:function(o){return o.extendSelectionsBy(function(s){return Jd(o,s.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(o){return o.extendSelectionsBy(function(s){return tf(o,s.head)},{origin:"+move",bias:1})},goLineEnd:function(o){return o.extendSelectionsBy(function(s){return eh(o,s.head.line)},{origin:"+move",bias:-1})},goLineRight:function(o){return o.extendSelectionsBy(function(s){var d=o.cursorCoords(s.head,"div").top+5;return o.coordsChar({left:o.display.lineDiv.offsetWidth+100,top:d},"div")},Ye)},goLineLeft:function(o){return o.extendSelectionsBy(function(s){var d=o.cursorCoords(s.head,"div").top+5;return o.coordsChar({left:0,top:d},"div")},Ye)},goLineLeftSmart:function(o){return o.extendSelectionsBy(function(s){var d=o.cursorCoords(s.head,"div").top+5,f=o.coordsChar({left:0,top:d},"div");return f.ch<o.getLine(f.line).search(/\S/)?tf(o,s.head):f},Ye)},goLineUp:function(o){return o.moveV(-1,"line")},goLineDown:function(o){return o.moveV(1,"line")},goPageUp:function(o){return o.moveV(-1,"page")},goPageDown:function(o){return o.moveV(1,"page")},goCharLeft:function(o){return o.moveH(-1,"char")},goCharRight:function(o){return o.moveH(1,"char")},goColumnLeft:function(o){return o.moveH(-1,"column")},goColumnRight:function(o){return o.moveH(1,"column")},goWordLeft:function(o){return o.moveH(-1,"word")},goGroupRight:function(o){return o.moveH(1,"group")},goGroupLeft:function(o){return o.moveH(-1,"group")},goWordRight:function(o){return o.moveH(1,"word")},delCharBefore:function(o){return o.deleteH(-1,"codepoint")},delCharAfter:function(o){return o.deleteH(1,"char")},delWordBefore:function(o){return o.deleteH(-1,"word")},delWordAfter:function(o){return o.deleteH(1,"word")},delGroupBefore:function(o){return o.deleteH(-1,"group")},delGroupAfter:function(o){return o.deleteH(1,"group")},indentAuto:function(o){return o.indentSelection("smart")},indentMore:function(o){return o.indentSelection("add")},indentLess:function(o){return o.indentSelection("subtract")},insertTab:function(o){return o.replaceSelection("	")},insertSoftTab:function(o){for(var s=[],d=o.listSelections(),f=o.options.tabSize,g=0;g<d.length;g++){var w=d[g].from(),S=re(o.getLine(w.line),w.ch,f);s.push(Pt(f-S%f))}o.replaceSelections(s)},defaultTab:function(o){o.somethingSelected()?o.indentSelection("add"):o.execCommand("insertTab")},transposeChars:function(o){return Qn(o,function(){for(var s=o.listSelections(),d=[],f=0;f<s.length;f++)if(s[f].empty()){var g=s[f].head,w=nt(o.doc,g.line).text;if(w){if(g.ch==w.length&&(g=new Fe(g.line,g.ch-1)),g.ch>0)g=new Fe(g.line,g.ch+1),o.replaceRange(w.charAt(g.ch-1)+w.charAt(g.ch-2),Fe(g.line,g.ch-2),g,"+transpose");else if(g.line>o.doc.first){var S=nt(o.doc,g.line-1).text;S&&(g=new Fe(g.line,1),o.replaceRange(w.charAt(0)+o.doc.lineSeparator()+S.charAt(S.length-1),Fe(g.line-1,S.length-1),g,"+transpose"))}}d.push(new Gt(g,g))}o.setSelections(d)})},newlineAndIndent:function(o){return Qn(o,function(){for(var s=o.listSelections(),d=s.length-1;d>=0;d--)o.replaceRange(o.doc.lineSeparator(),s[d].anchor,s[d].head,"+input");s=o.listSelections();for(var f=0;f<s.length;f++)o.indentLine(s[f].from().line,null,!0);ra(o)})},openLine:function(o){return o.replaceSelection("\n","start")},toggleOverwrite:function(o){return o.toggleOverwrite()}};function Jd(o,s){var d=nt(o.doc,s),f=Ci(d);return f!=d&&(s=Kt(f)),ol(!0,o,f,s,1)}function eh(o,s){var d=nt(o.doc,s),f=R0(d);return f!=d&&(s=Kt(f)),ol(!0,o,d,s,-1)}function tf(o,s){var d=Jd(o,s.line),f=nt(o.doc,d.line),g=ve(f,o.doc.direction);if(!g||g[0].level==0){var w=Math.max(d.ch,f.text.search(/\S/)),S=s.line==d.line&&s.ch<=w&&s.ch;return Fe(d.line,S?0:w,d.sticky)}return d}function Oi(o,s,d){if(typeof s=="string"&&(s=as[s],!s))return!1;o.display.input.ensurePolled();var f=o.display.shift,g=!1;try{o.isReadOnly()&&(o.state.suppressEdits=!0),d&&(o.display.shift=!1),g=s(o)!=Ae}finally{o.display.shift=f,o.state.suppressEdits=!1}return g}function cw(o,s,d){for(var f=0;f<o.state.keyMaps.length;f++){var g=Co(s,o.state.keyMaps[f],d,o);if(g)return g}return o.options.extraKeys&&Co(s,o.options.extraKeys,d,o)||Co(s,o.options.keyMap,d,o)}var pa=new se;function al(o,s,d,f){var g=o.state.keySeq;if(g){if(Jc(s))return"handled";if(/\'$/.test(s)?o.state.keySeq=null:pa.set(50,function(){o.state.keySeq==g&&(o.state.keySeq=null,o.display.input.reset())}),th(o,g+" "+s,d,f))return!0}return th(o,s,d,f)}function th(o,s,d,f){var g=cw(o,s,f);return g=="multi"&&(o.state.keySeq=s),g=="handled"&&Rn(o,"keyHandled",o,s,d),(g=="handled"||g=="multi")&&(Un(d),Ks(o)),!!g}function nf(o,s){var d=Zd(s,!0);return d?s.shiftKey&&!o.state.keySeq?al(o,"Shift-"+d,s,function(f){return Oi(o,f,!0)})||al(o,d,s,function(f){if(typeof f=="string"?/^go[A-Z]/.test(f):f.motion)return Oi(o,f)}):al(o,d,s,function(f){return Oi(o,f)}):!1}function fw(o,s,d){return al(o,"'"+d+"'",s,function(f){return Oi(o,f,!0)})}var nh=null;function Zg(o){var s=this;if(!(o.target&&o.target!=s.display.input.getField())&&(s.curOp.focus=_e(),!mt(s,o))){p&&v<11&&o.keyCode==27&&(o.returnValue=!1);var d=o.keyCode;s.display.shift=d==16||o.shiftKey;var f=nf(s,o);C&&(nh=f?d:null,!f&&d==88&&!mc&&($?o.metaKey:o.ctrlKey)&&s.replaceSelection("",null,"cut")),i&&!$&&!f&&d==46&&o.shiftKey&&!o.ctrlKey&&document.execCommand&&document.execCommand("cut"),d==18&&!/\bCodeMirror-crosshair\b/.test(s.display.lineDiv.className)&&Jg(s)}}function Jg(o){var s=o.display.lineDiv;Se(s,"CodeMirror-crosshair");function d(f){(f.keyCode==18||!f.altKey)&&(we(s,"CodeMirror-crosshair"),Ct(document,"keyup",d),Ct(document,"mouseover",d))}Be(document,"keyup",d),Be(document,"mouseover",d)}function rh(o){o.keyCode==16&&(this.doc.sel.shift=!1),mt(this,o)}function ev(o){var s=this;if(!(o.target&&o.target!=s.display.input.getField())&&!(xo(s.display,o)||mt(s,o)||o.ctrlKey&&!o.altKey||$&&o.metaKey)){var d=o.keyCode,f=o.charCode;if(C&&d==nh){nh=null,Un(o);return}if(!(C&&(!o.which||o.which<10)&&nf(s,o))){var g=String.fromCharCode(f==null?d:f);g!="\b"&&(fw(s,o,g)||s.display.input.onKeyPress(o))}}}var tv=400,rf=function(o,s,d){this.time=o,this.pos=s,this.button=d};rf.prototype.compare=function(o,s,d){return this.time+tv>o&&F(s,this.pos)==0&&d==this.button};var Gn,Rr;function dw(o,s){var d=+new Date;return Rr&&Rr.compare(d,o,s)?(Gn=Rr=null,"triple"):Gn&&Gn.compare(d,o,s)?(Rr=new rf(d,o,s),Gn=null,"double"):(Gn=new rf(d,o,s),Rr=null,"single")}function nv(o){var s=this,d=s.display;if(!(mt(s,o)||d.activeTouch&&d.input.supportsTouch())){if(d.input.ensurePolled(),d.shift=o.shiftKey,xo(d,o)){m||(d.scroller.draggable=!1,setTimeout(function(){return d.scroller.draggable=!0},100));return}if(!ih(s,o)){var f=Yi(s,o),g=ql(o),w=f?dw(f,g):"single";window.focus(),g==1&&s.state.selectingText&&s.state.selectingText(o),!(f&&of(s,g,f,w,o))&&(g==1?f?rv(s,f,w,o):Wo(o)==d.scroller&&Un(o):g==2?(f&&Wc(s.doc,f),setTimeout(function(){return d.input.focus()},20)):g==3&&(he?s.display.input.onContextMenu(o):Fc(s)))}}}function of(o,s,d,f,g){var w="Click";return f=="double"?w="Double"+w:f=="triple"&&(w="Triple"+w),w=(s==1?"Left":s==2?"Middle":"Right")+w,al(o,Qd(w,g),g,function(S){if(typeof S=="string"&&(S=as[S]),!S)return!1;var _=!1;try{o.isReadOnly()&&(o.state.suppressEdits=!0),_=S(o,d)!=Ae}finally{o.state.suppressEdits=!1}return _})}function sl(o,s,d){var f=o.getOption("configureMouse"),g=f?f(o,s,d):{};if(g.unit==null){var w=U?d.shiftKey&&d.metaKey:d.altKey;g.unit=w?"rectangle":s=="single"?"char":s=="double"?"word":"line"}return(g.extend==null||o.doc.extend)&&(g.extend=o.doc.extend||d.shiftKey),g.addNew==null&&(g.addNew=$?d.metaKey:d.ctrlKey),g.moveOnDrag==null&&(g.moveOnDrag=!($?d.altKey:d.ctrlKey)),g}function rv(o,s,d,f){p?setTimeout(ce(Id,o),0):o.curOp.focus=_e();var g=sl(o,d,f),w=o.doc.sel,S;o.options.dragDrop&&Xl&&!o.isReadOnly()&&d=="single"&&(S=w.contains(s))>-1&&(F((S=w.ranges[S]).from(),s)<0||s.xRel>0)&&(F(S.to(),s)>0||s.xRel<0)?iv(o,f,s,g):av(o,f,s,g)}function iv(o,s,d,f){var g=o.display,w=!1,S=mn(o,function(R){m&&(g.scroller.draggable=!1),o.state.draggingText=!1,o.state.delayingBlurEvent&&(o.hasFocus()?o.state.delayingBlurEvent=!1:Fc(o)),Ct(g.wrapper.ownerDocument,"mouseup",S),Ct(g.wrapper.ownerDocument,"mousemove",_),Ct(g.scroller,"dragstart",N),Ct(g.scroller,"drop",S),w||(Un(R),f.addNew||Wc(o.doc,d,null,null,f.extend),m&&!I||p&&v==9?setTimeout(function(){g.wrapper.ownerDocument.body.focus({preventScroll:!0}),g.input.focus()},20):g.input.focus())}),_=function(R){w=w||Math.abs(s.clientX-R.clientX)+Math.abs(s.clientY-R.clientY)>=10},N=function(){return w=!0};m&&(g.scroller.draggable=!0),o.state.draggingText=S,S.copy=!f.moveOnDrag,Be(g.wrapper.ownerDocument,"mouseup",S),Be(g.wrapper.ownerDocument,"mousemove",_),Be(g.scroller,"dragstart",N),Be(g.scroller,"drop",S),o.state.delayingBlurEvent=!0,setTimeout(function(){return g.input.focus()},20),g.scroller.dragDrop&&g.scroller.dragDrop()}function ov(o,s,d){if(d=="char")return new Gt(s,s);if(d=="word")return o.findWordAt(s);if(d=="line")return new Gt(Fe(s.line,0),Ve(o.doc,Fe(s.line+1,0)));var f=d(o,s);return new Gt(f.from,f.to)}function av(o,s,d,f){p&&Fc(o);var g=o.display,w=o.doc;Un(s);var S,_,N=w.sel,R=N.ranges;if(f.addNew&&!f.extend?(_=w.sel.contains(d),_>-1?S=R[_]:S=new Gt(d,d)):(S=w.sel.primary(),_=w.sel.primIndex),f.unit=="rectangle")f.addNew||(S=new Gt(d,d)),d=Yi(o,s,!0,!0),_=-1;else{var G=ov(o,d,f.unit);f.extend?S=Uc(S,G.anchor,G.head,f.extend):S=G}f.addNew?_==-1?(_=R.length,Wn(w,er(o,R.concat([S]),_),{scroll:!1,origin:"*mouse"})):R.length>1&&R[_].empty()&&f.unit=="char"&&!f.extend?(Wn(w,er(o,R.slice(0,_).concat(R.slice(_+1)),0),{scroll:!1,origin:"*mouse"}),N=w.sel):Kd(w,_,S,tt):(_=0,Wn(w,new qr([S],0),tt),N=w.sel);var Y=d;function le(Ge){if(F(Y,Ge)!=0)if(Y=Ge,f.unit=="rectangle"){for(var Ze=[],at=o.options.tabSize,ot=re(nt(w,d.line).text,d.ch,at),Tt=re(nt(w,Ge.line).text,Ge.ch,at),Yt=Math.min(ot,Tt),On=Math.max(ot,Tt),nn=Math.min(d.line,Ge.line),lr=Math.min(o.lastLine(),Math.max(d.line,Ge.line));nn<=lr;nn++){var ur=nt(w,nn).text,bn=vt(ur,Yt,at);Yt==On?Ze.push(new Gt(Fe(nn,bn),Fe(nn,bn))):ur.length>bn&&Ze.push(new Gt(Fe(nn,bn),Fe(nn,vt(ur,On,at))))}Ze.length||Ze.push(new Gt(d,d)),Wn(w,er(o,N.ranges.slice(0,_).concat(Ze),_),{origin:"*mouse",scroll:!1}),o.scrollIntoView(Ge)}else{var qn=S,Fn=ov(o,Ge,f.unit),en=qn.anchor,an;F(Fn.anchor,en)>0?(an=Fn.head,en=gt(qn.from(),Fn.anchor)):(an=Fn.anchor,en=je(qn.to(),Fn.head));var yn=N.ranges.slice(0);yn[_]=ll(o,new Gt(Ve(w,en),an)),Wn(w,er(o,yn,_),tt)}}var ae=g.wrapper.getBoundingClientRect(),xe=0;function Pe(Ge){var Ze=++xe,at=Yi(o,Ge,!0,f.unit=="rectangle");if(at)if(F(at,Y)!=0){o.curOp.focus=_e(),le(at);var ot=Ja(g,w);(at.line>=ot.to||at.line<ot.from)&&setTimeout(mn(o,function(){xe==Ze&&Pe(Ge)}),150)}else{var Tt=Ge.clientY<ae.top?-20:Ge.clientY>ae.bottom?20:0;Tt&&setTimeout(mn(o,function(){xe==Ze&&(g.scroller.scrollTop+=Tt,Pe(Ge))}),50)}}function De(Ge){o.state.selectingText=!1,xe=1/0,Ge&&(Un(Ge),g.input.focus()),Ct(g.wrapper.ownerDocument,"mousemove",Ke),Ct(g.wrapper.ownerDocument,"mouseup",qe),w.history.lastSelOrigin=null}var Ke=mn(o,function(Ge){Ge.buttons===0||!ql(Ge)?De(Ge):Pe(Ge)}),qe=mn(o,De);o.state.selectingText=qe,Be(g.wrapper.ownerDocument,"mousemove",Ke),Be(g.wrapper.ownerDocument,"mouseup",qe)}function ll(o,s){var d=s.anchor,f=s.head,g=nt(o.doc,d.line);if(F(d,f)==0&&d.sticky==f.sticky)return s;var w=ve(g);if(!w)return s;var S=K(w,d.ch,d.sticky),_=w[S];if(_.from!=d.ch&&_.to!=d.ch)return s;var N=S+(_.from==d.ch==(_.level!=1)?0:1);if(N==0||N==w.length)return s;var R;if(f.line!=d.line)R=(f.line-d.line)*(o.doc.direction=="ltr"?1:-1)>0;else{var G=K(w,f.ch,f.sticky),Y=G-S||(f.ch-d.ch)*(_.level==1?-1:1);G==N-1||G==N?R=Y<0:R=Y>0}var le=w[N+(R?-1:0)],ae=R==(le.level==1),xe=ae?le.from:le.to,Pe=ae?"after":"before";return d.ch==xe&&d.sticky==Pe?s:new Gt(new Fe(d.line,xe,Pe),f)}function ul(o,s,d,f){var g,w;if(s.touches)g=s.touches[0].clientX,w=s.touches[0].clientY;else try{g=s.clientX,w=s.clientY}catch{return!1}if(g>=Math.floor(o.display.gutters.getBoundingClientRect().right))return!1;f&&Un(s);var S=o.display,_=S.lineDiv.getBoundingClientRect();if(w>_.bottom||!Hn(o,d))return Hr(s);w-=_.top-S.viewOffset;for(var N=0;N<o.display.gutterSpecs.length;++N){var R=S.gutters.childNodes[N];if(R&&R.getBoundingClientRect().right>=g){var G=Ei(o.doc,w),Y=o.display.gutterSpecs[N];return Qe(o,d,o,G,Y.className,s),Hr(s)}}}function ih(o,s){return ul(o,s,"gutterClick",!0)}function oh(o,s){xo(o.display,s)||sv(o,s)||mt(o,s,"contextmenu")||he||o.display.input.onContextMenu(s)}function sv(o,s){return Hn(o,"gutterContextMenu")?ul(o,s,"gutterContextMenu",!1):!1}function Su(o){o.display.wrapper.className=o.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+o.options.theme.replace(/(^|\s)\s*/g," cm-s-"),au(o)}var ss={toString:function(){return"CodeMirror.Init"}},Cu={},cl={};function af(o){var s=o.optionHandlers;function d(f,g,w,S){o.defaults[f]=g,w&&(s[f]=S?function(_,N,R){R!=ss&&w(_,N,R)}:w)}o.defineOption=d,o.Init=ss,d("value","",function(f,g){return f.setValue(g)},!0),d("mode",null,function(f,g){f.doc.modeOption=g,Bd(f)},!0),d("indentUnit",2,Bd,!0),d("indentWithTabs",!1),d("smartIndent",!0),d("tabSize",4,function(f){pu(f),au(f),bt(f)},!0),d("lineSeparator",null,function(f,g){if(f.doc.lineSep=g,!!g){var w=[],S=f.doc.first;f.doc.iter(function(N){for(var R=0;;){var G=N.text.indexOf(g,R);if(G==-1)break;R=G+g.length,w.push(Fe(S,G))}S++});for(var _=w.length-1;_>=0;_--)tl(f.doc,g,w[_],Fe(w[_].line,w[_].ch+g.length))}}),d("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,function(f,g,w){f.state.specialChars=new RegExp(g.source+(g.test("	")?"":"|	"),"g"),w!=ss&&f.refresh()}),d("specialCharPlaceholder",Gr,function(f){return f.refresh()},!0),d("electricChars",!0),d("inputStyle",z?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),d("spellcheck",!1,function(f,g){return f.getInputField().spellcheck=g},!0),d("autocorrect",!1,function(f,g){return f.getInputField().autocorrect=g},!0),d("autocapitalize",!1,function(f,g){return f.getInputField().autocapitalize=g},!0),d("rtlMoveVisually",!X),d("wholeLineUpdateBefore",!0),d("theme","default",function(f){Su(f),hu(f)},!0),d("keyMap","default",function(f,g,w){var S=ar(g),_=w!=ss&&ar(w);_&&_.detach&&_.detach(f,S),S.attach&&S.attach(f,_||null)}),d("extraKeys",null),d("configureMouse",null),d("lineWrapping",!1,lv,!0),d("gutters",[],function(f,g){f.display.gutterSpecs=$d(g,f.options.lineNumbers),hu(f)},!0),d("fixedGutter",!0,function(f,g){f.display.gutters.style.left=g?Ws(f.display)+"px":"0",f.refresh()},!0),d("coverGutterNextToScrollbar",!1,function(f){return oa(f)},!0),d("scrollbarStyle","native",function(f){ts(f),oa(f),f.display.scrollbars.setScrollTop(f.doc.scrollTop),f.display.scrollbars.setScrollLeft(f.doc.scrollLeft)},!0),d("lineNumbers",!1,function(f,g){f.display.gutterSpecs=$d(f.options.gutters,g),hu(f)},!0),d("firstLineNumber",1,hu,!0),d("lineNumberFormatter",function(f){return f},hu,!0),d("showCursorWhenSelecting",!1,su,!0),d("resetSelectionOnContextMenu",!0),d("lineWiseCopyCut",!0),d("pasteLinesPerSelection",!0),d("selectionsMayTouch",!1),d("readOnly",!1,function(f,g){g=="nocursor"&&(Za(f),f.display.input.blur()),f.display.input.readOnlyChanged(g)}),d("screenReaderLabel",null,function(f,g){g=g===""?null:g,f.display.input.screenReaderLabelChanged(g)}),d("disableInput",!1,function(f,g){g||f.display.input.reset()},!0),d("dragDrop",!0,hw),d("allowDropFileTypes",null),d("cursorBlinkRate",530),d("cursorScrollMargin",0),d("cursorHeight",1,su,!0),d("singleCursorHeightPerLine",!0,su,!0),d("workTime",100),d("workDelay",100),d("flattenSpans",!0,pu,!0),d("addModeClass",!1,pu,!0),d("pollInterval",100),d("undoDepth",200,function(f,g){return f.doc.history.undoDepth=g}),d("historyEventDelay",1250),d("viewportMargin",10,function(f){return f.refresh()},!0),d("maxHighlightLength",1e4,pu,!0),d("moveInputWithCursor",!0,function(f,g){g||f.display.input.resetPosition()}),d("tabindex",null,function(f,g){return f.display.input.getField().tabIndex=g||""}),d("autofocus",null),d("direction","ltr",function(f,g){return f.doc.setDirection(g)},!0),d("phrases",null)}function hw(o,s,d){var f=d&&d!=ss;if(!s!=!f){var g=o.display.dragFunctions,w=s?Be:Ct;w(o.display.scroller,"dragstart",g.start),w(o.display.scroller,"dragenter",g.enter),w(o.display.scroller,"dragover",g.over),w(o.display.scroller,"dragleave",g.leave),w(o.display.scroller,"drop",g.drop)}}function lv(o){o.options.lineWrapping?(Se(o.display.wrapper,"CodeMirror-wrap"),o.display.sizer.style.minWidth="",o.display.sizerWidth=null):(we(o.display.wrapper,"CodeMirror-wrap"),ru(o)),Jo(o),bt(o),au(o),setTimeout(function(){return oa(o)},100)}function tn(o,s){var d=this;if(!(this instanceof tn))return new tn(o,s);this.options=s=s?ye(s):{},ye(Cu,s,!1);var f=s.value;typeof f=="string"?f=new or(f,s.mode,null,s.lineSeparator,s.direction):s.mode&&(f.modeOption=s.mode),this.doc=f;var g=new tn.inputStyles[s.inputStyle](this),w=this.display=new tw(o,f,g,s);w.wrapper.CodeMirror=this,Su(this),s.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),ts(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new se,keySeq:null,specialChars:null},s.autofocus&&!z&&w.input.focus(),p&&v<11&&setTimeout(function(){return d.display.input.reset(!0)},20),uv(this),Yd(),_i(this),this.curOp.forceUpdate=!0,Fg(this,f),s.autofocus&&!z||this.hasFocus()?setTimeout(function(){d.hasFocus()&&!d.state.focused&&Gs(d)},20):Za(this);for(var S in cl)cl.hasOwnProperty(S)&&cl[S](this,s[S],ss);to(this),s.finishInit&&s.finishInit(this);for(var _=0;_<Tu.length;++_)Tu[_](this);Ji(this),m&&s.lineWrapping&&getComputedStyle(w.lineDiv).textRendering=="optimizelegibility"&&(w.lineDiv.style.textRendering="auto")}tn.defaults=Cu,tn.optionHandlers=cl;function uv(o){var s=o.display;Be(s.scroller,"mousedown",mn(o,nv)),p&&v<11?Be(s.scroller,"dblclick",mn(o,function(N){if(!mt(o,N)){var R=Yi(o,N);if(!(!R||ih(o,N)||xo(o.display,N))){Un(N);var G=o.findWordAt(R);Wc(o.doc,G.anchor,G.head)}}})):Be(s.scroller,"dblclick",function(N){return mt(o,N)||Un(N)}),Be(s.scroller,"contextmenu",function(N){return oh(o,N)}),Be(s.input.getField(),"contextmenu",function(N){s.scroller.contains(N.target)||oh(o,N)});var d,f={end:0};function g(){s.activeTouch&&(d=setTimeout(function(){return s.activeTouch=null},1e3),f=s.activeTouch,f.end=+new Date)}function w(N){if(N.touches.length!=1)return!1;var R=N.touches[0];return R.radiusX<=1&&R.radiusY<=1}function S(N,R){if(R.left==null)return!0;var G=R.left-N.left,Y=R.top-N.top;return G*G+Y*Y>20*20}Be(s.scroller,"touchstart",function(N){if(!mt(o,N)&&!w(N)&&!ih(o,N)){s.input.ensurePolled(),clearTimeout(d);var R=+new Date;s.activeTouch={start:R,moved:!1,prev:R-f.end<=300?f:null},N.touches.length==1&&(s.activeTouch.left=N.touches[0].pageX,s.activeTouch.top=N.touches[0].pageY)}}),Be(s.scroller,"touchmove",function(){s.activeTouch&&(s.activeTouch.moved=!0)}),Be(s.scroller,"touchend",function(N){var R=s.activeTouch;if(R&&!xo(s,N)&&R.left!=null&&!R.moved&&new Date-R.start<300){var G=o.coordsChar(s.activeTouch,"page"),Y;!R.prev||S(R,R.prev)?Y=new Gt(G,G):!R.prev.prev||S(R,R.prev.prev)?Y=o.findWordAt(G):Y=new Gt(Fe(G.line,0),Ve(o.doc,Fe(G.line+1,0))),o.setSelection(Y.anchor,Y.head),o.focus(),Un(N)}g()}),Be(s.scroller,"touchcancel",g),Be(s.scroller,"scroll",function(){s.scroller.clientHeight&&(vn(o,s.scroller.scrollTop),es(o,s.scroller.scrollLeft,!0),Qe(o,"scroll",o))}),Be(s.scroller,"mousewheel",function(N){return Rg(o,N)}),Be(s.scroller,"DOMMouseScroll",function(N){return Rg(o,N)}),Be(s.wrapper,"scroll",function(){return s.wrapper.scrollTop=s.wrapper.scrollLeft=0}),s.dragFunctions={enter:function(N){mt(o,N)||za(N)},over:function(N){mt(o,N)||(Xd(o,N),za(N))},start:function(N){return sw(o,N)},drop:mn(o,Vg),leave:function(N){mt(o,N)||Vd(o)}};var _=s.input.getField();Be(_,"keyup",function(N){return rh.call(o,N)}),Be(_,"keydown",mn(o,Zg)),Be(_,"keypress",mn(o,ev)),Be(_,"focus",function(N){return Gs(o,N)}),Be(_,"blur",function(N){return Za(o,N)})}var Tu=[];tn.defineInitHook=function(o){return Tu.push(o)};function ku(o,s,d,f){var g=o.doc,w;d==null&&(d="add"),d=="smart"&&(g.mode.indent?w=Bs(o,s).state:d="prev");var S=o.options.tabSize,_=nt(g,s),N=re(_.text,null,S);_.stateAfter&&(_.stateAfter=null);var R=_.text.match(/^\s*/)[0],G;if(!f&&!/\S/.test(_.text))G=0,d="not";else if(d=="smart"&&(G=g.mode.indent(w,_.text.slice(R.length),_.text),G==Ae||G>150)){if(!f)return;d="prev"}d=="prev"?s>g.first?G=re(nt(g,s-1).text,null,S):G=0:d=="add"?G=N+o.options.indentUnit:d=="subtract"?G=N-o.options.indentUnit:typeof d=="number"&&(G=N+d),G=Math.max(0,G);var Y="",le=0;if(o.options.indentWithTabs)for(var ae=Math.floor(G/S);ae;--ae)le+=S,Y+="	";if(le<G&&(Y+=Pt(G-le)),Y!=R)return tl(g,Y,Fe(s,0),Fe(s,R.length),"+input"),_.stateAfter=null,!0;for(var xe=0;xe<g.sel.ranges.length;xe++){var Pe=g.sel.ranges[xe];if(Pe.head.line==s&&Pe.head.ch<R.length){var De=Fe(s,R.length);Kd(g,xe,new Gt(De,De));break}}}var si=null;function li(o){si=o}function sf(o,s,d,f,g){var w=o.doc;o.display.shift=!1,f||(f=w.sel);var S=+new Date-200,_=g=="paste"||o.state.pasteIncoming>S,N=Ua(s),R=null;if(_&&f.ranges.length>1)if(si&&si.text.join("\n")==s){if(f.ranges.length%si.text.length==0){R=[];for(var G=0;G<si.text.length;G++)R.push(w.splitLines(si.text[G]))}}else N.length==f.ranges.length&&o.options.pasteLinesPerSelection&&(R=pt(N,function(Ke){return[Ke]}));for(var Y=o.curOp.updateInput,le=f.ranges.length-1;le>=0;le--){var ae=f.ranges[le],xe=ae.from(),Pe=ae.to();ae.empty()&&(d&&d>0?xe=Fe(xe.line,xe.ch-d):o.state.overwrite&&!_?Pe=Fe(Pe.line,Math.min(nt(w,Pe.line).text.length,Pe.ch+rt(N).length)):_&&si&&si.lineWise&&si.text.join("\n")==N.join("\n")&&(xe=Pe=Fe(xe.line,0)));var De={from:xe,to:Pe,text:R?R[le%R.length]:N,origin:g||(_?"paste":o.state.cutIncoming>S?"cut":"+input")};Zs(o.doc,De),Rn(o,"inputRead",o,De)}s&&!_&&cv(o,s),ra(o),o.curOp.updateInput<2&&(o.curOp.updateInput=Y),o.curOp.typing=!0,o.state.pasteIncoming=o.state.cutIncoming=-1}function ah(o,s){var d=o.clipboardData&&o.clipboardData.getData("Text");if(d)return o.preventDefault(),!s.isReadOnly()&&!s.options.disableInput&&Qn(s,function(){return sf(s,d,0,null,"paste")}),!0}function cv(o,s){if(!(!o.options.electricChars||!o.options.smartIndent))for(var d=o.doc.sel,f=d.ranges.length-1;f>=0;f--){var g=d.ranges[f];if(!(g.head.ch>100||f&&d.ranges[f-1].head.line==g.head.line)){var w=o.getModeAt(g.head),S=!1;if(w.electricChars){for(var _=0;_<w.electricChars.length;_++)if(s.indexOf(w.electricChars.charAt(_))>-1){S=ku(o,g.head.line,"smart");break}}else w.electricInput&&w.electricInput.test(nt(o.doc,g.head.line).text.slice(0,g.head.ch))&&(S=ku(o,g.head.line,"smart"));S&&Rn(o,"electricInput",o,g.head.line)}}}function sh(o){for(var s=[],d=[],f=0;f<o.doc.sel.ranges.length;f++){var g=o.doc.sel.ranges[f].head.line,w={anchor:Fe(g,0),head:Fe(g+1,0)};d.push(w),s.push(o.getRange(w.anchor,w.head))}return{text:s,ranges:d}}function fv(o,s,d,f){o.setAttribute("autocorrect",d?"":"off"),o.setAttribute("autocapitalize",f?"":"off"),o.setAttribute("spellcheck",!!s)}function dv(){var o=Z("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),s=Z("div",[o],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return m?o.style.width="1000px":o.setAttribute("wrap","off"),P&&(o.style.border="1px solid black"),fv(o),s}function To(o){var s=o.optionHandlers,d=o.helpers={};o.prototype={constructor:o,focus:function(){window.focus(),this.display.input.focus()},setOption:function(f,g){var w=this.options,S=w[f];w[f]==g&&f!="mode"||(w[f]=g,s.hasOwnProperty(f)&&mn(this,s[f])(this,g,S),Qe(this,"optionChange",this,f))},getOption:function(f){return this.options[f]},getDoc:function(){return this.doc},addKeyMap:function(f,g){this.state.keyMaps[g?"push":"unshift"](ar(f))},removeKeyMap:function(f){for(var g=this.state.keyMaps,w=0;w<g.length;++w)if(g[w]==f||g[w].name==f)return g.splice(w,1),!0},addOverlay:Zn(function(f,g){var w=f.token?f:o.getMode(this.options,f);if(w.startState)throw new Error("Overlays may not be stateful.");kt(this.state.overlays,{mode:w,modeSpec:f,opaque:g&&g.opaque,priority:g&&g.priority||0},function(S){return S.priority}),this.state.modeGen++,bt(this)}),removeOverlay:Zn(function(f){for(var g=this.state.overlays,w=0;w<g.length;++w){var S=g[w].modeSpec;if(S==f||typeof f=="string"&&S.name==f){g.splice(w,1),this.state.modeGen++,bt(this);return}}}),indentLine:Zn(function(f,g,w){typeof g!="string"&&typeof g!="number"&&(g==null?g=this.options.smartIndent?"smart":"prev":g=g?"add":"subtract"),Go(this.doc,f)&&ku(this,f,g,w)}),indentSelection:Zn(function(f){for(var g=this.doc.sel.ranges,w=-1,S=0;S<g.length;S++){var _=g[S];if(_.empty())_.head.line>w&&(ku(this,_.head.line,f,!0),w=_.head.line,S==this.doc.sel.primIndex&&ra(this));else{var N=_.from(),R=_.to(),G=Math.max(w,N.line);w=Math.min(this.lastLine(),R.line-(R.ch?0:1))+1;for(var Y=G;Y<w;++Y)ku(this,Y,f);var le=this.doc.sel.ranges;N.ch==0&&g.length==le.length&&le[S].from().ch>0&&Kd(this.doc,S,new Gt(N,le[S].to()),He)}}}),getTokenAt:function(f,g){return bc(this,f,g)},getLineTokens:function(f,g){return bc(this,Fe(f),g,!0)},getTokenTypeAt:function(f){f=Ve(this.doc,f);var g=md(this,nt(this.doc,f.line)),w=0,S=(g.length-1)/2,_=f.ch,N;if(_==0)N=g[2];else for(;;){var R=w+S>>1;if((R?g[R*2-1]:0)>=_)S=R;else if(g[R*2+1]<_)w=R+1;else{N=g[R*2+2];break}}var G=N?N.indexOf("overlay "):-1;return G<0?N:G==0?null:N.slice(0,G-1)},getModeAt:function(f){var g=this.doc.mode;return g.innerMode?o.innerMode(g,this.getTokenAt(f).state).mode:g},getHelper:function(f,g){return this.getHelpers(f,g)[0]},getHelpers:function(f,g){var w=[];if(!d.hasOwnProperty(g))return w;var S=d[g],_=this.getModeAt(f);if(typeof _[g]=="string")S[_[g]]&&w.push(S[_[g]]);else if(_[g])for(var N=0;N<_[g].length;N++){var R=S[_[g][N]];R&&w.push(R)}else _.helperType&&S[_.helperType]?w.push(S[_.helperType]):S[_.name]&&w.push(S[_.name]);for(var G=0;G<S._global.length;G++){var Y=S._global[G];Y.pred(_,this)&&pe(w,Y.val)==-1&&w.push(Y.val)}return w},getStateAfter:function(f,g){var w=this.doc;return f=Ft(w,f==null?w.first+w.size-1:f),Bs(this,f+1,g).state},cursorCoords:function(f,g){var w,S=this.doc.sel.primary();return f==null?w=S.head:typeof f=="object"?w=Ve(this.doc,f):w=f?S.from():S.to(),ki(this,w,g||"page")},charCoords:function(f,g){return Mc(this,Ve(this.doc,f),g||"page")},coordsChar:function(f,g){return f=Cg(this,f,g||"page"),ue(this,f.left,f.top)},lineAtHeight:function(f,g){return f=Cg(this,{top:f,left:0},g||"page").top,Ei(this.doc,f+this.display.viewOffset)},heightAtLine:function(f,g,w){var S=!1,_;if(typeof f=="number"){var N=this.doc.first+this.doc.size-1;f<this.doc.first?f=this.doc.first:f>N&&(f=N,S=!0),_=nt(this.doc,f)}else _=f;return Rc(this,_,{top:0,left:0},g||"page",w||S).top+(S?this.doc.height-Er(_):0)},defaultTextHeight:function(){return Zo(this.display)},defaultCharWidth:function(){return Us(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(f,g,w,S,_){var N=this.display;f=ki(this,Ve(this.doc,f));var R=f.bottom,G=f.left;if(g.style.position="absolute",g.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(g),N.sizer.appendChild(g),S=="over")R=f.top;else if(S=="above"||S=="near"){var Y=Math.max(N.wrapper.clientHeight,this.doc.height),le=Math.max(N.sizer.clientWidth,N.lineSpace.clientWidth);(S=="above"||f.bottom+g.offsetHeight>Y)&&f.top>g.offsetHeight?R=f.top-g.offsetHeight:f.bottom+g.offsetHeight<=Y&&(R=f.bottom),G+g.offsetWidth>le&&(G=le-g.offsetWidth)}g.style.top=R+"px",g.style.left=g.style.right="",_=="right"?(G=N.sizer.clientWidth-g.offsetWidth,g.style.right="0px"):(_=="left"?G=0:_=="middle"&&(G=(N.sizer.clientWidth-g.offsetWidth)/2),g.style.left=G+"px"),w&&G0(this,{left:G,top:R,right:G+g.offsetWidth,bottom:R+g.offsetHeight})},triggerOnKeyDown:Zn(Zg),triggerOnKeyPress:Zn(ev),triggerOnKeyUp:rh,triggerOnMouseDown:Zn(nv),execCommand:function(f){if(as.hasOwnProperty(f))return as[f].call(null,this)},triggerElectric:Zn(function(f){cv(this,f)}),findPosH:function(f,g,w,S){var _=1;g<0&&(_=-1,g=-g);for(var N=Ve(this.doc,f),R=0;R<g&&(N=_u(this.doc,N,_,w,S),!N.hitSide);++R);return N},moveH:Zn(function(f,g){var w=this;this.extendSelectionsBy(function(S){return w.display.shift||w.doc.extend||S.empty()?_u(w.doc,S.head,f,g,w.options.rtlMoveVisually):f<0?S.from():S.to()},Ye)}),deleteH:Zn(function(f,g){var w=this.doc.sel,S=this.doc;w.somethingSelected()?S.replaceSelection("",null,"+delete"):Yr(this,function(_){var N=_u(S,_.head,f,g,!1);return f<0?{from:N,to:_.head}:{from:_.head,to:N}})}),findPosV:function(f,g,w,S){var _=1,N=S;g<0&&(_=-1,g=-g);for(var R=Ve(this.doc,f),G=0;G<g;++G){var Y=ki(this,R,"div");if(N==null?N=Y.left:Y.left=N,R=lf(this,Y,_,w),R.hitSide)break}return R},moveV:Zn(function(f,g){var w=this,S=this.doc,_=[],N=!this.display.shift&&!S.extend&&S.sel.somethingSelected();if(S.extendSelectionsBy(function(G){if(N)return f<0?G.from():G.to();var Y=ki(w,G.head,"div");G.goalColumn!=null&&(Y.left=G.goalColumn),_.push(Y.left);var le=lf(w,Y,f,g);return g=="page"&&G==S.sel.primary()&&Xs(w,Mc(w,le,"div").top-Y.top),le},Ye),_.length)for(var R=0;R<S.sel.ranges.length;R++)S.sel.ranges[R].goalColumn=_[R]}),findWordAt:function(f){var g=this.doc,w=nt(g,f.line).text,S=f.ch,_=f.ch;if(w){var N=this.getHelper(f,"wordChars");(f.sticky=="before"||_==w.length)&&S?--S:++_;for(var R=w.charAt(S),G=fe(R,N)?function(Y){return fe(Y,N)}:/\s/.test(R)?function(Y){return/\s/.test(Y)}:function(Y){return!/\s/.test(Y)&&!fe(Y)};S>0&&G(w.charAt(S-1));)--S;for(;_<w.length&&G(w.charAt(_));)++_}return new Gt(Fe(f.line,S),Fe(f.line,_))},toggleOverwrite:function(f){f!=null&&f==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?Se(this.display.cursorDiv,"CodeMirror-overwrite"):we(this.display.cursorDiv,"CodeMirror-overwrite"),Qe(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==_e()},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:Zn(function(f,g){uu(this,f,g)}),getScrollInfo:function(){var f=this.display.scroller;return{left:f.scrollLeft,top:f.scrollTop,height:f.scrollHeight-Nr(this)-this.display.barHeight,width:f.scrollWidth-Nr(this)-this.display.barWidth,clientHeight:Pc(this),clientWidth:Vo(this)}},scrollIntoView:Zn(function(f,g){f==null?(f={from:this.doc.sel.primary().head,to:null},g==null&&(g=this.options.cursorScrollMargin)):typeof f=="number"?f={from:Fe(f,0),to:null}:f.from==null&&(f={from:f,to:null}),f.to||(f.to=f.from),f.margin=g||0,f.from.line!=null?Lg(this,f):Pg(this,f.from,f.to,f.margin)}),setSize:Zn(function(f,g){var w=this,S=function(N){return typeof N=="number"||/^\d+$/.test(String(N))?N+"px":N};f!=null&&(this.display.wrapper.style.width=S(f)),g!=null&&(this.display.wrapper.style.height=S(g)),this.options.lineWrapping&&Sg(this);var _=this.display.viewFrom;this.doc.iter(_,this.display.viewTo,function(N){if(N.widgets){for(var R=0;R<N.widgets.length;R++)if(N.widgets[R].noHScroll){ea(w,_,"widget");break}}++_}),this.curOp.forceUpdate=!0,Qe(this,"refresh",this)}),operation:function(f){return Qn(this,f)},startOperation:function(){return _i(this)},endOperation:function(){return Ji(this)},refresh:Zn(function(){var f=this.display.cachedTextHeight;bt(this),this.curOp.forceUpdate=!0,au(this),uu(this,this.doc.scrollLeft,this.doc.scrollTop),Fd(this.display),(f==null||Math.abs(f-Zo(this.display))>.5||this.options.lineWrapping)&&Jo(this),Qe(this,"refresh",this)}),swapDoc:Zn(function(f){var g=this.doc;return g.cm=null,this.state.selectingText&&this.state.selectingText(),Fg(this,f),au(this),this.display.input.reset(),uu(this,f.scrollLeft,f.scrollTop),this.curOp.forceScroll=!0,Rn(this,"swapDoc",this,g),g}),phrase:function(f){var g=this.options.phrases;return g&&Object.prototype.hasOwnProperty.call(g,f)?g[f]:f},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},wi(o),o.registerHelper=function(f,g,w){d.hasOwnProperty(f)||(d[f]=o[f]={_global:[]}),d[f][g]=w},o.registerGlobalHelper=function(f,g,w,S){o.registerHelper(f,g,S),d[f]._global.push({pred:w,val:S})}}function _u(o,s,d,f,g){var w=s,S=d,_=nt(o,s.line),N=g&&o.direction=="rtl"?-d:d;function R(){var qe=s.line+N;return qe<o.first||qe>=o.first+o.size?!1:(s=new Fe(qe,s.ch,s.sticky),_=nt(o,qe))}function G(qe){var Ge;if(f=="codepoint"){var Ze=_.text.charCodeAt(s.ch+(d>0?0:-1));if(isNaN(Ze))Ge=null;else{var at=d>0?Ze>=55296&&Ze<56320:Ze>=56320&&Ze<57343;Ge=new Fe(s.line,Math.max(0,Math.min(_.text.length,s.ch+d*(at?2:1))),-d)}}else g?Ge=Qg(o.cm,_,s,d):Ge=ef(_,s,d);if(Ge==null)if(!qe&&R())s=ol(g,o.cm,_,s.line,N);else return!1;else s=Ge;return!0}if(f=="char"||f=="codepoint")G();else if(f=="column")G(!0);else if(f=="word"||f=="group")for(var Y=null,le=f=="group",ae=o.cm&&o.cm.getHelper(s,"wordChars"),xe=!0;!(d<0&&!G(!xe));xe=!1){var Pe=_.text.charAt(s.ch)||"\n",De=fe(Pe,ae)?"w":le&&Pe=="\n"?"n":!le||/\s/.test(Pe)?null:"p";if(le&&!xe&&!De&&(De="s"),Y&&Y!=De){d<0&&(d=1,G(),s.sticky="after");break}if(De&&(Y=De),d>0&&!G(!xe))break}var Ke=Kn(o,s,w,S,!0);return Q(w,Ke)&&(Ke.hitSide=!0),Ke}function lf(o,s,d,f){var g=o.doc,w=s.left,S;if(f=="page"){var _=Math.min(o.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),N=Math.max(_-.5*Zo(o.display),3);S=(d>0?s.bottom:s.top)+d*N}else f=="line"&&(S=d>0?s.bottom+3:s.top-3);for(var R;R=ue(o,w,S),!!R.outside;){if(d<0?S<=0:S>=g.height){R.hitSide=!0;break}S+=d*5}return R}var qt=function(o){this.cm=o,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new se,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};qt.prototype.init=function(o){var s=this,d=this,f=d.cm,g=d.div=o.lineDiv;g.contentEditable=!0,fv(g,f.options.spellcheck,f.options.autocorrect,f.options.autocapitalize);function w(_){for(var N=_.target;N;N=N.parentNode){if(N==g)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(N.className))break}return!1}Be(g,"paste",function(_){!w(_)||mt(f,_)||ah(_,f)||v<=11&&setTimeout(mn(f,function(){return s.updateFromDOM()}),20)}),Be(g,"compositionstart",function(_){s.composing={data:_.data,done:!1}}),Be(g,"compositionupdate",function(_){s.composing||(s.composing={data:_.data,done:!1})}),Be(g,"compositionend",function(_){s.composing&&(_.data!=s.composing.data&&s.readFromDOMSoon(),s.composing.done=!0)}),Be(g,"touchstart",function(){return d.forceCompositionEnd()}),Be(g,"input",function(){s.composing||s.readFromDOMSoon()});function S(_){if(!(!w(_)||mt(f,_))){if(f.somethingSelected())li({lineWise:!1,text:f.getSelections()}),_.type=="cut"&&f.replaceSelection("",null,"cut");else if(f.options.lineWiseCopyCut){var N=sh(f);li({lineWise:!0,text:N.text}),_.type=="cut"&&f.operation(function(){f.setSelections(N.ranges,0,He),f.replaceSelection("",null,"cut")})}else return;if(_.clipboardData){_.clipboardData.clearData();var R=si.text.join("\n");if(_.clipboardData.setData("Text",R),_.clipboardData.getData("Text")==R){_.preventDefault();return}}var G=dv(),Y=G.firstChild;f.display.lineSpace.insertBefore(G,f.display.lineSpace.firstChild),Y.value=si.text.join("\n");var le=_e();te(Y),setTimeout(function(){f.display.lineSpace.removeChild(G),le.focus(),le==g&&d.showPrimarySelection()},50)}}Be(g,"copy",S),Be(g,"cut",S)},qt.prototype.screenReaderLabelChanged=function(o){o?this.div.setAttribute("aria-label",o):this.div.removeAttribute("aria-label")},qt.prototype.prepareSelection=function(){var o=lu(this.cm,!1);return o.focus=_e()==this.div,o},qt.prototype.showSelection=function(o,s){!o||!this.cm.display.view.length||((o.focus||s)&&this.showPrimarySelection(),this.showMultipleSelections(o))},qt.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},qt.prototype.showPrimarySelection=function(){var o=this.getSelection(),s=this.cm,d=s.doc.sel.primary(),f=d.from(),g=d.to();if(s.display.viewTo==s.display.viewFrom||f.line>=s.display.viewTo||g.line<s.display.viewFrom){o.removeAllRanges();return}var w=dl(s,o.anchorNode,o.anchorOffset),S=dl(s,o.focusNode,o.focusOffset);if(!(w&&!w.bad&&S&&!S.bad&&F(gt(w,S),f)==0&&F(je(w,S),g)==0)){var _=s.display.view,N=f.line>=s.display.viewFrom&&Ou(s,f)||{node:_[0].measure.map[2],offset:0},R=g.line<s.display.viewTo&&Ou(s,g);if(!R){var G=_[_.length-1].measure,Y=G.maps?G.maps[G.maps.length-1]:G.map;R={node:Y[Y.length-1],offset:Y[Y.length-2]-Y[Y.length-3]}}if(!N||!R){o.removeAllRanges();return}var le=o.rangeCount&&o.getRangeAt(0),ae;try{ae=Me(N.node,N.offset,R.offset,R.node)}catch{}ae&&(!i&&s.state.focused?(o.collapse(N.node,N.offset),ae.collapsed||(o.removeAllRanges(),o.addRange(ae))):(o.removeAllRanges(),o.addRange(ae)),le&&o.anchorNode==null?o.addRange(le):i&&this.startGracePeriod()),this.rememberSelection()}},qt.prototype.startGracePeriod=function(){var o=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){o.gracePeriod=!1,o.selectionChanged()&&o.cm.operation(function(){return o.cm.curOp.selectionChanged=!0})},20)},qt.prototype.showMultipleSelections=function(o){J(this.cm.display.cursorDiv,o.cursors),J(this.cm.display.selectionDiv,o.selection)},qt.prototype.rememberSelection=function(){var o=this.getSelection();this.lastAnchorNode=o.anchorNode,this.lastAnchorOffset=o.anchorOffset,this.lastFocusNode=o.focusNode,this.lastFocusOffset=o.focusOffset},qt.prototype.selectionInEditor=function(){var o=this.getSelection();if(!o.rangeCount)return!1;var s=o.getRangeAt(0).commonAncestorContainer;return Ne(this.div,s)},qt.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||_e()!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},qt.prototype.blur=function(){this.div.blur()},qt.prototype.getField=function(){return this.div},qt.prototype.supportsTouch=function(){return!0},qt.prototype.receivedFocus=function(){var o=this,s=this;this.selectionInEditor()?setTimeout(function(){return o.pollSelection()},20):Qn(this.cm,function(){return s.cm.curOp.selectionChanged=!0});function d(){s.cm.state.focused&&(s.pollSelection(),s.polling.set(s.cm.options.pollInterval,d))}this.polling.set(this.cm.options.pollInterval,d)},qt.prototype.selectionChanged=function(){var o=this.getSelection();return o.anchorNode!=this.lastAnchorNode||o.anchorOffset!=this.lastAnchorOffset||o.focusNode!=this.lastFocusNode||o.focusOffset!=this.lastFocusOffset},qt.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var o=this.getSelection(),s=this.cm;if(M&&E&&this.cm.display.gutterSpecs.length&&fl(o.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var d=dl(s,o.anchorNode,o.anchorOffset),f=dl(s,o.focusNode,o.focusOffset);d&&f&&Qn(s,function(){Wn(s.doc,sa(d,f),He),(d.bad||f.bad)&&(s.curOp.selectionChanged=!0)})}}},qt.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var o=this.cm,s=o.display,d=o.doc.sel.primary(),f=d.from(),g=d.to();if(f.ch==0&&f.line>o.firstLine()&&(f=Fe(f.line-1,nt(o.doc,f.line-1).length)),g.ch==nt(o.doc,g.line).text.length&&g.line<o.lastLine()&&(g=Fe(g.line+1,0)),f.line<s.viewFrom||g.line>s.viewTo-1)return!1;var w,S,_;f.line==s.viewFrom||(w=Qi(o,f.line))==0?(S=Kt(s.view[0].line),_=s.view[0].node):(S=Kt(s.view[w].line),_=s.view[w-1].node.nextSibling);var N=Qi(o,g.line),R,G;if(N==s.view.length-1?(R=s.viewTo-1,G=s.lineDiv.lastChild):(R=Kt(s.view[N+1].line)-1,G=s.view[N+1].node.previousSibling),!_)return!1;for(var Y=o.doc.splitLines(uf(o,_,G,S,R)),le=Kr(o.doc,Fe(S,0),Fe(R,nt(o.doc,R).text.length));Y.length>1&&le.length>1;)if(rt(Y)==rt(le))Y.pop(),le.pop(),R--;else if(Y[0]==le[0])Y.shift(),le.shift(),S++;else break;for(var ae=0,xe=0,Pe=Y[0],De=le[0],Ke=Math.min(Pe.length,De.length);ae<Ke&&Pe.charCodeAt(ae)==De.charCodeAt(ae);)++ae;for(var qe=rt(Y),Ge=rt(le),Ze=Math.min(qe.length-(Y.length==1?ae:0),Ge.length-(le.length==1?ae:0));xe<Ze&&qe.charCodeAt(qe.length-xe-1)==Ge.charCodeAt(Ge.length-xe-1);)++xe;if(Y.length==1&&le.length==1&&S==f.line)for(;ae&&ae>f.ch&&qe.charCodeAt(qe.length-xe-1)==Ge.charCodeAt(Ge.length-xe-1);)ae--,xe++;Y[Y.length-1]=qe.slice(0,qe.length-xe).replace(/^\u200b+/,""),Y[0]=Y[0].slice(ae).replace(/\u200b+$/,"");var at=Fe(S,ae),ot=Fe(R,le.length?rt(le).length-xe:0);if(Y.length>1||Y[0]||F(at,ot))return tl(o.doc,Y,at,ot,"+input"),!0},qt.prototype.ensurePolled=function(){this.forceCompositionEnd()},qt.prototype.reset=function(){this.forceCompositionEnd()},qt.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},qt.prototype.readFromDOMSoon=function(){var o=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(o.readDOMTimeout=null,o.composing)if(o.composing.done)o.composing=null;else return;o.updateFromDOM()},80))},qt.prototype.updateFromDOM=function(){var o=this;(this.cm.isReadOnly()||!this.pollContent())&&Qn(this.cm,function(){return bt(o.cm)})},qt.prototype.setUneditable=function(o){o.contentEditable="false"},qt.prototype.onKeyPress=function(o){o.charCode==0||this.composing||(o.preventDefault(),this.cm.isReadOnly()||mn(this.cm,sf)(this.cm,String.fromCharCode(o.charCode==null?o.keyCode:o.charCode),0))},qt.prototype.readOnlyChanged=function(o){this.div.contentEditable=String(o!="nocursor")},qt.prototype.onContextMenu=function(){},qt.prototype.resetPosition=function(){},qt.prototype.needsContentAttribute=!0;function Ou(o,s){var d=Nd(o,s.line);if(!d||d.hidden)return null;var f=nt(o.doc,s.line),g=yg(d,f,s.line),w=ve(f,o.doc.direction),S="left";if(w){var _=K(w,s.ch);S=_%2?"right":"left"}var N=Ac(g.map,s.ch,S);return N.offset=N.collapse=="right"?N.end:N.start,N}function fl(o){for(var s=o;s;s=s.parentNode)if(/CodeMirror-gutter-wrapper/.test(s.className))return!0;return!1}function ct(o,s){return s&&(o.bad=!0),o}function uf(o,s,d,f,g){var w="",S=!1,_=o.doc.lineSeparator(),N=!1;function R(ae){return function(xe){return xe.id==ae}}function G(){S&&(w+=_,N&&(w+=_),S=N=!1)}function Y(ae){ae&&(G(),w+=ae)}function le(ae){if(ae.nodeType==1){var xe=ae.getAttribute("cm-text");if(xe){Y(xe);return}var Pe=ae.getAttribute("cm-marker"),De;if(Pe){var Ke=o.findMarks(Fe(f,0),Fe(g+1,0),R(+Pe));Ke.length&&(De=Ke[0].find(0))&&Y(Kr(o.doc,De.from,De.to).join(_));return}if(ae.getAttribute("contenteditable")=="false")return;var qe=/^(pre|div|p|li|table|br)$/i.test(ae.nodeName);if(!/^br$/i.test(ae.nodeName)&&ae.textContent.length==0)return;qe&&G();for(var Ge=0;Ge<ae.childNodes.length;Ge++)le(ae.childNodes[Ge]);/^(pre|p)$/i.test(ae.nodeName)&&(N=!0),qe&&(S=!0)}else ae.nodeType==3&&Y(ae.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;le(s),s!=d;)s=s.nextSibling,N=!1;return w}function dl(o,s,d){var f;if(s==o.display.lineDiv){if(f=o.display.lineDiv.childNodes[d],!f)return ct(o.clipPos(Fe(o.display.viewTo-1)),!0);s=null,d=0}else for(f=s;;f=f.parentNode){if(!f||f==o.display.lineDiv)return null;if(f.parentNode&&f.parentNode==o.display.lineDiv)break}for(var g=0;g<o.display.view.length;g++){var w=o.display.view[g];if(w.node==f)return ls(w,s,d)}}function ls(o,s,d){var f=o.text.firstChild,g=!1;if(!s||!Ne(f,s))return ct(Fe(Kt(o.line),0),!0);if(s==f&&(g=!0,s=f.childNodes[d],d=0,!s)){var w=o.rest?rt(o.rest):o.line;return ct(Fe(Kt(w),w.text.length),g)}var S=s.nodeType==3?s:null,_=s;for(!S&&s.childNodes.length==1&&s.firstChild.nodeType==3&&(S=s.firstChild,d&&(d=S.nodeValue.length));_.parentNode!=f;)_=_.parentNode;var N=o.measure,R=N.maps;function G(De,Ke,qe){for(var Ge=-1;Ge<(R?R.length:0);Ge++)for(var Ze=Ge<0?N.map:R[Ge],at=0;at<Ze.length;at+=3){var ot=Ze[at+2];if(ot==De||ot==Ke){var Tt=Kt(Ge<0?o.line:o.rest[Ge]),Yt=Ze[at]+qe;return(qe<0||ot!=De)&&(Yt=Ze[at+(qe?1:0)]),Fe(Tt,Yt)}}}var Y=G(S,_,d);if(Y)return ct(Y,g);for(var le=_.nextSibling,ae=S?S.nodeValue.length-d:0;le;le=le.nextSibling){if(Y=G(le,le.firstChild,0),Y)return ct(Fe(Y.line,Y.ch-ae),g);ae+=le.textContent.length}for(var xe=_.previousSibling,Pe=d;xe;xe=xe.previousSibling){if(Y=G(xe,xe.firstChild,-1),Y)return ct(Fe(Y.line,Y.ch+Pe),g);Pe+=xe.textContent.length}}var xn=function(o){this.cm=o,this.prevInput="",this.pollingFast=!1,this.polling=new se,this.hasSelection=!1,this.composing=null};xn.prototype.init=function(o){var s=this,d=this,f=this.cm;this.createField(o);var g=this.textarea;o.wrapper.insertBefore(this.wrapper,o.wrapper.firstChild),P&&(g.style.width="0px"),Be(g,"input",function(){p&&v>=9&&s.hasSelection&&(s.hasSelection=null),d.poll()}),Be(g,"paste",function(S){mt(f,S)||ah(S,f)||(f.state.pasteIncoming=+new Date,d.fastPoll())});function w(S){if(!mt(f,S)){if(f.somethingSelected())li({lineWise:!1,text:f.getSelections()});else if(f.options.lineWiseCopyCut){var _=sh(f);li({lineWise:!0,text:_.text}),S.type=="cut"?f.setSelections(_.ranges,null,He):(d.prevInput="",g.value=_.text.join("\n"),te(g))}else return;S.type=="cut"&&(f.state.cutIncoming=+new Date)}}Be(g,"cut",w),Be(g,"copy",w),Be(o.scroller,"paste",function(S){if(!(xo(o,S)||mt(f,S))){if(!g.dispatchEvent){f.state.pasteIncoming=+new Date,d.focus();return}var _=new Event("paste");_.clipboardData=S.clipboardData,g.dispatchEvent(_)}}),Be(o.lineSpace,"selectstart",function(S){xo(o,S)||Un(S)}),Be(g,"compositionstart",function(){var S=f.getCursor("from");d.composing&&d.composing.range.clear(),d.composing={start:S,range:f.markText(S,f.getCursor("to"),{className:"CodeMirror-composing"})}}),Be(g,"compositionend",function(){d.composing&&(d.poll(),d.composing.range.clear(),d.composing=null)})},xn.prototype.createField=function(o){this.wrapper=dv(),this.textarea=this.wrapper.firstChild},xn.prototype.screenReaderLabelChanged=function(o){o?this.textarea.setAttribute("aria-label",o):this.textarea.removeAttribute("aria-label")},xn.prototype.prepareSelection=function(){var o=this.cm,s=o.display,d=o.doc,f=lu(o);if(o.options.moveInputWithCursor){var g=ki(o,d.sel.primary().head,"div"),w=s.wrapper.getBoundingClientRect(),S=s.lineDiv.getBoundingClientRect();f.teTop=Math.max(0,Math.min(s.wrapper.clientHeight-10,g.top+S.top-w.top)),f.teLeft=Math.max(0,Math.min(s.wrapper.clientWidth-10,g.left+S.left-w.left))}return f},xn.prototype.showSelection=function(o){var s=this.cm,d=s.display;J(d.cursorDiv,o.cursors),J(d.selectionDiv,o.selection),o.teTop!=null&&(this.wrapper.style.top=o.teTop+"px",this.wrapper.style.left=o.teLeft+"px")},xn.prototype.reset=function(o){if(!(this.contextMenuPending||this.composing)){var s=this.cm;if(s.somethingSelected()){this.prevInput="";var d=s.getSelection();this.textarea.value=d,s.state.focused&&te(this.textarea),p&&v>=9&&(this.hasSelection=d)}else o||(this.prevInput=this.textarea.value="",p&&v>=9&&(this.hasSelection=null))}},xn.prototype.getField=function(){return this.textarea},xn.prototype.supportsTouch=function(){return!1},xn.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!z||_e()!=this.textarea))try{this.textarea.focus()}catch{}},xn.prototype.blur=function(){this.textarea.blur()},xn.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},xn.prototype.receivedFocus=function(){this.slowPoll()},xn.prototype.slowPoll=function(){var o=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){o.poll(),o.cm.state.focused&&o.slowPoll()})},xn.prototype.fastPoll=function(){var o=!1,s=this;s.pollingFast=!0;function d(){var f=s.poll();!f&&!o?(o=!0,s.polling.set(60,d)):(s.pollingFast=!1,s.slowPoll())}s.polling.set(20,d)},xn.prototype.poll=function(){var o=this,s=this.cm,d=this.textarea,f=this.prevInput;if(this.contextMenuPending||!s.state.focused||vc(d)&&!f&&!this.composing||s.isReadOnly()||s.options.disableInput||s.state.keySeq)return!1;var g=d.value;if(g==f&&!s.somethingSelected())return!1;if(p&&v>=9&&this.hasSelection===g||$&&/[\uf700-\uf7ff]/.test(g))return s.display.input.reset(),!1;if(s.doc.sel==s.display.selForContextMenu){var w=g.charCodeAt(0);if(w==8203&&!f&&(f=""),w==8666)return this.reset(),this.cm.execCommand("undo")}for(var S=0,_=Math.min(f.length,g.length);S<_&&f.charCodeAt(S)==g.charCodeAt(S);)++S;return Qn(s,function(){sf(s,g.slice(S),f.length-S,null,o.composing?"*compose":null),g.length>1e3||g.indexOf("\n")>-1?d.value=o.prevInput="":o.prevInput=g,o.composing&&(o.composing.range.clear(),o.composing.range=s.markText(o.composing.start,s.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},xn.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},xn.prototype.onKeyPress=function(){p&&v>=9&&(this.hasSelection=null),this.fastPoll()},xn.prototype.onContextMenu=function(o){var s=this,d=s.cm,f=d.display,g=s.textarea;s.contextMenuPending&&s.contextMenuPending();var w=Yi(d,o),S=f.scroller.scrollTop;if(!w||C)return;var _=d.options.resetSelectionOnContextMenu;_&&d.doc.sel.contains(w)==-1&&mn(d,Wn)(d.doc,sa(w),He);var N=g.style.cssText,R=s.wrapper.style.cssText,G=s.wrapper.offsetParent.getBoundingClientRect();s.wrapper.style.cssText="position: static",g.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(o.clientY-G.top-5)+"px; left: "+(o.clientX-G.left-5)+"px;\n      z-index: 1000; background: "+(p?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";var Y;m&&(Y=window.scrollY),f.input.focus(),m&&window.scrollTo(null,Y),f.input.reset(),d.somethingSelected()||(g.value=s.prevInput=" "),s.contextMenuPending=ae,f.selForContextMenu=d.doc.sel,clearTimeout(f.detectingSelectAll);function le(){if(g.selectionStart!=null){var Pe=d.somethingSelected(),De=""+(Pe?g.value:"");g.value="",g.value=De,s.prevInput=Pe?"":"",g.selectionStart=1,g.selectionEnd=De.length,f.selForContextMenu=d.doc.sel}}function ae(){if(s.contextMenuPending==ae&&(s.contextMenuPending=!1,s.wrapper.style.cssText=R,g.style.cssText=N,p&&v<9&&f.scrollbars.setScrollTop(f.scroller.scrollTop=S),g.selectionStart!=null)){(!p||p&&v<9)&&le();var Pe=0,De=function(){f.selForContextMenu==d.doc.sel&&g.selectionStart==0&&g.selectionEnd>0&&s.prevInput==""?mn(d,Bg)(d):Pe++<10?f.detectingSelectAll=setTimeout(De,500):(f.selForContextMenu=null,f.input.reset())};f.detectingSelectAll=setTimeout(De,200)}}if(p&&v>=9&&le(),he){za(o);var xe=function(){Ct(window,"mouseup",xe),setTimeout(ae,20)};Be(window,"mouseup",xe)}else setTimeout(ae,50)},xn.prototype.readOnlyChanged=function(o){o||this.reset(),this.textarea.disabled=o=="nocursor",this.textarea.readOnly=!!o},xn.prototype.setUneditable=function(){},xn.prototype.needsContentAttribute=!1;function lh(o,s){if(s=s?ye(s):{},s.value=o.value,!s.tabindex&&o.tabIndex&&(s.tabindex=o.tabIndex),!s.placeholder&&o.placeholder&&(s.placeholder=o.placeholder),s.autofocus==null){var d=_e();s.autofocus=d==o||o.getAttribute("autofocus")!=null&&d==document.body}function f(){o.value=_.getValue()}var g;if(o.form&&(Be(o.form,"submit",f),!s.leaveSubmitMethodAlone)){var w=o.form;g=w.submit;try{var S=w.submit=function(){f(),w.submit=g,w.submit(),w.submit=S}}catch{}}s.finishInit=function(N){N.save=f,N.getTextArea=function(){return o},N.toTextArea=function(){N.toTextArea=isNaN,f(),o.parentNode.removeChild(N.getWrapperElement()),o.style.display="",o.form&&(Ct(o.form,"submit",f),!s.leaveSubmitMethodAlone&&typeof o.form.submit=="function"&&(o.form.submit=g))}},o.style.display="none";var _=tn(function(N){return o.parentNode.insertBefore(N,o.nextSibling)},s);return _}function hv(o){o.off=Ct,o.on=Be,o.wheelEventPixels=nw,o.Doc=or,o.splitLines=Ua,o.countColumn=re,o.findColumn=vt,o.isWordChar=ut,o.Pass=Ae,o.signal=Qe,o.Line=Vn,o.changeEnd=la,o.scrollbarModel=$c,o.Pos=Fe,o.cmpPos=F,o.modes=ni,o.mimeModes=Ur,o.resolveMode=Wa,o.getMode=$s,o.modeExtensions=xi,o.extendMode=bi,o.copyState=Wr,o.startState=Ql,o.innerMode=Yl,o.commands=as,o.keyMap=So,o.keyName=Zd,o.isModifierKey=Jc,o.lookupKey=Co,o.normalizeKeyMap=uw,o.StringStream=cn,o.SharedTextMarker=il,o.TextMarker=fa,o.LineWidget=wu,o.e_preventDefault=Un,o.e_stopPropagation=js,o.e_stop=za,o.addClass=Se,o.contains=Ne,o.rmClass=we,o.keyNames=ha}af(tn),To(tn);var sr="iter insert remove copy getEditor constructor".split(" ");for(var cf in or.prototype)or.prototype.hasOwnProperty(cf)&&pe(sr,cf)<0&&(tn.prototype[cf]=function(o){return function(){return o.apply(this.doc,arguments)}}(or.prototype[cf]));return wi(or),tn.inputStyles={textarea:xn,contenteditable:qt},tn.defineMode=function(o){!tn.defaults.mode&&o!="null"&&(tn.defaults.mode=o),yc.apply(this,arguments)},tn.defineMIME=yo,tn.defineMode("null",function(){return{token:function(o){return o.skipToEnd()}}}),tn.defineMIME("text/plain","null"),tn.defineExtension=function(o,s){tn.prototype[o]=s},tn.defineDocExtension=function(o,s){or.prototype[o]=s},tn.fromTextArea=lh,hv(tn),tn.version="5.65.1",tn})}(m1)),m1.exports}function vy(){return vy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vy.apply(this,arguments)}function Yh(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Yh=function(n){return typeof n}:Yh=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Yh(e)}var pN=function(){var e=function(n,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var l in a)a.hasOwnProperty(l)&&(i[l]=a[l])},e(n,r)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Tp,"__esModule",{value:!0});Tp.UnControlled=vN=Tp.Controlled=void 0;var my=O,ji=typeof navigator>"u"||An.PREVENT_CODEMIRROR_RENDER===!0,Ea;ji||(Ea=pd());var y1=function(){function e(){}return e.equals=function(t,n){var r=this,i=Object.keys,a=Yh(t),l=Yh(n);return t&&n&&a==="object"&&a===l?i(t).length===i(n).length&&i(t).every(function(c){return r.equals(t[c],n[c])}):t===n},e}(),gN=function(){function e(t,n){this.editor=t,this.props=n}return e.prototype.delegateCursor=function(t,n,r){var i=this.editor.getDoc();r&&this.editor.focus(),n?i.setCursor(t):i.setCursor(t,null,{scroll:!1})},e.prototype.delegateScroll=function(t){this.editor.scrollTo(t.x,t.y)},e.prototype.delegateSelection=function(t,n){var r=this.editor.getDoc();r.setSelections(t),n&&this.editor.focus()},e.prototype.apply=function(t){t&&t.selection&&t.selection.ranges&&this.delegateSelection(t.selection.ranges,t.selection.focus||!1),t&&t.cursor&&this.delegateCursor(t.cursor,t.autoScroll||!1,this.editor.getOption("autofocus")||!1),t&&t.scroll&&this.delegateScroll(t.scroll)},e.prototype.applyNext=function(t,n,r){t&&t.selection&&t.selection.ranges&&n&&n.selection&&n.selection.ranges&&!y1.equals(t.selection.ranges,n.selection.ranges)&&this.delegateSelection(n.selection.ranges,n.selection.focus||!1),t&&t.cursor&&n&&n.cursor&&!y1.equals(t.cursor,n.cursor)&&this.delegateCursor(r.cursor||n.cursor,n.autoScroll||!1,n.autoCursor||!1),t&&t.scroll&&n&&n.scroll&&!y1.equals(t.scroll,n.scroll)&&this.delegateScroll(n.scroll)},e.prototype.applyUserDefined=function(t,n){n&&n.cursor&&this.delegateCursor(n.cursor,t.autoScroll||!1,this.editor.getOption("autofocus")||!1)},e.prototype.wire=function(t){var n=this;Object.keys(t||{}).filter(function(r){return/^on/.test(r)}).forEach(function(r){switch(r){case"onBlur":n.editor.on("blur",function(i,a){n.props.onBlur(n.editor,a)});break;case"onContextMenu":{n.editor.on("contextmenu",function(i,a){n.props.onContextMenu(n.editor,a)});break}case"onCopy":{n.editor.on("copy",function(i,a){n.props.onCopy(n.editor,a)});break}case"onCursor":n.editor.on("cursorActivity",function(i){n.props.onCursor(n.editor,n.editor.getDoc().getCursor())});break;case"onCursorActivity":n.editor.on("cursorActivity",function(i){n.props.onCursorActivity(n.editor)});break;case"onCut":{n.editor.on("cut",function(i,a){n.props.onCut(n.editor,a)});break}case"onDblClick":{n.editor.on("dblclick",function(i,a){n.props.onDblClick(n.editor,a)});break}case"onDragEnter":n.editor.on("dragenter",function(i,a){n.props.onDragEnter(n.editor,a)});break;case"onDragLeave":{n.editor.on("dragleave",function(i,a){n.props.onDragLeave(n.editor,a)});break}case"onDragOver":n.editor.on("dragover",function(i,a){n.props.onDragOver(n.editor,a)});break;case"onDragStart":{n.editor.on("dragstart",function(i,a){n.props.onDragStart(n.editor,a)});break}case"onDrop":n.editor.on("drop",function(i,a){n.props.onDrop(n.editor,a)});break;case"onFocus":n.editor.on("focus",function(i,a){n.props.onFocus(n.editor,a)});break;case"onGutterClick":n.editor.on("gutterClick",function(i,a,l,c){n.props.onGutterClick(n.editor,a,l,c)});break;case"onInputRead":n.editor.on("inputRead",function(i,a){n.props.onInputRead(n.editor,a)});break;case"onKeyDown":n.editor.on("keydown",function(i,a){n.props.onKeyDown(n.editor,a)});break;case"onKeyHandled":n.editor.on("keyHandled",function(i,a,l){n.props.onKeyHandled(n.editor,a,l)});break;case"onKeyPress":n.editor.on("keypress",function(i,a){n.props.onKeyPress(n.editor,a)});break;case"onKeyUp":n.editor.on("keyup",function(i,a){n.props.onKeyUp(n.editor,a)});break;case"onMouseDown":{n.editor.on("mousedown",function(i,a){n.props.onMouseDown(n.editor,a)});break}case"onPaste":{n.editor.on("paste",function(i,a){n.props.onPaste(n.editor,a)});break}case"onRenderLine":{n.editor.on("renderLine",function(i,a,l){n.props.onRenderLine(n.editor,a,l)});break}case"onScroll":n.editor.on("scroll",function(i){n.props.onScroll(n.editor,n.editor.getScrollInfo())});break;case"onSelection":n.editor.on("beforeSelectionChange",function(i,a){n.props.onSelection(n.editor,a)});break;case"onTouchStart":{n.editor.on("touchstart",function(i,a){n.props.onTouchStart(n.editor,a)});break}case"onUpdate":n.editor.on("update",function(i){n.props.onUpdate(n.editor)});break;case"onViewportChange":n.editor.on("viewportChange",function(i,a,l){n.props.onViewportChange(n.editor,a,l)});break}})},e}(),NY=function(e){pN(t,e);function t(n){var r=e.call(this,n)||this;return ji||(r.applied=!1,r.appliedNext=!1,r.appliedUserDefined=!1,r.deferred=null,r.emulating=!1,r.hydrated=!1,r.initCb=function(){r.props.editorDidConfigure&&r.props.editorDidConfigure(r.editor)},r.mounted=!1),r}return t.prototype.hydrate=function(n){var r=this,i=n&&n.options?n.options:{},a=vy({},Ea.defaults,this.editor.options,i),l=Object.keys(a).some(function(c){return r.editor.getOption(c)!==a[c]});l&&Object.keys(a).forEach(function(c){i.hasOwnProperty(c)&&r.editor.getOption(c)!==a[c]&&(r.editor.setOption(c,a[c]),r.mirror.setOption(c,a[c]))}),this.hydrated||(this.deferred?this.resolveChange(n.value):this.initChange(n.value||"")),this.hydrated=!0},t.prototype.initChange=function(n){this.emulating=!0;var r=this.editor.getDoc(),i=r.lastLine(),a=r.getLine(r.lastLine()).length;r.replaceRange(n||"",{line:0,ch:0},{line:i,ch:a}),this.mirror.setValue(n),r.clearHistory(),this.mirror.clearHistory(),this.emulating=!1},t.prototype.resolveChange=function(n){this.emulating=!0;var r=this.editor.getDoc();if(this.deferred.origin==="undo"?r.undo():this.deferred.origin==="redo"?r.redo():r.replaceRange(this.deferred.text,this.deferred.from,this.deferred.to,this.deferred.origin),n&&n!==r.getValue()){var i=r.getCursor();r.setValue(n),r.setCursor(i)}this.emulating=!1,this.deferred=null},t.prototype.mirrorChange=function(n){var r=this.editor.getDoc();return n.origin==="undo"?(r.setHistory(this.mirror.getHistory()),this.mirror.undo()):n.origin==="redo"?(r.setHistory(this.mirror.getHistory()),this.mirror.redo()):this.mirror.replaceRange(n.text,n.from,n.to,n.origin),this.mirror.getValue()},t.prototype.componentDidMount=function(){var n=this;ji||(this.props.defineMode&&this.props.defineMode.name&&this.props.defineMode.fn&&Ea.defineMode(this.props.defineMode.name,this.props.defineMode.fn),this.editor=Ea(this.ref,this.props.options),this.shared=new gN(this.editor,this.props),this.mirror=Ea(function(){},this.props.options),this.editor.on("electricInput",function(){n.mirror.setHistory(n.editor.getDoc().getHistory())}),this.editor.on("cursorActivity",function(){n.mirror.setCursor(n.editor.getDoc().getCursor())}),this.editor.on("beforeChange",function(r,i){if(!n.emulating){i.cancel(),n.deferred=i;var a=n.mirrorChange(n.deferred);n.props.onBeforeChange&&n.props.onBeforeChange(n.editor,n.deferred,a)}}),this.editor.on("change",function(r,i){n.mounted&&n.props.onChange&&n.props.onChange(n.editor,i,n.editor.getValue())}),this.hydrate(this.props),this.shared.apply(this.props),this.applied=!0,this.mounted=!0,this.shared.wire(this.props),this.editor.getOption("autofocus")&&this.editor.focus(),this.props.editorDidMount&&this.props.editorDidMount(this.editor,this.editor.getValue(),this.initCb))},t.prototype.componentDidUpdate=function(n){if(!ji){var r={cursor:null};this.props.value!==n.value&&(this.hydrated=!1),!this.props.autoCursor&&this.props.autoCursor!==void 0&&(r.cursor=this.editor.getDoc().getCursor()),this.hydrate(this.props),this.appliedNext||(this.shared.applyNext(n,this.props,r),this.appliedNext=!0),this.shared.applyUserDefined(n,r),this.appliedUserDefined=!0}},t.prototype.componentWillUnmount=function(){ji||this.props.editorWillUnmount&&this.props.editorWillUnmount(Ea)},t.prototype.shouldComponentUpdate=function(n,r){return!ji},t.prototype.render=function(){var n=this;if(ji)return null;var r=this.props.className?"react-codemirror2 "+this.props.className:"react-codemirror2";return my.createElement("div",{className:r,ref:function(a){return n.ref=a}})},t}(my.Component),vN=Tp.Controlled=NY,IY=function(e){pN(t,e);function t(n){var r=e.call(this,n)||this;return ji||(r.applied=!1,r.appliedUserDefined=!1,r.continueChange=!1,r.detached=!1,r.hydrated=!1,r.initCb=function(){r.props.editorDidConfigure&&r.props.editorDidConfigure(r.editor)},r.mounted=!1,r.onBeforeChangeCb=function(){r.continueChange=!0}),r}return t.prototype.hydrate=function(n){var r=this,i=n&&n.options?n.options:{},a=vy({},Ea.defaults,this.editor.options,i),l=Object.keys(a).some(function(m){return r.editor.getOption(m)!==a[m]});if(l&&Object.keys(a).forEach(function(m){i.hasOwnProperty(m)&&r.editor.getOption(m)!==a[m]&&r.editor.setOption(m,a[m])}),!this.hydrated){var c=this.editor.getDoc(),p=c.lastLine(),v=c.getLine(c.lastLine()).length;c.replaceRange(n.value||"",{line:0,ch:0},{line:p,ch:v})}this.hydrated=!0},t.prototype.componentDidMount=function(){var n=this;ji||(this.detached=this.props.detach===!0,this.props.defineMode&&this.props.defineMode.name&&this.props.defineMode.fn&&Ea.defineMode(this.props.defineMode.name,this.props.defineMode.fn),this.editor=Ea(this.ref,this.props.options),this.shared=new gN(this.editor,this.props),this.editor.on("beforeChange",function(r,i){n.props.onBeforeChange&&n.props.onBeforeChange(n.editor,i,n.editor.getValue(),n.onBeforeChangeCb)}),this.editor.on("change",function(r,i){!n.mounted||!n.props.onChange||(n.props.onBeforeChange?n.continueChange&&n.props.onChange(n.editor,i,n.editor.getValue()):n.props.onChange(n.editor,i,n.editor.getValue()))}),this.hydrate(this.props),this.shared.apply(this.props),this.applied=!0,this.mounted=!0,this.shared.wire(this.props),this.editor.getDoc().clearHistory(),this.props.editorDidMount&&this.props.editorDidMount(this.editor,this.editor.getValue(),this.initCb))},t.prototype.componentDidUpdate=function(n){if(this.detached&&this.props.detach===!1&&(this.detached=!1,n.editorDidAttach&&n.editorDidAttach(this.editor)),!this.detached&&this.props.detach===!0&&(this.detached=!0,n.editorDidDetach&&n.editorDidDetach(this.editor)),!(ji||this.detached)){var r={cursor:null};this.props.value!==n.value&&(this.hydrated=!1,this.applied=!1,this.appliedUserDefined=!1),!n.autoCursor&&n.autoCursor!==void 0&&(r.cursor=this.editor.getDoc().getCursor()),this.hydrate(this.props),this.applied||(this.shared.apply(n),this.applied=!0),this.appliedUserDefined||(this.shared.applyUserDefined(n,r),this.appliedUserDefined=!0)}},t.prototype.componentWillUnmount=function(){ji||this.props.editorWillUnmount&&this.props.editorWillUnmount(Ea)},t.prototype.shouldComponentUpdate=function(n,r){var i=!0;return ji&&(i=!1),this.detached&&n.detach&&(i=!1),i},t.prototype.render=function(){var n=this;if(ji)return null;var r=this.props.className?"react-codemirror2 "+this.props.className:"react-codemirror2";return my.createElement("div",{className:r,ref:function(a){return n.ref=a}})},t}(my.Component);Tp.UnControlled=IY;(function(e,t){(function(n){n(pd())})(function(n){n.defineOption("placeholder","",function(v,m,x){var E=x&&x!=n.Init;if(m&&!E)v.on("blur",l),v.on("change",c),v.on("swapDoc",c),n.on(v.getInputField(),"compositionupdate",v.state.placeholderCompose=function(){a(v)}),c(v);else if(!m&&E){v.off("blur",l),v.off("change",c),v.off("swapDoc",c),n.off(v.getInputField(),"compositionupdate",v.state.placeholderCompose),r(v);var C=v.getWrapperElement();C.className=C.className.replace(" CodeMirror-empty","")}m&&!v.hasFocus()&&l(v)});function r(v){v.state.placeholder&&(v.state.placeholder.parentNode.removeChild(v.state.placeholder),v.state.placeholder=null)}function i(v){r(v);var m=v.state.placeholder=document.createElement("pre");m.style.cssText="height: 0; overflow: visible",m.style.direction=v.getOption("direction"),m.className="CodeMirror-placeholder CodeMirror-line-like";var x=v.getOption("placeholder");typeof x=="string"&&(x=document.createTextNode(x)),m.appendChild(x),v.display.lineSpace.insertBefore(m,v.display.lineSpace.firstChild)}function a(v){setTimeout(function(){var m=!1;if(v.lineCount()==1){var x=v.getInputField();m=x.nodeName=="TEXTAREA"?!v.getLine(0).length:!/[^\u200b]/.test(x.querySelector(".CodeMirror-line").textContent)}m?i(v):r(v)},20)}function l(v){p(v)&&i(v)}function c(v){var m=v.getWrapperElement(),x=p(v);m.className=m.className.replace(" CodeMirror-empty","")+(x?" CodeMirror-empty":""),x?i(v):r(v)}function p(v){return v.lineCount()===1&&v.getLine(0)===""}})})();(function(e,t){(function(n){n(pd())})(function(n){var r="CodeMirror-hint",i="CodeMirror-hint-active";n.showHint=function(P,M,z){if(!M)return P.showHint(z);z&&z.async&&(M.async=!0);var $={hint:M};if(z)for(var U in z)$[U]=z[U];return P.showHint($)},n.defineExtension("showHint",function(P){P=p(this,this.getCursor("start"),P);var M=this.listSelections();if(!(M.length>1)){if(this.somethingSelected()){if(!P.hint.supportsSelection)return;for(var z=0;z<M.length;z++)if(M[z].head.line!=M[z].anchor.line)return}this.state.completionActive&&this.state.completionActive.close();var $=this.state.completionActive=new a(this,P);$.options.hint&&(n.signal(this,"startCompletion",this),$.update(!0))}}),n.defineExtension("closeHint",function(){this.state.completionActive&&this.state.completionActive.close()});function a(P,M){if(this.cm=P,this.options=M,this.widget=null,this.debounce=0,this.tick=0,this.startPos=this.cm.getCursor("start"),this.startLen=this.cm.getLine(this.startPos.line).length-this.cm.getSelection().length,this.options.updateOnCursorActivity){var z=this;P.on("cursorActivity",this.activityFunc=function(){z.cursorActivity()})}}var l=window.requestAnimationFrame||function(P){return setTimeout(P,1e3/60)},c=window.cancelAnimationFrame||clearTimeout;a.prototype={close:function(){this.active()&&(this.cm.state.completionActive=null,this.tick=null,this.options.updateOnCursorActivity&&this.cm.off("cursorActivity",this.activityFunc),this.widget&&this.data&&n.signal(this.data,"close"),this.widget&&this.widget.close(),n.signal(this.cm,"endCompletion",this.cm))},active:function(){return this.cm.state.completionActive==this},pick:function(P,M){var z=P.list[M],$=this;this.cm.operation(function(){z.hint?z.hint($.cm,P,z):$.cm.replaceRange(v(z),z.from||P.from,z.to||P.to,"complete"),n.signal(P,"pick",z),$.cm.scrollIntoView()}),this.options.closeOnPick&&this.close()},cursorActivity:function(){this.debounce&&(c(this.debounce),this.debounce=0);var P=this.startPos;this.data&&(P=this.data.from);var M=this.cm.getCursor(),z=this.cm.getLine(M.line);if(M.line!=this.startPos.line||z.length-M.ch!=this.startLen-this.startPos.ch||M.ch<P.ch||this.cm.somethingSelected()||!M.ch||this.options.closeCharacters.test(z.charAt(M.ch-1)))this.close();else{var $=this;this.debounce=l(function(){$.update()}),this.widget&&this.widget.disable()}},update:function(P){if(this.tick!=null){var M=this,z=++this.tick;I(this.options.hint,this.cm,this.options,function($){M.tick==z&&M.finishUpdate($,P)})}},finishUpdate:function(P,M){this.data&&n.signal(this.data,"update");var z=this.widget&&this.widget.picked||M&&this.options.completeSingle;this.widget&&this.widget.close(),this.data=P,P&&P.list.length&&(z&&P.list.length==1?this.pick(P,0):(this.widget=new E(this,P),n.signal(P,"shown")))}};function p(P,M,z){var $=P.options.hintOptions,U={};for(var X in A)U[X]=A[X];if($)for(var X in $)$[X]!==void 0&&(U[X]=$[X]);if(z)for(var X in z)z[X]!==void 0&&(U[X]=z[X]);return U.hint.resolve&&(U.hint=U.hint.resolve(P,M)),U}function v(P){return typeof P=="string"?P:P.text}function m(P,M){var z={Up:function(){M.moveFocus(-1)},Down:function(){M.moveFocus(1)},PageUp:function(){M.moveFocus(-M.menuSize()+1,!0)},PageDown:function(){M.moveFocus(M.menuSize()-1,!0)},Home:function(){M.setFocus(0)},End:function(){M.setFocus(M.length-1)},Enter:M.pick,Tab:M.pick,Esc:M.close},$=/Mac/.test(navigator.platform);$&&(z["Ctrl-P"]=function(){M.moveFocus(-1)},z["Ctrl-N"]=function(){M.moveFocus(1)});var U=P.options.customKeys,X=U?{}:z;function V(me,we){var ze;typeof we!="string"?ze=function(J){return we(J,M)}:z.hasOwnProperty(we)?ze=z[we]:ze=we,X[me]=ze}if(U)for(var ne in U)U.hasOwnProperty(ne)&&V(ne,U[ne]);var he=P.options.extraKeys;if(he)for(var ne in he)he.hasOwnProperty(ne)&&V(ne,he[ne]);return X}function x(P,M){for(;M&&M!=P;){if(M.nodeName.toUpperCase()==="LI"&&M.parentNode==P)return M;M=M.parentNode}}function E(P,M){this.id="cm-complete-"+Math.floor(Math.random(1e6)),this.completion=P,this.data=M,this.picked=!1;var z=this,$=P.cm,U=$.getInputField().ownerDocument,X=U.defaultView||U.parentWindow,V=this.hints=U.createElement("ul");V.setAttribute("role","listbox"),V.setAttribute("aria-expanded","true"),V.id=this.id;var ne=P.cm.options.theme;V.className="CodeMirror-hints "+ne,this.selectedHint=M.selectedHint||0;for(var he=M.list,me=0;me<he.length;++me){var we=V.appendChild(U.createElement("li")),ze=he[me],J=r+(me!=this.selectedHint?"":" "+i);ze.className!=null&&(J=ze.className+" "+J),we.className=J,me==this.selectedHint&&we.setAttribute("aria-selected","true"),we.id=this.id+"-"+me,we.setAttribute("role","option"),ze.render?ze.render(we,M,ze):we.appendChild(U.createTextNode(ze.displayText||v(ze))),we.hintId=me}var Z=P.options.container||U.body,q=$.cursorCoords(P.options.alignWithWord?M.from:null),Me=q.left,Ne=q.bottom,_e=!0,Se=0,Le=0;if(Z!==U.body){var te=["absolute","relative","fixed"].indexOf(X.getComputedStyle(Z).position)!==-1,ce=te?Z:Z.offsetParent,ye=ce.getBoundingClientRect(),re=U.body.getBoundingClientRect();Se=ye.left-re.left-ce.scrollLeft,Le=ye.top-re.top-ce.scrollTop}V.style.left=Me-Se+"px",V.style.top=Ne-Le+"px";var se=X.innerWidth||Math.max(U.body.offsetWidth,U.documentElement.offsetWidth),pe=X.innerHeight||Math.max(U.body.offsetHeight,U.documentElement.offsetHeight);Z.appendChild(V),$.getInputField().setAttribute("aria-autocomplete","list"),$.getInputField().setAttribute("aria-owns",this.id),$.getInputField().setAttribute("aria-activedescendant",this.id+"-"+this.selectedHint);var Ce=P.options.moveOnOverlap?V.getBoundingClientRect():new DOMRect,Ae=P.options.paddingForScrollbar?V.scrollHeight>V.clientHeight+1:!1,He;setTimeout(function(){He=$.getScrollInfo()});var tt=Ce.bottom-pe;if(tt>0){var Ye=Ce.bottom-Ce.top,vt=q.top-(q.bottom-Ce.top);if(vt-Ye>0)V.style.top=(Ne=q.top-Ye-Le)+"px",_e=!1;else if(Ye>pe){V.style.height=pe-5+"px",V.style.top=(Ne=q.bottom-Ce.top-Le)+"px";var Bt=$.getCursor();M.from.ch!=Bt.ch&&(q=$.cursorCoords(Bt),V.style.left=(Me=q.left-Se)+"px",Ce=V.getBoundingClientRect())}}var Pt=Ce.right-se;if(Ae&&(Pt+=$.display.nativeBarWidth),Pt>0&&(Ce.right-Ce.left>se&&(V.style.width=se-5+"px",Pt-=Ce.right-Ce.left-se),V.style.left=(Me=q.left-Pt-Se)+"px"),Ae)for(var rt=V.firstChild;rt;rt=rt.nextSibling)rt.style.paddingRight=$.display.nativeBarWidth+"px";if($.addKeyMap(this.keyMap=m(P,{moveFocus:function(Rt,$t){z.changeActive(z.selectedHint+Rt,$t)},setFocus:function(Rt){z.changeActive(Rt)},menuSize:function(){return z.screenAmount()},length:he.length,close:function(){P.close()},pick:function(){z.pick()},data:M})),P.options.closeOnUnfocus){var pt;$.on("blur",this.onBlur=function(){pt=setTimeout(function(){P.close()},100)}),$.on("focus",this.onFocus=function(){clearTimeout(pt)})}$.on("scroll",this.onScroll=function(){var Rt=$.getScrollInfo(),$t=$.getWrapperElement().getBoundingClientRect();He||(He=$.getScrollInfo());var Wt=Ne+He.top-Rt.top,ut=Wt-(X.pageYOffset||(U.documentElement||U.body).scrollTop);if(_e||(ut+=V.offsetHeight),ut<=$t.top||ut>=$t.bottom)return P.close();V.style.top=Wt+"px",V.style.left=Me+He.left-Rt.left+"px"}),n.on(V,"dblclick",function(Rt){var $t=x(V,Rt.target||Rt.srcElement);$t&&$t.hintId!=null&&(z.changeActive($t.hintId),z.pick())}),n.on(V,"click",function(Rt){var $t=x(V,Rt.target||Rt.srcElement);$t&&$t.hintId!=null&&(z.changeActive($t.hintId),P.options.completeOnSingleClick&&z.pick())}),n.on(V,"mousedown",function(){setTimeout(function(){$.focus()},20)});var kt=this.getSelectedHintRange();return(kt.from!==0||kt.to!==0)&&this.scrollToActive(),n.signal(M,"select",he[this.selectedHint],V.childNodes[this.selectedHint]),!0}E.prototype={close:function(){if(this.completion.widget==this){this.completion.widget=null,this.hints.parentNode&&this.hints.parentNode.removeChild(this.hints),this.completion.cm.removeKeyMap(this.keyMap);var P=this.completion.cm.getInputField();P.removeAttribute("aria-activedescendant"),P.removeAttribute("aria-owns");var M=this.completion.cm;this.completion.options.closeOnUnfocus&&(M.off("blur",this.onBlur),M.off("focus",this.onFocus)),M.off("scroll",this.onScroll)}},disable:function(){this.completion.cm.removeKeyMap(this.keyMap);var P=this;this.keyMap={Enter:function(){P.picked=!0}},this.completion.cm.addKeyMap(this.keyMap)},pick:function(){this.completion.pick(this.data,this.selectedHint)},changeActive:function(P,M){if(P>=this.data.list.length?P=M?this.data.list.length-1:0:P<0&&(P=M?0:this.data.list.length-1),this.selectedHint!=P){var z=this.hints.childNodes[this.selectedHint];z&&(z.className=z.className.replace(" "+i,""),z.removeAttribute("aria-selected")),z=this.hints.childNodes[this.selectedHint=P],z.className+=" "+i,z.setAttribute("aria-selected","true"),this.completion.cm.getInputField().setAttribute("aria-activedescendant",z.id),this.scrollToActive(),n.signal(this.data,"select",this.data.list[this.selectedHint],z)}},scrollToActive:function(){var P=this.getSelectedHintRange(),M=this.hints.childNodes[P.from],z=this.hints.childNodes[P.to],$=this.hints.firstChild;M.offsetTop<this.hints.scrollTop?this.hints.scrollTop=M.offsetTop-$.offsetTop:z.offsetTop+z.offsetHeight>this.hints.scrollTop+this.hints.clientHeight&&(this.hints.scrollTop=z.offsetTop+z.offsetHeight-this.hints.clientHeight+$.offsetTop)},screenAmount:function(){return Math.floor(this.hints.clientHeight/this.hints.firstChild.offsetHeight)||1},getSelectedHintRange:function(){var P=this.completion.options.scrollMargin||0;return{from:Math.max(0,this.selectedHint-P),to:Math.min(this.data.list.length-1,this.selectedHint+P)}}};function C(P,M){if(!P.somethingSelected())return M;for(var z=[],$=0;$<M.length;$++)M[$].supportsSelection&&z.push(M[$]);return z}function I(P,M,z,$){if(P.async)P(M,$,z);else{var U=P(M,z);U&&U.then?U.then($):$(U)}}function j(P,M){var z=P.getHelpers(M,"hint"),$;if(z.length){var U=function(X,V,ne){var he=C(X,z);function me(we){if(we==he.length)return V(null);I(he[we],X,ne,function(ze){ze&&ze.list.length>0?V(ze):me(we+1)})}me(0)};return U.async=!0,U.supportsSelection=!0,U}else return($=P.getHelper(P.getCursor(),"hintWords"))?function(X){return n.hint.fromList(X,{words:$})}:n.hint.anyword?function(X,V){return n.hint.anyword(X,V)}:function(){}}n.registerHelper("hint","auto",{resolve:j}),n.registerHelper("hint","fromList",function(P,M){var z=P.getCursor(),$=P.getTokenAt(z),U,X=n.Pos(z.line,$.start),V=z;$.start<z.ch&&/\w/.test($.string.charAt(z.ch-$.start-1))?U=$.string.substr(0,z.ch-$.start):(U="",X=z);for(var ne=[],he=0;he<M.words.length;he++){var me=M.words[he];me.slice(0,U.length)==U&&ne.push(me)}if(ne.length)return{list:ne,from:X,to:V}}),n.commands.autocomplete=n.showHint;var A={hint:n.hint.auto,completeSingle:!0,alignWithWord:!0,closeCharacters:/[\s()\[\]{};:>,]/,closeOnPick:!0,closeOnUnfocus:!0,updateOnCursorActivity:!0,completeOnSingleClick:!0,container:null,customKeys:null,extraKeys:null,paddingForScrollbar:!0,moveOnOverlap:!0};n.defineOption("hintOptions",null)})})();(function(e,t){(function(n){n(pd())})(function(n){n.defineMode("css",function(me,we){var ze=we.inline;we.propertyKeywords||(we=n.resolveMode("text/css"));var J=me.indentUnit,Z=we.tokenHooks,q=we.documentTypes||{},Me=we.mediaTypes||{},Ne=we.mediaFeatures||{},_e=we.mediaValueKeywords||{},Se=we.propertyKeywords||{},Le=we.nonStandardPropertyKeywords||{},te=we.fontProperties||{},ce=we.counterDescriptors||{},ye=we.colorKeywords||{},re=we.valueKeywords||{},se=we.allowNested,pe=we.lineComment,Ce=we.supportsAtComponent===!0,Ae=me.highlightNonStandardPropertyKeywords!==!1,He,tt;function Ye(fe,Ee){return He=Ee,fe}function vt(fe,Ee){var ge=fe.next();if(Z[ge]){var We=Z[ge](fe,Ee);if(We!==!1)return We}if(ge=="@")return fe.eatWhile(/[\w\\\-]/),Ye("def",fe.current());if(ge=="="||(ge=="~"||ge=="|")&&fe.eat("="))return Ye(null,"compare");if(ge=='"'||ge=="'")return Ee.tokenize=Bt(ge),Ee.tokenize(fe,Ee);if(ge=="#")return fe.eatWhile(/[\w\\\-]/),Ye("atom","hash");if(ge=="!")return fe.match(/^\s*\w*/),Ye("keyword","important");if(/\d/.test(ge)||ge=="."&&fe.eat(/\d/))return fe.eatWhile(/[\w.%]/),Ye("number","unit");if(ge==="-"){if(/[\d.]/.test(fe.peek()))return fe.eatWhile(/[\w.%]/),Ye("number","unit");if(fe.match(/^-[\w\\\-]*/))return fe.eatWhile(/[\w\\\-]/),fe.match(/^\s*:/,!1)?Ye("variable-2","variable-definition"):Ye("variable-2","variable");if(fe.match(/^\w+-/))return Ye("meta","meta")}else return/[,+>*\/]/.test(ge)?Ye(null,"select-op"):ge=="."&&fe.match(/^-?[_a-z][_a-z0-9-]*/i)?Ye("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(ge)?Ye(null,ge):fe.match(/^[\w-.]+(?=\()/)?(/^(url(-prefix)?|domain|regexp)$/i.test(fe.current())&&(Ee.tokenize=Pt),Ye("variable callee","variable")):/[\w\\\-]/.test(ge)?(fe.eatWhile(/[\w\\\-]/),Ye("property","word")):Ye(null,null)}function Bt(fe){return function(Ee,ge){for(var We=!1,Lt;(Lt=Ee.next())!=null;){if(Lt==fe&&!We){fe==")"&&Ee.backUp(1);break}We=!We&&Lt=="\\"}return(Lt==fe||!We&&fe!=")")&&(ge.tokenize=null),Ye("string","string")}}function Pt(fe,Ee){return fe.next(),fe.match(/^\s*[\"\')]/,!1)?Ee.tokenize=null:Ee.tokenize=Bt(")"),Ye(null,"(")}function rt(fe,Ee,ge){this.type=fe,this.indent=Ee,this.prev=ge}function pt(fe,Ee,ge,We){return fe.context=new rt(ge,Ee.indentation()+(We===!1?0:J),fe.context),ge}function kt(fe){return fe.context.prev&&(fe.context=fe.context.prev),fe.context.type}function Rt(fe,Ee,ge){return ut[ge.context.type](fe,Ee,ge)}function $t(fe,Ee,ge,We){for(var Lt=We||1;Lt>0;Lt--)ge.context=ge.context.prev;return Rt(fe,Ee,ge)}function Wt(fe){var Ee=fe.current().toLowerCase();re.hasOwnProperty(Ee)?tt="atom":ye.hasOwnProperty(Ee)?tt="keyword":tt="variable"}var ut={};return ut.top=function(fe,Ee,ge){if(fe=="{")return pt(ge,Ee,"block");if(fe=="}"&&ge.context.prev)return kt(ge);if(Ce&&/@component/i.test(fe))return pt(ge,Ee,"atComponentBlock");if(/^@(-moz-)?document$/i.test(fe))return pt(ge,Ee,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/i.test(fe))return pt(ge,Ee,"atBlock");if(/^@(font-face|counter-style)/i.test(fe))return ge.stateArg=fe,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(fe))return"keyframes";if(fe&&fe.charAt(0)=="@")return pt(ge,Ee,"at");if(fe=="hash")tt="builtin";else if(fe=="word")tt="tag";else{if(fe=="variable-definition")return"maybeprop";if(fe=="interpolation")return pt(ge,Ee,"interpolation");if(fe==":")return"pseudo";if(se&&fe=="(")return pt(ge,Ee,"parens")}return ge.context.type},ut.block=function(fe,Ee,ge){if(fe=="word"){var We=Ee.current().toLowerCase();return Se.hasOwnProperty(We)?(tt="property","maybeprop"):Le.hasOwnProperty(We)?(tt=Ae?"string-2":"property","maybeprop"):se?(tt=Ee.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(tt+=" error","maybeprop")}else return fe=="meta"?"block":!se&&(fe=="hash"||fe=="qualifier")?(tt="error","block"):ut.top(fe,Ee,ge)},ut.maybeprop=function(fe,Ee,ge){return fe==":"?pt(ge,Ee,"prop"):Rt(fe,Ee,ge)},ut.prop=function(fe,Ee,ge){if(fe==";")return kt(ge);if(fe=="{"&&se)return pt(ge,Ee,"propBlock");if(fe=="}"||fe=="{")return $t(fe,Ee,ge);if(fe=="(")return pt(ge,Ee,"parens");if(fe=="hash"&&!/^#([0-9a-fA-f]{3,4}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/.test(Ee.current()))tt+=" error";else if(fe=="word")Wt(Ee);else if(fe=="interpolation")return pt(ge,Ee,"interpolation");return"prop"},ut.propBlock=function(fe,Ee,ge){return fe=="}"?kt(ge):fe=="word"?(tt="property","maybeprop"):ge.context.type},ut.parens=function(fe,Ee,ge){return fe=="{"||fe=="}"?$t(fe,Ee,ge):fe==")"?kt(ge):fe=="("?pt(ge,Ee,"parens"):fe=="interpolation"?pt(ge,Ee,"interpolation"):(fe=="word"&&Wt(Ee),"parens")},ut.pseudo=function(fe,Ee,ge){return fe=="meta"?"pseudo":fe=="word"?(tt="variable-3",ge.context.type):Rt(fe,Ee,ge)},ut.documentTypes=function(fe,Ee,ge){return fe=="word"&&q.hasOwnProperty(Ee.current())?(tt="tag",ge.context.type):ut.atBlock(fe,Ee,ge)},ut.atBlock=function(fe,Ee,ge){if(fe=="(")return pt(ge,Ee,"atBlock_parens");if(fe=="}"||fe==";")return $t(fe,Ee,ge);if(fe=="{")return kt(ge)&&pt(ge,Ee,se?"block":"top");if(fe=="interpolation")return pt(ge,Ee,"interpolation");if(fe=="word"){var We=Ee.current().toLowerCase();We=="only"||We=="not"||We=="and"||We=="or"?tt="keyword":Me.hasOwnProperty(We)?tt="attribute":Ne.hasOwnProperty(We)?tt="property":_e.hasOwnProperty(We)?tt="keyword":Se.hasOwnProperty(We)?tt="property":Le.hasOwnProperty(We)?tt=Ae?"string-2":"property":re.hasOwnProperty(We)?tt="atom":ye.hasOwnProperty(We)?tt="keyword":tt="error"}return ge.context.type},ut.atComponentBlock=function(fe,Ee,ge){return fe=="}"?$t(fe,Ee,ge):fe=="{"?kt(ge)&&pt(ge,Ee,se?"block":"top",!1):(fe=="word"&&(tt="error"),ge.context.type)},ut.atBlock_parens=function(fe,Ee,ge){return fe==")"?kt(ge):fe=="{"||fe=="}"?$t(fe,Ee,ge,2):ut.atBlock(fe,Ee,ge)},ut.restricted_atBlock_before=function(fe,Ee,ge){return fe=="{"?pt(ge,Ee,"restricted_atBlock"):fe=="word"&&ge.stateArg=="@counter-style"?(tt="variable","restricted_atBlock_before"):Rt(fe,Ee,ge)},ut.restricted_atBlock=function(fe,Ee,ge){return fe=="}"?(ge.stateArg=null,kt(ge)):fe=="word"?(ge.stateArg=="@font-face"&&!te.hasOwnProperty(Ee.current().toLowerCase())||ge.stateArg=="@counter-style"&&!ce.hasOwnProperty(Ee.current().toLowerCase())?tt="error":tt="property","maybeprop"):"restricted_atBlock"},ut.keyframes=function(fe,Ee,ge){return fe=="word"?(tt="variable","keyframes"):fe=="{"?pt(ge,Ee,"top"):Rt(fe,Ee,ge)},ut.at=function(fe,Ee,ge){return fe==";"?kt(ge):fe=="{"||fe=="}"?$t(fe,Ee,ge):(fe=="word"?tt="tag":fe=="hash"&&(tt="builtin"),"at")},ut.interpolation=function(fe,Ee,ge){return fe=="}"?kt(ge):fe=="{"||fe==";"?$t(fe,Ee,ge):(fe=="word"?tt="variable":fe!="variable"&&fe!="("&&fe!=")"&&(tt="error"),"interpolation")},{startState:function(fe){return{tokenize:null,state:ze?"block":"top",stateArg:null,context:new rt(ze?"block":"top",fe||0,null)}},token:function(fe,Ee){if(!Ee.tokenize&&fe.eatSpace())return null;var ge=(Ee.tokenize||vt)(fe,Ee);return ge&&typeof ge=="object"&&(He=ge[1],ge=ge[0]),tt=ge,He!="comment"&&(Ee.state=ut[Ee.state](He,fe,Ee)),tt},indent:function(fe,Ee){var ge=fe.context,We=Ee&&Ee.charAt(0),Lt=ge.indent;return ge.type=="prop"&&(We=="}"||We==")")&&(ge=ge.prev),ge.prev&&(We=="}"&&(ge.type=="block"||ge.type=="top"||ge.type=="interpolation"||ge.type=="restricted_atBlock")?(ge=ge.prev,Lt=ge.indent):(We==")"&&(ge.type=="parens"||ge.type=="atBlock_parens")||We=="{"&&(ge.type=="at"||ge.type=="atBlock"))&&(Lt=Math.max(0,ge.indent-J))),Lt},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:pe,fold:"brace"}});function r(me){for(var we={},ze=0;ze<me.length;++ze)we[me[ze].toLowerCase()]=!0;return we}var i=["domain","regexp","url","url-prefix"],a=r(i),l=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],c=r(l),p=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover","prefers-color-scheme","dynamic-range","video-dynamic-range"],v=r(p),m=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive","dark","light","standard","high"],x=r(m),E=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","all","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","binding","bleed","block-size","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-content","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","inset","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-height-step","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotate","rotation","rotation-point","row-gap","ruby-align","ruby-overhang","ruby-position","ruby-span","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-type","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-orientation","text-outline","text-overflow","text-rendering","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","touch-action","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","paint-order","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],C=r(E),I=["accent-color","aspect-ratio","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","content-visibility","margin-block","margin-block-end","margin-block-start","margin-inline","margin-inline-end","margin-inline-start","overflow-anchor","overscroll-behavior","padding-block","padding-block-end","padding-block-start","padding-inline","padding-inline-end","padding-inline-start","scroll-snap-stop","scrollbar-3d-light-color","scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-track-color","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","shape-inside","zoom"],j=r(I),A=["font-display","font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],P=r(A),M=["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"],z=r(M),$=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],U=r($),X=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","blur","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","brightness","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","conic-gradient","contain","content","contents","content-box","context-menu","continuous","contrast","copy","counter","counters","cover","crop","cross","crosshair","cubic-bezier","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","drop-shadow","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","grayscale","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","hue-rotate","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","manipulation","match","matrix","matrix3d","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiple_mask_images","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeating-conic-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturate","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","sepia","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],V=r(X),ne=i.concat(l).concat(p).concat(m).concat(E).concat(I).concat($).concat(X);n.registerHelper("hintWords","css",ne);function he(me,we){for(var ze=!1,J;(J=me.next())!=null;){if(ze&&J=="/"){we.tokenize=null;break}ze=J=="*"}return["comment","comment"]}n.defineMIME("text/css",{documentTypes:a,mediaTypes:c,mediaFeatures:v,mediaValueKeywords:x,propertyKeywords:C,nonStandardPropertyKeywords:j,fontProperties:P,counterDescriptors:z,colorKeywords:U,valueKeywords:V,tokenHooks:{"/":function(me,we){return me.eat("*")?(we.tokenize=he,he(me,we)):!1}},name:"css"}),n.defineMIME("text/x-scss",{mediaTypes:c,mediaFeatures:v,mediaValueKeywords:x,propertyKeywords:C,nonStandardPropertyKeywords:j,colorKeywords:U,valueKeywords:V,fontProperties:P,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(me,we){return me.eat("/")?(me.skipToEnd(),["comment","comment"]):me.eat("*")?(we.tokenize=he,he(me,we)):["operator","operator"]},":":function(me){return me.match(/^\s*\{/,!1)?[null,null]:!1},$:function(me){return me.match(/^[\w-]+/),me.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(me){return me.eat("{")?[null,"interpolation"]:!1}},name:"css",helperType:"scss"}),n.defineMIME("text/x-less",{mediaTypes:c,mediaFeatures:v,mediaValueKeywords:x,propertyKeywords:C,nonStandardPropertyKeywords:j,colorKeywords:U,valueKeywords:V,fontProperties:P,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(me,we){return me.eat("/")?(me.skipToEnd(),["comment","comment"]):me.eat("*")?(we.tokenize=he,he(me,we)):["operator","operator"]},"@":function(me){return me.eat("{")?[null,"interpolation"]:me.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/i,!1)?!1:(me.eatWhile(/[\w\\\-]/),me.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),n.defineMIME("text/x-gss",{documentTypes:a,mediaTypes:c,mediaFeatures:v,propertyKeywords:C,nonStandardPropertyKeywords:j,fontProperties:P,counterDescriptors:z,colorKeywords:U,valueKeywords:V,supportsAtComponent:!0,tokenHooks:{"/":function(me,we){return me.eat("*")?(we.tokenize=he,he(me,we)):!1}},name:"css",helperType:"gss"})})})();(function(e,t){(function(n){n(pd())})(function(n){n.defineMode("javascript",function(r,i){var a=r.indentUnit,l=i.statementIndent,c=i.jsonld,p=i.json||c,v=i.trackScope!==!1,m=i.typescript,x=i.wordCharacters||/[\w$\xa1-\uffff]/,E=function(){function F(Xn){return{type:Xn,style:"keyword"}}var Q=F("keyword a"),ke=F("keyword b"),je=F("keyword c"),gt=F("keyword d"),Ft=F("operator"),Ve={type:"atom",style:"atom"};return{if:F("if"),while:Q,with:Q,else:ke,do:ke,try:ke,finally:ke,return:gt,break:gt,continue:gt,new:F("new"),delete:je,void:je,throw:je,debugger:F("debugger"),var:F("var"),const:F("var"),let:F("var"),function:F("function"),catch:F("catch"),for:F("for"),switch:F("switch"),case:F("case"),default:F("default"),in:Ft,typeof:Ft,instanceof:Ft,true:Ve,false:Ve,null:Ve,undefined:Ve,NaN:Ve,Infinity:Ve,this:F("this"),class:F("class"),super:F("atom"),yield:je,export:F("export"),import:F("import"),extends:je,await:je}}(),C=/[+\-*&%=<>!?|~^@]/,I=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function j(F){for(var Q=!1,ke,je=!1;(ke=F.next())!=null;){if(!Q){if(ke=="/"&&!je)return;ke=="["?je=!0:je&&ke=="]"&&(je=!1)}Q=!Q&&ke=="\\"}}var A,P;function M(F,Q,ke){return A=F,P=ke,Q}function z(F,Q){var ke=F.next();if(ke=='"'||ke=="'")return Q.tokenize=$(ke),Q.tokenize(F,Q);if(ke=="."&&F.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return M("number","number");if(ke=="."&&F.match(".."))return M("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(ke))return M(ke);if(ke=="="&&F.eat(">"))return M("=>","operator");if(ke=="0"&&F.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return M("number","number");if(/\d/.test(ke))return F.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),M("number","number");if(ke=="/")return F.eat("*")?(Q.tokenize=U,U(F,Q)):F.eat("/")?(F.skipToEnd(),M("comment","comment")):Fe(F,Q,1)?(j(F),F.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),M("regexp","string-2")):(F.eat("="),M("operator","operator",F.current()));if(ke=="`")return Q.tokenize=X,X(F,Q);if(ke=="#"&&F.peek()=="!")return F.skipToEnd(),M("meta","meta");if(ke=="#"&&F.eatWhile(x))return M("variable","property");if(ke=="<"&&F.match("!--")||ke=="-"&&F.match("->")&&!/\S/.test(F.string.slice(0,F.start)))return F.skipToEnd(),M("comment","comment");if(C.test(ke))return(ke!=">"||!Q.lexical||Q.lexical.type!=">")&&(F.eat("=")?(ke=="!"||ke=="=")&&F.eat("="):/[<>*+\-|&?]/.test(ke)&&(F.eat(ke),ke==">"&&F.eat(ke))),ke=="?"&&F.eat(".")?M("."):M("operator","operator",F.current());if(x.test(ke)){F.eatWhile(x);var je=F.current();if(Q.lastType!="."){if(E.propertyIsEnumerable(je)){var gt=E[je];return M(gt.type,gt.style,je)}if(je=="async"&&F.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return M("async","keyword",je)}return M("variable","variable",je)}}function $(F){return function(Q,ke){var je=!1,gt;if(c&&Q.peek()=="@"&&Q.match(I))return ke.tokenize=z,M("jsonld-keyword","meta");for(;(gt=Q.next())!=null&&!(gt==F&&!je);)je=!je&&gt=="\\";return je||(ke.tokenize=z),M("string","string")}}function U(F,Q){for(var ke=!1,je;je=F.next();){if(je=="/"&&ke){Q.tokenize=z;break}ke=je=="*"}return M("comment","comment")}function X(F,Q){for(var ke=!1,je;(je=F.next())!=null;){if(!ke&&(je=="`"||je=="$"&&F.eat("{"))){Q.tokenize=z;break}ke=!ke&&je=="\\"}return M("quasi","string-2",F.current())}var V="([{}])";function ne(F,Q){Q.fatArrowAt&&(Q.fatArrowAt=null);var ke=F.string.indexOf("=>",F.start);if(!(ke<0)){if(m){var je=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(F.string.slice(F.start,ke));je&&(ke=je.index)}for(var gt=0,Ft=!1,Ve=ke-1;Ve>=0;--Ve){var Xn=F.string.charAt(Ve),Ar=V.indexOf(Xn);if(Ar>=0&&Ar<3){if(!gt){++Ve;break}if(--gt==0){Xn=="("&&(Ft=!0);break}}else if(Ar>=3&&Ar<6)++gt;else if(x.test(Xn))Ft=!0;else if(/["'\/`]/.test(Xn))for(;;--Ve){if(Ve==0)return;var wo=F.string.charAt(Ve-1);if(wo==Xn&&F.string.charAt(Ve-2)!="\\"){Ve--;break}}else if(Ft&&!gt){++Ve;break}}Ft&&!gt&&(Q.fatArrowAt=Ve)}}var he={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function me(F,Q,ke,je,gt,Ft){this.indented=F,this.column=Q,this.type=ke,this.prev=gt,this.info=Ft,je!=null&&(this.align=je)}function we(F,Q){if(!v)return!1;for(var ke=F.localVars;ke;ke=ke.next)if(ke.name==Q)return!0;for(var je=F.context;je;je=je.prev)for(var ke=je.vars;ke;ke=ke.next)if(ke.name==Q)return!0}function ze(F,Q,ke,je,gt){var Ft=F.cc;for(J.state=F,J.stream=gt,J.marked=null,J.cc=Ft,J.style=Q,F.lexical.hasOwnProperty("align")||(F.lexical.align=!0);;){var Ve=Ft.length?Ft.pop():p?Ye:He;if(Ve(ke,je)){for(;Ft.length&&Ft[Ft.length-1].lex;)Ft.pop()();return J.marked?J.marked:ke=="variable"&&we(F,je)?"variable-2":Q}}}var J={state:null,column:null,marked:null,cc:null};function Z(){for(var F=arguments.length-1;F>=0;F--)J.cc.push(arguments[F])}function q(){return Z.apply(null,arguments),!0}function Me(F,Q){for(var ke=Q;ke;ke=ke.next)if(ke.name==F)return!0;return!1}function Ne(F){var Q=J.state;if(J.marked="def",!!v){if(Q.context){if(Q.lexical.info=="var"&&Q.context&&Q.context.block){var ke=_e(F,Q.context);if(ke!=null){Q.context=ke;return}}else if(!Me(F,Q.localVars)){Q.localVars=new te(F,Q.localVars);return}}i.globalVars&&!Me(F,Q.globalVars)&&(Q.globalVars=new te(F,Q.globalVars))}}function _e(F,Q){if(Q)if(Q.block){var ke=_e(F,Q.prev);return ke?ke==Q.prev?Q:new Le(ke,Q.vars,!0):null}else return Me(F,Q.vars)?Q:new Le(Q.prev,new te(F,Q.vars),!1);else return null}function Se(F){return F=="public"||F=="private"||F=="protected"||F=="abstract"||F=="readonly"}function Le(F,Q,ke){this.prev=F,this.vars=Q,this.block=ke}function te(F,Q){this.name=F,this.next=Q}var ce=new te("this",new te("arguments",null));function ye(){J.state.context=new Le(J.state.context,J.state.localVars,!1),J.state.localVars=ce}function re(){J.state.context=new Le(J.state.context,J.state.localVars,!0),J.state.localVars=null}ye.lex=re.lex=!0;function se(){J.state.localVars=J.state.context.vars,J.state.context=J.state.context.prev}se.lex=!0;function pe(F,Q){var ke=function(){var je=J.state,gt=je.indented;if(je.lexical.type=="stat")gt=je.lexical.indented;else for(var Ft=je.lexical;Ft&&Ft.type==")"&&Ft.align;Ft=Ft.prev)gt=Ft.indented;je.lexical=new me(gt,J.stream.column(),F,null,je.lexical,Q)};return ke.lex=!0,ke}function Ce(){var F=J.state;F.lexical.prev&&(F.lexical.type==")"&&(F.indented=F.lexical.indented),F.lexical=F.lexical.prev)}Ce.lex=!0;function Ae(F){function Q(ke){return ke==F?q():F==";"||ke=="}"||ke==")"||ke=="]"?Z():q(Q)}return Q}function He(F,Q){return F=="var"?q(pe("vardef",Q),Xl,Ae(";"),Ce):F=="keyword a"?q(pe("form"),Bt,He,Ce):F=="keyword b"?q(pe("form"),He,Ce):F=="keyword d"?J.stream.match(/^\s*$/,!1)?q():q(pe("stat"),rt,Ae(";"),Ce):F=="debugger"?q(Ae(";")):F=="{"?q(pe("}"),re,ve,Ce,se):F==";"?q():F=="if"?(J.state.lexical.info=="else"&&J.state.cc[J.state.cc.length-1]==Ce&&J.state.cc.pop()(),q(pe("form"),Bt,He,Ce,vc)):F=="function"?q(ni):F=="for"?q(pe("form"),re,mc,He,se,Ce):F=="class"||m&&Q=="interface"?(J.marked="keyword",q(pe("form",F=="class"?F:Q),$s,Ce)):F=="variable"?m&&Q=="declare"?(J.marked="keyword",q(He)):m&&(Q=="module"||Q=="enum"||Q=="type")&&J.stream.match(/^\s*\w/,!1)?(J.marked="keyword",Q=="enum"?q(Ei):Q=="type"?q(yc,Ae("operator"),Qe,Ae(";")):q(pe("form"),br,Ae("{"),pe("}"),ve,Ce,Ce)):m&&Q=="namespace"?(J.marked="keyword",q(pe("form"),Ye,He,Ce)):m&&Q=="abstract"?(J.marked="keyword",q(He)):q(pe("stat"),We):F=="switch"?q(pe("form"),Bt,Ae("{"),pe("}","switch"),re,ve,Ce,Ce,se):F=="case"?q(Ye,Ae(":")):F=="default"?q(Ae(":")):F=="catch"?q(pe("form"),ye,tt,He,Ce,se):F=="export"?q(pe("stat"),Yl,Ce):F=="import"?q(pe("stat"),cn,Ce):F=="async"?q(He):Q=="@"?q(Ye,He):Z(pe("stat"),Ye,Ae(";"),Ce)}function tt(F){if(F=="(")return q(yo,Ae(")"))}function Ye(F,Q){return Pt(F,Q,!1)}function vt(F,Q){return Pt(F,Q,!0)}function Bt(F){return F!="("?Z():q(pe(")"),rt,Ae(")"),Ce)}function Pt(F,Q,ke){if(J.state.fatArrowAt==J.stream.start){var je=ke?ut:Wt;if(F=="(")return q(ye,pe(")"),K(yo,")"),Ce,Ae("=>"),je,se);if(F=="variable")return Z(ye,br,Ae("=>"),je,se)}var gt=ke?kt:pt;return he.hasOwnProperty(F)?q(gt):F=="function"?q(ni,gt):F=="class"||m&&Q=="interface"?(J.marked="keyword",q(pe("form"),Wa,Ce)):F=="keyword c"||F=="async"?q(ke?vt:Ye):F=="("?q(pe(")"),rt,Ae(")"),Ce,gt):F=="operator"||F=="spread"?q(ke?vt:Ye):F=="["?q(pe("]"),Kt,Ce,gt):F=="{"?ie(B,"}",null,gt):F=="quasi"?Z(Rt,gt):F=="new"?q(fe(ke)):q()}function rt(F){return F.match(/[;\}\)\],]/)?Z():Z(Ye)}function pt(F,Q){return F==","?q(rt):kt(F,Q,!1)}function kt(F,Q,ke){var je=ke==!1?pt:kt,gt=ke==!1?Ye:vt;if(F=="=>")return q(ye,ke?ut:Wt,se);if(F=="operator")return/\+\+|--/.test(Q)||m&&Q=="!"?q(je):m&&Q=="<"&&J.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?q(pe(">"),K(Qe,">"),Ce,je):Q=="?"?q(Ye,Ae(":"),gt):q(gt);if(F=="quasi")return Z(Rt,je);if(F!=";"){if(F=="(")return ie(vt,")","call",je);if(F==".")return q(Lt,je);if(F=="[")return q(pe("]"),rt,Ae("]"),Ce,je);if(m&&Q=="as")return J.marked="keyword",q(Qe,je);if(F=="regexp")return J.state.lastType=J.marked="operator",J.stream.backUp(J.stream.pos-J.stream.start-1),q(gt)}}function Rt(F,Q){return F!="quasi"?Z():Q.slice(Q.length-2)!="${"?q(Rt):q(rt,$t)}function $t(F){if(F=="}")return J.marked="string-2",J.state.tokenize=X,q(Rt)}function Wt(F){return ne(J.stream,J.state),Z(F=="{"?He:Ye)}function ut(F){return ne(J.stream,J.state),Z(F=="{"?He:vt)}function fe(F){return function(Q){return Q=="."?q(F?ge:Ee):Q=="variable"&&m?q(za,F?kt:pt):Z(F?vt:Ye)}}function Ee(F,Q){if(Q=="target")return J.marked="keyword",q(pt)}function ge(F,Q){if(Q=="target")return J.marked="keyword",q(kt)}function We(F){return F==":"?q(Ce,He):Z(pt,Ae(";"),Ce)}function Lt(F){if(F=="variable")return J.marked="property",q()}function B(F,Q){if(F=="async")return J.marked="property",q(B);if(F=="variable"||J.style=="keyword"){if(J.marked="property",Q=="get"||Q=="set")return q(k);var ke;return m&&J.state.fatArrowAt==J.stream.start&&(ke=J.stream.match(/^\s*:\s*/,!1))&&(J.state.fatArrowAt=J.stream.pos+ke[0].length),q(L)}else{if(F=="number"||F=="string")return J.marked=c?"property":J.style+" property",q(L);if(F=="jsonld-keyword")return q(L);if(m&&Se(Q))return J.marked="keyword",q(B);if(F=="[")return q(Ye,Te,Ae("]"),L);if(F=="spread")return q(vt,L);if(Q=="*")return J.marked="keyword",q(B);if(F==":")return Z(L)}}function k(F){return F!="variable"?Z(L):(J.marked="property",q(ni))}function L(F){if(F==":")return q(vt);if(F=="(")return Z(ni)}function K(F,Q,ke){function je(gt,Ft){if(ke?ke.indexOf(gt)>-1:gt==","){var Ve=J.state.lexical;return Ve.info=="call"&&(Ve.pos=(Ve.pos||0)+1),q(function(Xn,Ar){return Xn==Q||Ar==Q?Z():Z(F)},je)}return gt==Q||Ft==Q?q():ke&&ke.indexOf(";")>-1?Z(F):q(Ae(Q))}return function(gt,Ft){return gt==Q||Ft==Q?q():Z(F,je)}}function ie(F,Q,ke){for(var je=3;je<arguments.length;je++)J.cc.push(arguments[je]);return q(pe(Q,ke),K(F,Q),Ce)}function ve(F){return F=="}"?q():Z(He,ve)}function Te(F,Q){if(m){if(F==":")return q(Qe);if(Q=="?")return q(Te)}}function Be(F,Q){if(m&&(F==":"||Q=="in"))return q(Qe)}function Xt(F){if(m&&F==":")return J.stream.match(/^\s*\w+\s+is\b/,!1)?q(Ye,Ct,Qe):q(Qe)}function Ct(F,Q){if(Q=="is")return J.marked="keyword",q()}function Qe(F,Q){if(Q=="keyof"||Q=="typeof"||Q=="infer"||Q=="readonly")return J.marked="keyword",q(Q=="typeof"?vt:Qe);if(F=="variable"||Q=="void")return J.marked="type",q(Hr);if(Q=="|"||Q=="&")return q(Qe);if(F=="string"||F=="number"||F=="atom")return q(Hr);if(F=="[")return q(pe("]"),K(Qe,"]",","),Ce,Hr);if(F=="{")return q(pe("}"),Fs,Ce,Hr);if(F=="(")return q(K(js,")"),mt,Hr);if(F=="<")return q(K(Qe,">"),Qe);if(F=="quasi")return Z(wi,Hr)}function mt(F){if(F=="=>")return q(Qe)}function Fs(F){return F.match(/[\}\)\]]/)?q():F==","||F==";"?q(Fs):Z(Hn,Fs)}function Hn(F,Q){if(F=="variable"||J.style=="keyword")return J.marked="property",q(Hn);if(Q=="?"||F=="number"||F=="string")return q(Hn);if(F==":")return q(Qe);if(F=="[")return q(Ae("variable"),Be,Ae("]"),Hn);if(F=="(")return Z(Ur,Hn);if(!F.match(/[;\}\)\],]/))return q()}function wi(F,Q){return F!="quasi"?Z():Q.slice(Q.length-2)!="${"?q(wi):q(Qe,Un)}function Un(F){if(F=="}")return J.marked="string-2",J.state.tokenize=X,q(wi)}function js(F,Q){return F=="variable"&&J.stream.match(/^\s*[?:]/,!1)||Q=="?"?q(js):F==":"?q(Qe):F=="spread"?q(js):Z(Qe)}function Hr(F,Q){if(Q=="<")return q(pe(">"),K(Qe,">"),Ce,Hr);if(Q=="|"||F=="."||Q=="&")return q(Qe);if(F=="[")return q(Qe,Ae("]"),Hr);if(Q=="extends"||Q=="implements")return J.marked="keyword",q(Qe);if(Q=="?")return q(Qe,Ae(":"),Qe)}function za(F,Q){if(Q=="<")return q(pe(">"),K(Qe,">"),Ce,Hr)}function Wo(){return Z(Qe,ql)}function ql(F,Q){if(Q=="=")return q(Qe)}function Xl(F,Q){return Q=="enum"?(J.marked="keyword",q(Ei)):Z(br,Te,qi,Ua)}function br(F,Q){if(m&&Se(Q))return J.marked="keyword",q(br);if(F=="variable")return Ne(Q),q();if(F=="spread")return q(br);if(F=="[")return ie(Ha,"]");if(F=="{")return ie(gc,"}")}function gc(F,Q){return F=="variable"&&!J.stream.match(/^\s*:/,!1)?(Ne(Q),q(qi)):(F=="variable"&&(J.marked="property"),F=="spread"?q(br):F=="}"?Z():F=="["?q(Ye,Ae("]"),Ae(":"),gc):q(Ae(":"),br,qi))}function Ha(){return Z(br,qi)}function qi(F,Q){if(Q=="=")return q(vt)}function Ua(F){if(F==",")return q(Xl)}function vc(F,Q){if(F=="keyword b"&&Q=="else")return q(pe("form","else"),He,Ce)}function mc(F,Q){if(Q=="await")return q(mc);if(F=="(")return q(pe(")"),Vl,Ce)}function Vl(F){return F=="var"?q(Xl,Ko):F=="variable"?q(Ko):Z(Ko)}function Ko(F,Q){return F==")"?q():F==";"?q(Ko):Q=="in"||Q=="of"?(J.marked="keyword",q(Ye,Ko)):Z(Ye,Ko)}function ni(F,Q){if(Q=="*")return J.marked="keyword",q(ni);if(F=="variable")return Ne(Q),q(ni);if(F=="(")return q(ye,pe(")"),K(yo,")"),Ce,Xt,He,se);if(m&&Q=="<")return q(pe(">"),K(Wo,">"),Ce,ni)}function Ur(F,Q){if(Q=="*")return J.marked="keyword",q(Ur);if(F=="variable")return Ne(Q),q(Ur);if(F=="(")return q(ye,pe(")"),K(yo,")"),Ce,Xt,se);if(m&&Q=="<")return q(pe(">"),K(Wo,">"),Ce,Ur)}function yc(F,Q){if(F=="keyword"||F=="variable")return J.marked="type",q(yc);if(Q=="<")return q(pe(">"),K(Wo,">"),Ce)}function yo(F,Q){return Q=="@"&&q(Ye,yo),F=="spread"?q(yo):m&&Se(Q)?(J.marked="keyword",q(yo)):m&&F=="this"?q(Te,qi):Z(br,Te,qi)}function Wa(F,Q){return F=="variable"?$s(F,Q):xi(F,Q)}function $s(F,Q){if(F=="variable")return Ne(Q),q(xi)}function xi(F,Q){if(Q=="<")return q(pe(">"),K(Wo,">"),Ce,xi);if(Q=="extends"||Q=="implements"||m&&F==",")return Q=="implements"&&(J.marked="keyword"),q(m?Qe:Ye,xi);if(F=="{")return q(pe("}"),bi,Ce)}function bi(F,Q){if(F=="async"||F=="variable"&&(Q=="static"||Q=="get"||Q=="set"||m&&Se(Q))&&J.stream.match(/^\s+[\w$\xa1-\uffff]/,!1))return J.marked="keyword",q(bi);if(F=="variable"||J.style=="keyword")return J.marked="property",q(Wr,bi);if(F=="number"||F=="string")return q(Wr,bi);if(F=="[")return q(Ye,Te,Ae("]"),Wr,bi);if(Q=="*")return J.marked="keyword",q(bi);if(m&&F=="(")return Z(Ur,bi);if(F==";"||F==",")return q(bi);if(F=="}")return q();if(Q=="@")return q(Ye,bi)}function Wr(F,Q){if(Q=="!"||Q=="?")return q(Wr);if(F==":")return q(Qe,qi);if(Q=="=")return q(vt);var ke=J.state.lexical.prev,je=ke&&ke.info=="interface";return Z(je?Ur:ni)}function Yl(F,Q){return Q=="*"?(J.marked="keyword",q(Pr,Ae(";"))):Q=="default"?(J.marked="keyword",q(Ye,Ae(";"))):F=="{"?q(K(Ql,"}"),Pr,Ae(";")):Z(He)}function Ql(F,Q){if(Q=="as")return J.marked="keyword",q(Ae("variable"));if(F=="variable")return Z(vt,Ql)}function cn(F){return F=="string"?q():F=="("?Z(Ye):F=="."?Z(pt):Z(nt,Kr,Pr)}function nt(F,Q){return F=="{"?ie(nt,"}"):(F=="variable"&&Ne(Q),Q=="*"&&(J.marked="keyword"),q(Zl))}function Kr(F){if(F==",")return q(nt,Kr)}function Zl(F,Q){if(Q=="as")return J.marked="keyword",q(nt)}function Pr(F,Q){if(Q=="from")return J.marked="keyword",q(Ye)}function Kt(F){return F=="]"?q():Z(K(vt,"]"))}function Ei(){return Z(pe("form"),br,Ae("{"),pe("}"),K(Go,"}"),Ce,Ce)}function Go(){return Z(br,qi)}function Ds(F,Q){return F.lastType=="operator"||F.lastType==","||C.test(Q.charAt(0))||/[,.]/.test(Q.charAt(0))}function Fe(F,Q,ke){return Q.tokenize==z&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(Q.lastType)||Q.lastType=="quasi"&&/\{\s*$/.test(F.string.slice(0,F.pos-(ke||0)))}return{startState:function(F){var Q={tokenize:z,lastType:"sof",cc:[],lexical:new me((F||0)-a,0,"block",!1),localVars:i.localVars,context:i.localVars&&new Le(null,null,!1),indented:F||0};return i.globalVars&&typeof i.globalVars=="object"&&(Q.globalVars=i.globalVars),Q},token:function(F,Q){if(F.sol()&&(Q.lexical.hasOwnProperty("align")||(Q.lexical.align=!1),Q.indented=F.indentation(),ne(F,Q)),Q.tokenize!=U&&F.eatSpace())return null;var ke=Q.tokenize(F,Q);return A=="comment"?ke:(Q.lastType=A=="operator"&&(P=="++"||P=="--")?"incdec":A,ze(Q,ke,A,P,F))},indent:function(F,Q){if(F.tokenize==U||F.tokenize==X)return n.Pass;if(F.tokenize!=z)return 0;var ke=Q&&Q.charAt(0),je=F.lexical,gt;if(!/^\s*else\b/.test(Q))for(var Ft=F.cc.length-1;Ft>=0;--Ft){var Ve=F.cc[Ft];if(Ve==Ce)je=je.prev;else if(Ve!=vc&&Ve!=se)break}for(;(je.type=="stat"||je.type=="form")&&(ke=="}"||(gt=F.cc[F.cc.length-1])&&(gt==pt||gt==kt)&&!/^[,\.=+\-*:?[\(]/.test(Q));)je=je.prev;l&&je.type==")"&&je.prev.type=="stat"&&(je=je.prev);var Xn=je.type,Ar=ke==Xn;return Xn=="vardef"?je.indented+(F.lastType=="operator"||F.lastType==","?je.info.length+1:0):Xn=="form"&&ke=="{"?je.indented:Xn=="form"?je.indented+a:Xn=="stat"?je.indented+(Ds(F,Q)?l||a:0):je.info=="switch"&&!Ar&&i.doubleIndentSwitch!=!1?je.indented+(/^(?:case|default)\b/.test(Q)?a:2*a):je.align?je.column+(Ar?0:1):je.indented+(Ar?0:a)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:p?null:"/*",blockCommentEnd:p?null:"*/",blockCommentContinue:p?null:" * ",lineComment:p?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:p?"json":"javascript",jsonldMode:c,jsonMode:p,expressionAllowed:Fe,skipExpression:function(F){ze(F,"atom","atom","true",new n.StringStream("",2,null))}}}),n.registerHelper("wordChars","javascript",/[\w$]/),n.defineMIME("text/javascript","javascript"),n.defineMIME("text/ecmascript","javascript"),n.defineMIME("application/javascript","javascript"),n.defineMIME("application/x-javascript","javascript"),n.defineMIME("application/ecmascript","javascript"),n.defineMIME("application/json",{name:"javascript",json:!0}),n.defineMIME("application/x-json",{name:"javascript",json:!0}),n.defineMIME("application/manifest+json",{name:"javascript",json:!0}),n.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),n.defineMIME("text/typescript",{name:"javascript",typescript:!0}),n.defineMIME("application/typescript",{name:"javascript",typescript:!0})})})();var RY=pd();const kp=Tn(RY);let _h=[];function MY(e,t){const{prefixes:n,callback:r}=t;function i(a){if(a.state.completionActive||!n||!r)return;const l=a.findWordAt(a.getDoc().getCursor());l.anchor.ch--;const c=a.findWordAt(l.anchor),p=a.getRange(c.anchor,c.head);for(const v of n)if(p===v){r(a);return}}r&&n&&!_h.includes(e)?(_h.push(e),e.on("inputRead",i)):_h.includes(e)&&(e.off("inputRead",i),_h=_h.filter(a=>a!==e))}let O2=!1;function FY(){O2||(kp.defineOption("prefixTrigger",[],MY),O2=!0)}FY();const _p=e=>{const{fontFamily:t,fontScale:n,label:r,...i}=e,a={};return t&&(a.fontFamily=t.includes(" ")?'"'.concat(t,'"'):t),n&&(a.fontSize="".concat(n*100,"%")),b.jsx("div",{className:"code-area",style:a,children:b.jsxs("label",{children:[b.jsx("span",{className:ir("label",{"screen-reader-only":e.labelHidden}),children:r}),b.jsx(vN,{...i})]})})};function jY(e){return O.useCallback(t=>{t.showHint({completeSingle:!1,extraKeys:["]","-","|"].reduce((n,r)=>(n[r]=(i,a)=>{const l=i.getDoc();l.replaceRange(r,l.getCursor()),a.close()},n),{}),hint(){const n=t.findWordAt(t.getCursor()),r=t.getRange(n.anchor,n.head).toLowerCase(),i={list:e.passages.reduce((a,l)=>l.name.toLowerCase().includes(r)?[...a,l.name]:a,[]),from:n.anchor,to:n.head};return kp.on(i,"pick",()=>{const a=t.getDoc();a.replaceRange("]] ",a.getCursor())}),i}})},[e.passages])}function hS(e,t){var r;if(e.loadState!=="loaded"||!((r=e.properties.editorExtensions)!=null&&r.twine))return;const n=Object.keys(e.properties.editorExtensions.twine).filter(i=>$E.satisfies(t,i));if(n.length===0){console.info("".concat(e.name," ").concat(e.version," has editor extensions, but none that ").concat(t," satisfies"));return}return n.length>1&&console.warn("More than one set of editor extensions for ".concat(e.name," ").concat(e.version," is satisfied by ").concat(t,". Using the first.")),e.properties.editorExtensions.twine[n[0]]}function Qh(e){return e.name.toLowerCase().replace(/\s/g,"-")+"-"+e.version}function $Y(e,t){const{dispatch:n,formats:r}=Wi(),i=ho(r,e,t),{prefs:a}=Zt(),[l,c]=O.useState(),p=yE(a,e,t);return O.useEffect(()=>{var v;if(!p){if(i.loadState==="unloaded")n(yp(i));else if(i.loadState==="loaded"){const m=hS(i,uo().version);(v=m==null?void 0:m.codeMirror)!=null&&v.mode&&(kp.defineMode(Qh(i),m.codeMirror.mode),c(Qh(i)))}}},[n,p,i]),l}function pS(e){let t={extraKeys:{Insert(){}}};return e.editorCursorBlinks||(t.cursorBlinkRate=0),t}const DY=e=>{var z;const{disabled:t,onChange:n,onEditorChange:r,passage:i,story:a,storyFormat:l,storyFormatExtensionsDisabled:c}=e,[p,v]=O.useState(i.text),{prefs:m}=Zt(),x=jY(a),E=(z=$Y(l.name,l.version))!=null?z:"text",{t:C}=Xe(),I=O.useRef(),j=O.useRef();O.useEffect(()=>{!j.current&&p!==i.text&&v(i.text)},[p,i.text]);const A=O.useCallback(($,U,X)=>{r($),v(X),j.current&&window.clearTimeout(j.current),I.current=X,j.current=window.setTimeout(()=>{j.current=void 0,n(I.current)},1e3)},[n,r]);O.useEffect(()=>{j.current&&(window.clearTimeout(j.current),j.current=window.setTimeout(()=>{j.current=void 0,n(I.current)},1e3))},[n]);const P=O.useCallback($=>{r($),window.setTimeout(()=>{$.focus(),$.refresh()},400)},[r]),M=O.useMemo(()=>({...pS(m),mode:c?"text":E,lineWrapping:!0,placeholder:C("dialogs.passageEdit.passageTextPlaceholder"),prefixTrigger:{callback:x,prefixes:["[[","->"]},readOnly:t?"nocursor":!1}),[x,t,E,m,c,C]);return b.jsx(fS,{children:b.jsx(_p,{editorDidMount:P,fontFamily:m.passageEditorFontFamily,fontScale:m.passageEditorFontScale,label:C("dialogs.passageEdit.passageTextEditorLabel"),labelHidden:!0,onBeforeChange:A,onChange:r,options:M,value:p})})},mN=e=>{const{editor:t}=e,{t:n}=Xe();function r(i){t==null||t.execCommand(i),t==null||t.focus()}return b.jsxs(b.Fragment,{children:[b.jsx(it,{disabled:!t,icon:b.jsx(G3,{}),label:n("components.indentButtons.indent"),onClick:()=>r("indentMore")}),b.jsx(it,{disabled:!t,icon:b.jsx(W3,{}),label:n("components.indentButtons.unindent"),onClick:()=>r("indentLess")})]})},gS=e=>{const{disabled:t,editor:n,watch:r}=e,{t:i}=Xe(),[a,l]=O.useState(!1),[c,p]=O.useState(!1);O.useEffect(()=>{if(n){const m=n.historySize();l(m.redo>0),p(m.undo>0)}else l(!1),p(!1)},[n,r]);function v(m){n==null||n.execCommand(m),n==null||n.focus()}return b.jsxs(b.Fragment,{children:[b.jsx(it,{disabled:t||!c,icon:b.jsx(BL,{}),label:i("common.undo"),onClick:()=>v("undo")}),b.jsx(it,{disabled:t||!a,icon:b.jsx(zL,{}),label:i("common.redo"),onClick:()=>v("redo")})]})};const BY=e=>b.jsx("div",{className:"button-card",children:b.jsx(Ul,{...e})});const Qp=e=>{const{items:t,...n}=e,[r,i]=O.useState(null),[a,l]=O.useState(null),[c,p]=O.useState(!1),{styles:v,attributes:m}=cS(r,a,{strategy:"fixed"});return O.useEffect(()=>{const x=()=>p(!1);return c&&document.addEventListener("click",x),()=>document.removeEventListener("click",x)},[a,c,p]),b.jsxs("span",{className:"menu-button",children:[b.jsx(it,{...n,onClick:()=>p(x=>!x),ref:i}),b.jsx($a,{classNames:"fade-out",in:c,mountOnEnter:!0,timeout:200,unmountOnExit:!0,children:b.jsx("div",{className:"menu-button-menu",ref:l,style:v.popper,...m.popper,children:b.jsx(BY,{floating:!0,children:b.jsx(Nn,{orientation:"vertical",children:t.map((x,E)=>x.separator?b.jsx(V4,{},E):"checkable"in x?b.jsx(Pa,{checkedIcon:b.jsx(vE,{}),disabled:x.disabled,label:x.label,onChange:x.onClick,uncheckedIcon:b.jsx(jT,{}),value:x.checked},E):b.jsx(it,{disabled:x.disabled,icon:b.jsx(jT,{}),label:x.label,onClick:x.onClick,variant:x.variant},E))})})})})]})};/*!
* tabbable 5.2.1
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var yN=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary:first-of-type","details"],Zx=yN.join(","),Op=typeof Element>"u"?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,wN=function(t,n,r){var i=Array.prototype.slice.apply(t.querySelectorAll(Zx));return n&&Op.call(t,Zx)&&i.unshift(t),i=i.filter(r),i},zY=function(t){return t.contentEditable==="true"},xN=function(t){var n=parseInt(t.getAttribute("tabindex"),10);return isNaN(n)?zY(t)||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:n},HY=function(t,n){return t.tabIndex===n.tabIndex?t.documentOrder-n.documentOrder:t.tabIndex-n.tabIndex},vS=function(t){return t.tagName==="INPUT"},UY=function(t){return vS(t)&&t.type==="hidden"},WY=function(t){var n=t.tagName==="DETAILS"&&Array.prototype.slice.apply(t.children).some(function(r){return r.tagName==="SUMMARY"});return n},KY=function(t,n){for(var r=0;r<t.length;r++)if(t[r].checked&&t[r].form===n)return t[r]},GY=function(t){if(!t.name)return!0;var n=t.form||t.ownerDocument,r=function(c){return n.querySelectorAll('input[type="radio"][name="'+c+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=r(window.CSS.escape(t.name));else try{i=r(t.name)}catch(l){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",l.message),!1}var a=KY(i,t.form);return!a||a===t},qY=function(t){return vS(t)&&t.type==="radio"},XY=function(t){return qY(t)&&!GY(t)},VY=function(t,n){if(getComputedStyle(t).visibility==="hidden")return!0;var r=Op.call(t,"details>summary:first-of-type"),i=r?t.parentElement:t;if(Op.call(i,"details:not([open]) *"))return!0;if(!n||n==="full")for(;t;){if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}else if(n==="non-zero-area"){var a=t.getBoundingClientRect(),l=a.width,c=a.height;return l===0&&c===0}return!1},YY=function(t){if(vS(t)||t.tagName==="SELECT"||t.tagName==="TEXTAREA"||t.tagName==="BUTTON")for(var n=t.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var r=0;r<n.children.length;r++){var i=n.children.item(r);if(i.tagName==="LEGEND")return!i.contains(t)}return!0}n=n.parentElement}return!1},mS=function(t,n){return!(n.disabled||UY(n)||VY(n,t.displayCheck)||WY(n)||YY(n))},bN=function(t,n){return!(!mS(t,n)||XY(n)||xN(n)<0)},QY=function(t,n){n=n||{};var r=[],i=[],a=wN(t,n.includeContainer,bN.bind(null,n));a.forEach(function(c,p){var v=xN(c);v===0?r.push(c):i.push({documentOrder:p,tabIndex:v,node:c})});var l=i.sort(HY).map(function(c){return c.node}).concat(r);return l},ZY=function(t,n){n=n||{};var r=wN(t,n.includeContainer,mS.bind(null,n));return r},Xv=function(t,n){if(n=n||{},!t)throw new Error("No node provided");return Op.call(t,Zx)===!1?!1:bN(n,t)},JY=yN.concat("iframe").join(","),w1=function(t,n){if(n=n||{},!t)throw new Error("No node provided");return Op.call(t,JY)===!1?!1:mS(n,t)};/*!
* focus-trap 6.7.3
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function L2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function eQ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?L2(Object(n),!0).forEach(function(r){tQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tQ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P2=function(){var e=[];return{activateTrap:function(n){if(e.length>0){var r=e[e.length-1];r!==n&&r.pause()}var i=e.indexOf(n);i===-1||e.splice(i,1),e.push(n)},deactivateTrap:function(n){var r=e.indexOf(n);r!==-1&&e.splice(r,1),e.length>0&&e[e.length-1].unpause()}}}(),nQ=function(t){return t.tagName&&t.tagName.toLowerCase()==="input"&&typeof t.select=="function"},rQ=function(t){return t.key==="Escape"||t.key==="Esc"||t.keyCode===27},iQ=function(t){return t.key==="Tab"||t.keyCode===9},A2=function(t){return setTimeout(t,0)},x1=function(t,n){var r=-1;return t.every(function(i,a){return n(i)?(r=a,!1):!0}),r},Oh=function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return typeof t=="function"?t.apply(void 0,r):t},Vv=function(t){return t.target.shadowRoot&&typeof t.composedPath=="function"?t.composedPath()[0]:t.target},oQ=function(t,n){var r=(n==null?void 0:n.document)||document,i=eQ({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0},n),a={containers:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0},l,c=function(X,V,ne){return X&&X[V]!==void 0?X[V]:i[ne||V]},p=function(X){return!!(X&&a.containers.some(function(V){return V.contains(X)}))},v=function(X){var V=i[X];if(typeof V=="function"){for(var ne=arguments.length,he=new Array(ne>1?ne-1:0),me=1;me<ne;me++)he[me-1]=arguments[me];V=V.apply(void 0,he)}if(!V){if(V===void 0||V===!1)return V;throw new Error("`".concat(X,"` was specified but was not a node, or did not return a node"))}var we=V;if(typeof V=="string"&&(we=r.querySelector(V),!we))throw new Error("`".concat(X,"` as selector refers to no known node"));return we},m=function(){var X=v("initialFocus");if(X===!1)return!1;if(X===void 0)if(p(r.activeElement))X=r.activeElement;else{var V=a.tabbableGroups[0],ne=V&&V.firstTabbableNode;X=ne||v("fallbackFocus")}if(!X)throw new Error("Your focus-trap needs to have at least one focusable element");return X},x=function(){if(a.tabbableGroups=a.containers.map(function(X){var V=QY(X),ne=ZY(X);if(V.length>0)return{container:X,firstTabbableNode:V[0],lastTabbableNode:V[V.length-1],nextTabbableNode:function(me){var we=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,ze=ne.findIndex(function(J){return J===me});return we?ne.slice(ze+1).find(function(J){return Xv(J)}):ne.slice(0,ze).reverse().find(function(J){return Xv(J)})}}}).filter(function(X){return!!X}),a.tabbableGroups.length<=0&&!v("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times")},E=function U(X){if(X!==!1&&X!==r.activeElement){if(!X||!X.focus){U(m());return}X.focus({preventScroll:!!i.preventScroll}),a.mostRecentlyFocusedNode=X,nQ(X)&&X.select()}},C=function(X){var V=v("setReturnFocus",X);return V||(V===!1?!1:X)},I=function(X){var V=Vv(X);if(!p(V)){if(Oh(i.clickOutsideDeactivates,X)){l.deactivate({returnFocus:i.returnFocusOnDeactivate&&!w1(V)});return}Oh(i.allowOutsideClick,X)||X.preventDefault()}},j=function(X){var V=Vv(X),ne=p(V);ne||V instanceof Document?ne&&(a.mostRecentlyFocusedNode=V):(X.stopImmediatePropagation(),E(a.mostRecentlyFocusedNode||m()))},A=function(X){var V=Vv(X);x();var ne=null;if(a.tabbableGroups.length>0){var he=x1(a.tabbableGroups,function(Ne){var _e=Ne.container;return _e.contains(V)}),me=he>=0?a.tabbableGroups[he]:void 0;if(he<0)X.shiftKey?ne=a.tabbableGroups[a.tabbableGroups.length-1].lastTabbableNode:ne=a.tabbableGroups[0].firstTabbableNode;else if(X.shiftKey){var we=x1(a.tabbableGroups,function(Ne){var _e=Ne.firstTabbableNode;return V===_e});if(we<0&&(me.container===V||w1(V)&&!Xv(V)&&!me.nextTabbableNode(V,!1))&&(we=he),we>=0){var ze=we===0?a.tabbableGroups.length-1:we-1,J=a.tabbableGroups[ze];ne=J.lastTabbableNode}}else{var Z=x1(a.tabbableGroups,function(Ne){var _e=Ne.lastTabbableNode;return V===_e});if(Z<0&&(me.container===V||w1(V)&&!Xv(V)&&!me.nextTabbableNode(V))&&(Z=he),Z>=0){var q=Z===a.tabbableGroups.length-1?0:Z+1,Me=a.tabbableGroups[q];ne=Me.firstTabbableNode}}}else ne=v("fallbackFocus");ne&&(X.preventDefault(),E(ne))},P=function(X){if(rQ(X)&&Oh(i.escapeDeactivates,X)!==!1){X.preventDefault(),l.deactivate();return}if(iQ(X)){A(X);return}},M=function(X){if(!Oh(i.clickOutsideDeactivates,X)){var V=Vv(X);p(V)||Oh(i.allowOutsideClick,X)||(X.preventDefault(),X.stopImmediatePropagation())}},z=function(){if(a.active)return P2.activateTrap(l),a.delayInitialFocusTimer=i.delayInitialFocus?A2(function(){E(m())}):E(m()),r.addEventListener("focusin",j,!0),r.addEventListener("mousedown",I,{capture:!0,passive:!1}),r.addEventListener("touchstart",I,{capture:!0,passive:!1}),r.addEventListener("click",M,{capture:!0,passive:!1}),r.addEventListener("keydown",P,{capture:!0,passive:!1}),l},$=function(){if(a.active)return r.removeEventListener("focusin",j,!0),r.removeEventListener("mousedown",I,!0),r.removeEventListener("touchstart",I,!0),r.removeEventListener("click",M,!0),r.removeEventListener("keydown",P,!0),l};return l={activate:function(X){if(a.active)return this;var V=c(X,"onActivate"),ne=c(X,"onPostActivate"),he=c(X,"checkCanFocusTrap");he||x(),a.active=!0,a.paused=!1,a.nodeFocusedBeforeActivation=r.activeElement,V&&V();var me=function(){he&&x(),z(),ne&&ne()};return he?(he(a.containers.concat()).then(me,me),this):(me(),this)},deactivate:function(X){if(!a.active)return this;clearTimeout(a.delayInitialFocusTimer),a.delayInitialFocusTimer=void 0,$(),a.active=!1,a.paused=!1,P2.deactivateTrap(l);var V=c(X,"onDeactivate"),ne=c(X,"onPostDeactivate"),he=c(X,"checkCanReturnFocus");V&&V();var me=c(X,"returnFocus","returnFocusOnDeactivate"),we=function(){A2(function(){me&&E(C(a.nodeFocusedBeforeActivation)),ne&&ne()})};return me&&he?(he(C(a.nodeFocusedBeforeActivation)).then(we,we),this):(we(),this)},pause:function(){return a.paused||!a.active?this:(a.paused=!0,$(),this)},unpause:function(){return!a.paused||!a.active?this:(a.paused=!1,x(),z(),this)},updateContainerElements:function(X){var V=[].concat(X).filter(Boolean);return a.containers=V.map(function(ne){return typeof ne=="string"?r.querySelector(ne):ne}),a.active&&x(),this}},l.updateContainerElements(t),l};const aQ=Object.freeze(Object.defineProperty({__proto__:null,createFocusTrap:oQ},Symbol.toStringTag,{value:"Module"})),sQ=_j(aQ);function Jx(e){"@babel/helpers - typeof";return Jx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jx(e)}function lQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N2(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function uQ(e,t,n){return t&&N2(e.prototype,t),n&&N2(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function cQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eb(e,t)}function eb(e,t){return eb=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},eb(e,t)}function fQ(e){var t=pQ();return function(){var r=yy(e),i;if(t){var a=yy(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return dQ(this,i)}}function dQ(e,t){if(t&&(Jx(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hQ(e)}function hQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pQ(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function yy(e){return yy=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},yy(e)}var Yv=O,gQ=Bp,jt=t0,vQ=sQ,mQ=vQ.createFocusTrap,yS=function(e){cQ(n,e);var t=fQ(n);function n(r){var i;lQ(this,n),i=t.call(this,r),i.tailoredFocusTrapOptions={returnFocusOnDeactivate:!1},i.returnFocusOnDeactivate=!0;var a=r.focusTrapOptions;for(var l in a)if(Object.prototype.hasOwnProperty.call(a,l)){if(l==="returnFocusOnDeactivate"){i.returnFocusOnDeactivate=!!a[l];continue}if(l==="onPostDeactivate"){i.onPostDeactivate=a[l];continue}i.tailoredFocusTrapOptions[l]=a[l]}return i.focusTrapElements=r.containerElements||[],i.updatePreviousElement(),i}return uQ(n,[{key:"getDocument",value:function(){return this.props.focusTrapOptions.document||(typeof document<"u"?document:void 0)}},{key:"getNodeForOption",value:function(i){var a=this.tailoredFocusTrapOptions[i];if(!a)return null;var l=a;if(typeof a=="string"){var c;if(l=(c=this.getDocument())===null||c===void 0?void 0:c.querySelector(a),!l)throw new Error("`".concat(i,"` refers to no known node"))}if(typeof a=="function"&&(l=a(),!l))throw new Error("`".concat(i,"` did not return a node"));return l}},{key:"getReturnFocusNode",value:function(){var i=this.getNodeForOption("setReturnFocus");return i||this.previouslyFocusedElement}},{key:"updatePreviousElement",value:function(){var i=this.getDocument();i&&(this.previouslyFocusedElement=i.activeElement)}},{key:"deactivateTrap",value:function(){var i=this,a=this.tailoredFocusTrapOptions,l=a.checkCanReturnFocus,c=a.preventScroll,p=c===void 0?!1:c;this.focusTrap&&this.focusTrap.deactivate({returnFocus:!1});var v=function(){var x=i.getReturnFocusNode(),E=(x==null?void 0:x.focus)&&i.returnFocusOnDeactivate;E&&x.focus({preventScroll:p}),i.onPostDeactivate&&i.onPostDeactivate.call(null)};l?l(this.getReturnFocusNode()).then(v,v):v()}},{key:"setupFocusTrap",value:function(){if(!this.focusTrap){var i=this.focusTrapElements.map(gQ.findDOMNode),a=i.some(Boolean);a&&(this.focusTrap=this.props._createFocusTrap(i,this.tailoredFocusTrapOptions),this.props.active&&this.focusTrap.activate(),this.props.paused&&this.focusTrap.pause())}}},{key:"componentDidMount",value:function(){this.props.active&&this.setupFocusTrap()}},{key:"componentDidUpdate",value:function(i){if(this.focusTrap){i.containerElements!==this.props.containerElements&&this.focusTrap.updateContainerElements(this.props.containerElements);var a=!i.active&&this.props.active,l=i.active&&!this.props.active,c=!i.paused&&this.props.paused,p=i.paused&&!this.props.paused;if(a&&(this.updatePreviousElement(),this.focusTrap.activate()),l){this.deactivateTrap();return}c&&this.focusTrap.pause(),p&&this.focusTrap.unpause()}else i.containerElements!==this.props.containerElements&&(this.focusTrapElements=this.props.containerElements),this.props.active&&(this.updatePreviousElement(),this.setupFocusTrap())}},{key:"componentWillUnmount",value:function(){this.deactivateTrap()}},{key:"render",value:function(){var i=this,a=this.props.children?Yv.Children.only(this.props.children):void 0;if(a){if(a.type&&a.type===Yv.Fragment)throw new Error("A focus-trap cannot use a Fragment as its child container. Try replacing it with a <div> element.");var l=function(v){var m=i.props.containerElements;a&&(typeof a.ref=="function"?a.ref(v):a.ref&&(a.ref.current=v)),i.focusTrapElements=m||[v]},c=Yv.cloneElement(a,{ref:l});return c}return null}}]),n}(Yv.Component),Lh=typeof Element>"u"?Function:Element;yS.propTypes={active:jt.bool,paused:jt.bool,focusTrapOptions:jt.shape({document:jt.object,onActivate:jt.func,onPostActivate:jt.func,checkCanFocusTrap:jt.func,onDeactivate:jt.func,onPostDeactivate:jt.func,checkCanReturnFocus:jt.func,initialFocus:jt.oneOfType([jt.instanceOf(Lh),jt.string,jt.func,jt.bool]),fallbackFocus:jt.oneOfType([jt.instanceOf(Lh),jt.string,jt.func]),escapeDeactivates:jt.oneOfType([jt.bool,jt.func]),clickOutsideDeactivates:jt.oneOfType([jt.bool,jt.func]),returnFocusOnDeactivate:jt.bool,setReturnFocus:jt.oneOfType([jt.instanceOf(Lh),jt.string,jt.func]),allowOutsideClick:jt.oneOfType([jt.bool,jt.func]),preventScroll:jt.bool}),containerElements:jt.arrayOf(jt.instanceOf(Lh)),children:jt.oneOfType([jt.element,jt.instanceOf(Lh)])};yS.defaultProps={active:!0,paused:!1,focusTrapOptions:{},_createFocusTrap:mQ};var yQ=yS;const wQ=Tn(yQ),qu=e=>{const{ariaLabel:t,children:n,focusSelector:r,onChangeOpen:i,open:a,...l}=e,[c,p]=O.useState(null),[v,m]=O.useState(null),{styles:x,attributes:E}=cS(c,v,{strategy:"fixed"});return b.jsxs("span",{className:"card-button",children:[b.jsx(it,{onClick:()=>i(!a),...l,ref:p}),b.jsx($a,{classNames:"fade-out",in:a,mountOnEnter:!0,timeout:200,unmountOnExit:!0,children:b.jsx(wQ,{focusTrapOptions:{clickOutsideDeactivates:!0,onDeactivate:()=>i(!1)},children:b.jsx("div",{"aria-label":t,className:"card-button-card",ref:m,role:"dialog",style:x.popper,...E.popper,children:b.jsx(Ul,{floating:!0,children:n})})})})]})},Zp=e=>{const{cancelIcon:t,cancelLabel:n,onChange:r,onSubmit:i,prompt:a,submitIcon:l,submitLabel:c,submitVariant:p,validate:v,value:m,...x}=e,E=O.useRef(!0),[C,I]=O.useState(!1),[j,A]=O.useState(),{t:P}=Xe();O.useEffect(()=>{async function $(){if(v){const U=await v(m);E.current&&A(U)}else E.current&&A({valid:!0})}$()},[v,m]),O.useEffect(()=>()=>{E.current=!1},[]);function M($){$.preventDefault(),I(!1)}function z($){$.preventDefault(),j!=null&&j.valid&&(i(m),I(!1))}return b.jsx("span",{className:"prompt-button",children:b.jsx(qu,{ariaLabel:a,onChangeOpen:I,open:C,...x,children:b.jsxs("form",{onSubmit:z,children:[b.jsxs(_r,{children:[b.jsx(Cp,{onChange:r,orientation:"vertical",value:m,children:a}),(j==null?void 0:j.message)&&b.jsx("p",{children:j.message})]}),b.jsxs(Nn,{children:[b.jsx(it,{buttonType:"submit",disabled:!(j!=null&&j.valid),icon:l!=null?l:b.jsx(vE,{}),label:c!=null?c:P("common.ok"),variant:p!=null?p:"primary"}),b.jsx(it,{buttonType:"button",icon:t!=null?t:b.jsx(No,{}),label:n!=null?n:P("common.cancel"),onClick:M})]})]})})})},xQ=()=>{const{t:e}=Xe();return b.jsx(it,{disabled:!0,icon:b.jsx(zp,{}),label:e("common.rename")})},bQ=e=>{const{onRename:t,passage:n,story:r}=e,[i,a]=O.useState(n.name),{t:l}=Xe();function c(p){return p.trim()===""?{message:l("components.renamePassageButton.emptyName"),valid:!1}:r.passages.some(v=>v.id!==n.id&&v.name===p)?{message:l("components.renamePassageButton.nameAlreadyUsed"),valid:!1}:{valid:!0}}return b.jsx(Zp,{icon:b.jsx(zp,{}),label:l("common.rename"),onChange:p=>a(p.target.value),onSubmit:t,prompt:l("common.renamePrompt",{name:n.name}),validate:c,value:i})},EN=e=>!e.disabled&&e.passage?b.jsx(bQ,{...e}):b.jsx(xQ,{}),wS=["none","red","orange","yellow","green","blue","purple"];const SN=e=>{const{assignedTags:t,disabled:n,existingTags:r,icon:i,label:a,onAdd:l}=e,[c,p]=O.useState(!0),[v,m]=O.useState("none"),[x,E]=O.useState(""),[C,I]=O.useState(!1),{t:j}=Xe();let A,P=ud(x);!P&&x!==""&&(A=j("components.addTagButton.invalidName")),P&&c&&(P=!r.includes(x),P||(A=j("components.addTagButton.alreadyAdded")));function M(){c?l(x,v):l(x),I(!1)}function z($){const U=$.target.value;E(U),p(U==="")}return b.jsx("span",{className:"add-tag-button",children:b.jsxs(qu,{ariaLabel:j("components.addTagButton.addLabel"),disabled:n,icon:i!=null?i:b.jsx(Xf,{}),label:a!=null?a:j("common.tag"),onChangeOpen:I,open:C,children:[b.jsxs(_r,{children:[b.jsx(Ps,{onChange:z,options:[{label:j("components.addTagButton.newTag"),value:""},...r.map($=>({disabled:t.includes($),label:$,value:$}))],value:c?"":x,children:j("components.addTagButton.addLabel")}),c&&b.jsxs(b.Fragment,{children:[b.jsx(Cp,{onChange:$=>E($.target.value.replace(/\s/g,"-")),value:x,children:j("components.addTagButton.tagNameLabel")}),b.jsx(Ps,{onChange:$=>m($.target.value),options:wS.map($=>({label:j("colors.".concat($)),value:$})),value:v,children:j("components.addTagButton.tagColorLabel")})]}),c&&!!A&&b.jsx("p",{children:A})]}),b.jsxs(Nn,{children:[b.jsx(it,{disabled:!P,icon:b.jsx(Xf,{}),label:j("common.add"),onClick:M,variant:"create"}),b.jsx(it,{icon:b.jsx(No,{}),label:j("common.cancel"),onClick:()=>I(!1)})]})]})})};const CN=e=>{const{t}=Xe();return b.jsx("span",{className:ir("tag-button","color-".concat(e.color)),children:b.jsx(Qp,{disabled:e.disabled,icon:b.jsx(HL,{}),iconPosition:"end",items:[...wS.map(n=>({checkable:!0,checked:n==="none"?!e.color:n===e.color,label:t("colors.".concat(n)),onClick:()=>e.onChangeColor(n)})),{separator:!0},{label:t("common.remove"),onClick:e.onRemove}],label:e.name})})};const TN=O.memo(e=>b.jsx("div",{className:"tag-stripe",children:e.tags.map(t=>b.jsx("span",{className:"color-".concat(e.tagColors[t]),title:t},t))}));TN.displayName="TagStripe";function Jp(){const{prefs:e}=Zt(),{dispatch:t,formats:n}=Wi(),{stories:r}=gn();return{publishArchive:O.useCallback(async()=>bA(r,uo()),[r]),proofStory:O.useCallback(async i=>{const a=sn(r,i),l=ho(n,e.proofingFormat.name,e.proofingFormat.version),c=await yp(l)(t);if(!c)throw new Error("Couldn't load story format properties");return cy(a,c.source,uo())},[n,e.proofingFormat.name,e.proofingFormat.version,r,t]),publishStory:O.useCallback(async(i,a)=>{const l=sn(r,i),c=ho(n,l.storyFormat,l.storyFormatVersion),p=await yp(c)(t);if(!p)throw new Error("Couldn't load story format properties");return cy(l,p.source,uo(),a)},[n,r,t]),publishStoryData:O.useCallback(i=>{const a=sn(r,i);return Jy(a,uo(),{startOptional:!0})},[r])}}function kN(){const{proofStory:e,publishStory:t}=Jp();if(dc()){const{twineElectron:n}=window;if(!n)throw new Error("Electron bridge is not present on window.");return{playStory:async r=>{n.openWithScratchFile(await t(r),"play-".concat(r,".html"))},proofStory:async r=>{n.openWithScratchFile(await e(r),"proof-".concat(r,".html"))},testStory:async(r,i)=>{n.openWithScratchFile(await t(r,{formatOptions:"debug",startId:i}),"test-".concat(r,".html"))}}}return{playStory:async n=>{window.open("#/stories/".concat(n,"/play"),"_blank")},proofStory:async n=>{window.open("#/stories/".concat(n,"/proof"),"_blank")},testStory:async(n,r)=>{window.open(r?"#/stories/".concat(n,"/test/").concat(r):"#/stories/".concat(n,"/test"),"_blank")}}}const _N=e=>{const{passage:t,story:n}=e,{testStory:r}=kN(),{t:i}=Xe();return b.jsx(it,{disabled:!t,icon:b.jsx(YL,{}),label:i("routes.storyEdit.toolbar.testFromHere"),onClick:()=>r(n.id,t==null?void 0:t.id)})},EQ=e=>{const{disabled:t,editor:n,passage:r,story:i}=e,{dispatch:a}=Gi(),{t:l}=Xe();function c(m,x){a(n7(i,r,m),l("undoChange.addTag")),x&&a(eA(i,m,x))}function p(m){a(Dl(i,r,{name:m},{dontUpdateOthers:!0}))}function v({height:m,width:x}){a(Dl(i,r,{height:m,width:x}))}return b.jsxs(Nn,{children:[b.jsx(gS,{disabled:t,editor:n,watch:r.text}),b.jsx(SN,{disabled:t,assignedTags:r.tags,existingTags:YP(i),onAdd:c}),b.jsx(Qp,{disabled:t,icon:b.jsx(c4,{}),items:[{checkable:!0,checked:r.height===100&&r.width===100,label:l("dialogs.passageEdit.sizeSmall"),onClick:()=>v({height:100,width:100})},{checkable:!0,checked:r.height===200&&r.width===200,label:l("dialogs.passageEdit.sizeLarge"),onClick:()=>v({height:200,width:200})},{checkable:!0,checked:r.height===200&&r.width===100,label:l("dialogs.passageEdit.sizeTall"),onClick:()=>v({height:200,width:100})},{checkable:!0,checked:r.height===100&&r.width===200,label:l("dialogs.passageEdit.sizeWide"),onClick:()=>v({height:100,width:200})}],label:l("dialogs.passageEdit.size")}),b.jsx(EN,{disabled:t,onRename:p,passage:r,story:i}),b.jsx(_N,{passage:r,story:i})]})};function ON(){const{prefs:e}=Zt(),[t]=O.useState(window.matchMedia("(prefers-color-scheme: dark)")),[n,r]=O.useState(t.matches?"dark":"light");return O.useEffect(()=>{const i=a=>r(a.matches?"dark":"light");return t.addEventListener("change",i),()=>t.removeEventListener("change",i)},[t]),e.appTheme==="system"?n:e.appTheme}function SQ(e,t){const{dispatch:n,formats:r}=Wi(),[i,a]=O.useState({}),[l,c]=O.useState(),p=ho(r,e,t),{prefs:v}=Zt(),m=yE(v,e,t);return O.useEffect(()=>{var x,E;if(!m){if(p.loadState==="unloaded")n(yp(p));else if(p.loadState==="loaded"&&!i[Qh(p)]){const C=Qh(p),I=hS(p,uo().version);if((x=I==null?void 0:I.codeMirror)!=null&&x.commands)for(const j in I.codeMirror.commands){const A=C+j;A in kp.commands?console.warn('CodeMirror already has a "'.concat(A,'" command defined, skipping')):kp.commands[A]=I.codeMirror.commands[j]}(E=I==null?void 0:I.codeMirror)!=null&&E.toolbar&&c(()=>(j,A)=>{var M;if(!((M=I==null?void 0:I.codeMirror)!=null&&M.toolbar))return[];const P=I.codeMirror.toolbar(j,A);return Array.isArray(P)?P.reduce((z,$)=>{switch($.type){case"button":return[...z,{...$,command:C+$.command}];case"menu":if(Array.isArray($.items))return[...z,{...$,items:$.items.filter(U=>["button","separator"].includes(U.type)).map(U=>U.type==="separator"?U:{...U,command:C+U.command})}]}return z},[]):[]}),a(j=>({...j,[Qh(p)]:!0}))}}},[n,m,p,i]),l}const CQ=e=>{const{disabled:t,editor:n,onExecCommand:r,storyFormat:i}=e,a=O.useRef(null),l=ON(),{prefs:c}=Zt(),p=SQ(i.name,i.version),[v,m]=O.useState([]),x=O.useCallback(()=>{if(p&&a.current&&n)try{const C=window.getComputedStyle(a.current);m(p(n,{appTheme:l,foregroundColor:C.color,locale:c.locale}))}catch(C){console.error("Toolbar function for ".concat(i.name," ").concat(i.version," threw an error, skipping update"),C)}else m([])},[l,n,c.locale,i.name,i.version,p]);O.useEffect(()=>{if(n)return x(),n.on("cursorActivity",x),()=>n.off("cursorActivity",x)},[n,x]);function E(C){r(C),Promise.resolve().then(x)}return b.jsx("div",{className:"story-format-toolbar",ref:a,children:b.jsx(Nn,{children:v.map((C,I)=>{switch(C.type){case"button":return b.jsx(it,{disabled:t||C.disabled,icon:b.jsx("img",{src:C.icon,alt:""}),iconOnly:C.iconOnly,label:C.label,onClick:()=>E(C.command)},I);case"menu":return b.jsx(Qp,{disabled:t||C.disabled,icon:b.jsx("img",{src:C.icon,alt:""}),iconOnly:C.iconOnly,items:C.items.filter(j=>["button","separator"].includes(j.type)).map(j=>j.type==="button"?{type:"button",disabled:j.disabled,label:j.label,onClick:()=>E(j.command)}:{separator:!0}),label:C.label},I)}return null})})})},TQ=e=>{const{disabled:t,passage:n,story:r}=e,{dispatch:i,stories:a}=Gi(),{t:l}=Xe();function c(v,m){i(Zr(a,r,{tagColors:{...r.tagColors,[v]:m}}))}function p(v){i(r7(r,n,v),l("undoChange.removeTag"))}return n.tags.length===0?null:b.jsx("div",{className:"tags",children:b.jsx(Nn,{children:n.tags.map(v=>b.jsx(CN,{color:r.tagColors[v],disabled:t,name:v,onChangeColor:m=>c(v,m),onRemove:()=>p(v)},v))})})};const I2=e=>{const{disabled:t,passageId:n,storyId:r}=e,[i,a]=O.useState(!0),[l,c]=O.useState(!1),[p,v]=O.useState(),{ErrorBoundary:m,error:x,reset:E}=My(),{dispatch:C,stories:I}=Gi(),{formats:j}=Wi(),A=Os(I,r,n),P=sn(I,r),M=ho(j,P.storyFormat,P.storyFormatVersion),{t:z}=Xe();O.useEffect(()=>{x&&(i?(console.error("Passage editor crashed, trying without format extensions",x),a(!1)):c(!0),E())},[x,E,i]);const $=O.useCallback(X=>{C(Dl(P,A,{text:X}))},[C,A,P]);function U(X){if(!p)throw new Error("No editor set");p.execCommand(X);const V=p.listSelections();Promise.resolve().then(()=>p.setSelections(V))}return l?b.jsx(Hl,{children:z("dialogs.passageEdit.editorCrashed")}):b.jsxs("div",{className:"passage-edit-contents","aria-hidden":t,children:[b.jsx(EQ,{disabled:t,editor:p,passage:A,story:P}),i&&b.jsx(CQ,{disabled:t,editor:p,onExecCommand:U,storyFormat:M}),b.jsx(TQ,{disabled:t,passage:A,story:P}),b.jsx(m,{children:b.jsx(DY,{disabled:t,onChange:$,onEditorChange:v,passage:A,story:P,storyFormat:M,storyFormatExtensionsDisabled:!i})})]})};const R2=({value:e})=>{const t=/^\s*/.exec(e),n=t?t[0].length:0,r=/\s*$/.exec(e),i=r?r[0].length:0;return b.jsxs("span",{className:"visible-whitespace",children:[[...Array(n)].map((a,l)=>b.jsx(LT,{},l)),e.trim(),[...Array(i)].map((a,l)=>b.jsx(LT,{},l))]})},kQ=e=>{const{onChangeProps:t,onClose:n,passageIds:r,storyId:i,...a}=e,{dispatch:l}=yi(),{stories:c}=gn(),p=r.map(x=>Os(c,i,x).name),v={};a.collapsed&&(v.height="calc(var(--control-height) * ".concat(r.length,")"),a.maximized&&(v.bottom=0,v.position="absolute"));function m(x,E){E!=null&&E.shiftKey?n(E):l(_Q([x]))}return b.jsx("div",{className:ir("passage-edit-stack",{collapsed:a.collapsed}),style:v,children:b.jsx(PY,{childKeys:r,children:r.map((x,E)=>E!==0?O.createElement(EY,{...a,headerDisplayLabel:b.jsx(R2,{value:p[E]}),headerLabel:p[E],key:x,onClose:C=>m(x,C),onRaise:()=>l(xS(i,[x]))},b.jsx(I2,{disabled:!0,passageId:x,storyId:i})):O.createElement(Uo,{...a,headerDisplayLabel:b.jsx(R2,{value:p[E]}),headerLabel:p[E],key:x,maximizable:!0,onClose:C=>m(x,C)},b.jsx(I2,{passageId:x,storyId:i})))})})},tb=e=>{const{passageIds:t,storyId:n}=e,{stories:r}=gn(),i=t.filter(a=>{try{Os(r,n,a)}catch{return!1}return!0});return i.length===0?(e.onClose(),null):i.length!==t.length?(e.onChangeProps({...e,passageIds:i}),null):b.jsx(kQ,{...e})};function xS(e,t,n=6){return(r,i)=>{var c,p;const a=i(),l=a.findIndex(({component:v})=>v===tb);if(l!==-1){const v=(p=(c=a[l].props)==null?void 0:c.passageIds)!=null?p:[],m=[...t,...v.filter(x=>!t.includes(x))];m.length>n&&(m.length=n),r({type:"setDialogProps",index:l,props:{...a[l].props,passageIds:m}})}else{const v=[...t];v.length>n&&(v.length=n),r({type:"addDialog",component:tb,props:{storyId:e,passageIds:v}})}}}function _Q(e){return(t,n)=>{const r=n(),i=r.findIndex(({component:l})=>l===tb);if(i===-1){console.warn("Asked to remove a passage editor, but there is no editor stack");return}const a=r[i].props.passageIds.filter(l=>!e.includes(l));a.length===0?t({type:"removeDialog",index:i}):t({type:"setDialogProps",index:i,props:{...r[i].props,passageIds:a}})}}var OQ=Wy;function LQ(){this.__data__=new OQ,this.size=0}var PQ=LQ;function AQ(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var NQ=AQ;function IQ(e){return this.__data__.get(e)}var RQ=IQ;function MQ(e){return this.__data__.has(e)}var FQ=MQ,jQ=Wy,$Q=CE,DQ=TE,BQ=200;function zQ(e,t){var n=this.__data__;if(n instanceof jQ){var r=n.__data__;if(!$Q||r.length<BQ-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new DQ(r)}return n.set(e,t),this.size=n.size,this}var HQ=zQ,UQ=Wy,WQ=PQ,KQ=NQ,GQ=RQ,qQ=FQ,XQ=HQ;function gd(e){var t=this.__data__=new UQ(e);this.size=t.size}gd.prototype.clear=WQ;gd.prototype.delete=KQ;gd.prototype.get=GQ;gd.prototype.has=qQ;gd.prototype.set=XQ;var LN=gd;function VQ(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var YQ=VQ,QQ=AP,ZQ=YQ,JQ=NP,eZ=1,tZ=2;function nZ(e,t,n,r,i,a){var l=n&eZ,c=e.length,p=t.length;if(c!=p&&!(l&&p>c))return!1;var v=a.get(e),m=a.get(t);if(v&&m)return v==t&&m==e;var x=-1,E=!0,C=n&tZ?new QQ:void 0;for(a.set(e,t),a.set(t,e);++x<c;){var I=e[x],j=t[x];if(r)var A=l?r(j,I,x,t,e,a):r(I,j,x,e,t,a);if(A!==void 0){if(A)continue;E=!1;break}if(C){if(!ZQ(t,function(P,M){if(!JQ(C,M)&&(I===P||i(I,P,n,r,a)))return C.push(M)})){E=!1;break}}else if(!(I===j||i(I,j,n,r,a))){E=!1;break}}return a.delete(e),a.delete(t),E}var PN=nZ,rZ=Is,iZ=rZ.Uint8Array,oZ=iZ;function aZ(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}var sZ=aZ,M2=Hp,F2=oZ,lZ=jy,uZ=PN,cZ=sZ,fZ=kE,dZ=1,hZ=2,pZ="[object Boolean]",gZ="[object Date]",vZ="[object Error]",mZ="[object Map]",yZ="[object Number]",wZ="[object RegExp]",xZ="[object Set]",bZ="[object String]",EZ="[object Symbol]",SZ="[object ArrayBuffer]",CZ="[object DataView]",j2=M2?M2.prototype:void 0,b1=j2?j2.valueOf:void 0;function TZ(e,t,n,r,i,a,l){switch(n){case CZ:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case SZ:return!(e.byteLength!=t.byteLength||!a(new F2(e),new F2(t)));case pZ:case gZ:case yZ:return lZ(+e,+t);case vZ:return e.name==t.name&&e.message==t.message;case wZ:case bZ:return e==t+"";case mZ:var c=cZ;case xZ:var p=r&dZ;if(c||(c=fZ),e.size!=t.size&&!p)return!1;var v=l.get(e);if(v)return v==t;r|=hZ,l.set(e,t);var m=uZ(c(e),c(t),r,i,a,l);return l.delete(e),m;case EZ:if(b1)return b1.call(e)==b1.call(t)}return!1}var kZ=TZ;function _Z(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var AN=_Z,OZ=AN,LZ=ja;function PZ(e,t,n){var r=t(e);return LZ(e)?r:OZ(r,n(e))}var AZ=PZ;function NZ(e,t){for(var n=-1,r=e==null?0:e.length,i=0,a=[];++n<r;){var l=e[n];t(l,n,e)&&(a[i++]=l)}return a}var IZ=NZ;function RZ(){return[]}var MZ=RZ,FZ=IZ,jZ=MZ,$Z=Object.prototype,DZ=$Z.propertyIsEnumerable,$2=Object.getOwnPropertySymbols,BZ=$2?function(e){return e==null?[]:(e=Object(e),FZ($2(e),function(t){return DZ.call(e,t)}))}:jZ,zZ=BZ;function HZ(e,t){return function(n){return e(t(n))}}var UZ=HZ,WZ=UZ,KZ=WZ(Object.keys,Object),GZ=KZ,qZ=gP,XZ=GZ,VZ=Object.prototype,YZ=VZ.hasOwnProperty;function QZ(e){if(!qZ(e))return XZ(e);var t=[];for(var n in Object(e))YZ.call(e,n)&&n!="constructor"&&t.push(n);return t}var ZZ=QZ,JZ=pP,eJ=ZZ,tJ=Kp;function nJ(e){return tJ(e)?JZ(e):eJ(e)}var bS=nJ,rJ=AZ,iJ=zZ,oJ=bS;function aJ(e){return rJ(e,oJ,iJ)}var sJ=aJ,D2=sJ,lJ=1,uJ=Object.prototype,cJ=uJ.hasOwnProperty;function fJ(e,t,n,r,i,a){var l=n&lJ,c=D2(e),p=c.length,v=D2(t),m=v.length;if(p!=m&&!l)return!1;for(var x=p;x--;){var E=c[x];if(!(l?E in t:cJ.call(t,E)))return!1}var C=a.get(e),I=a.get(t);if(C&&I)return C==t&&I==e;var j=!0;a.set(e,t),a.set(t,e);for(var A=l;++x<p;){E=c[x];var P=e[E],M=t[E];if(r)var z=l?r(M,P,E,t,e,a):r(P,M,E,e,t,a);if(!(z===void 0?P===M||i(P,M,n,r,a):z)){j=!1;break}A||(A=E=="constructor")}if(j&&!A){var $=e.constructor,U=t.constructor;$!=U&&"constructor"in e&&"constructor"in t&&!(typeof $=="function"&&$ instanceof $&&typeof U=="function"&&U instanceof U)&&(j=!1)}return a.delete(e),a.delete(t),j}var dJ=fJ,hJ=fc,pJ=Is,gJ=hJ(pJ,"DataView"),vJ=gJ,mJ=fc,yJ=Is,wJ=mJ(yJ,"Promise"),xJ=wJ,bJ=fc,EJ=Is,SJ=bJ(EJ,"WeakMap"),CJ=SJ,nb=vJ,rb=CE,ib=xJ,ob=IP,ab=CJ,NN=Up,vd=sP,B2="[object Map]",TJ="[object Object]",z2="[object Promise]",H2="[object Set]",U2="[object WeakMap]",W2="[object DataView]",kJ=vd(nb),_J=vd(rb),OJ=vd(ib),LJ=vd(ob),PJ=vd(ab),Mu=NN;(nb&&Mu(new nb(new ArrayBuffer(1)))!=W2||rb&&Mu(new rb)!=B2||ib&&Mu(ib.resolve())!=z2||ob&&Mu(new ob)!=H2||ab&&Mu(new ab)!=U2)&&(Mu=function(e){var t=NN(e),n=t==TJ?e.constructor:void 0,r=n?vd(n):"";if(r)switch(r){case kJ:return W2;case _J:return B2;case OJ:return z2;case LJ:return H2;case PJ:return U2}return t});var AJ=Mu,E1=LN,NJ=PN,IJ=kZ,RJ=dJ,K2=AJ,G2=ja,q2=fP,MJ=hP,FJ=1,X2="[object Arguments]",V2="[object Array]",Qv="[object Object]",jJ=Object.prototype,Y2=jJ.hasOwnProperty;function $J(e,t,n,r,i,a){var l=G2(e),c=G2(t),p=l?V2:K2(e),v=c?V2:K2(t);p=p==X2?Qv:p,v=v==X2?Qv:v;var m=p==Qv,x=v==Qv,E=p==v;if(E&&q2(e)){if(!q2(t))return!1;l=!0,m=!1}if(E&&!m)return a||(a=new E1),l||MJ(e)?NJ(e,t,n,r,i,a):IJ(e,t,p,n,r,i,a);if(!(n&FJ)){var C=m&&Y2.call(e,"__wrapped__"),I=x&&Y2.call(t,"__wrapped__");if(C||I){var j=C?e.value():e,A=I?t.value():t;return a||(a=new E1),i(j,A,n,r,a)}}return E?(a||(a=new E1),RJ(e,t,n,r,i,a)):!1}var DJ=$J,BJ=DJ,Q2=Gp;function IN(e,t,n,r,i){return e===t?!0:e==null||t==null||!Q2(e)&&!Q2(t)?e!==e&&t!==t:BJ(e,t,n,r,IN,i)}var ES=IN,zJ=ES;function HJ(e,t){return zJ(e,t)}var UJ=HJ;const WJ=Tn(UJ),KJ=(e,t)=>{switch(t.type){case"addDialog":let n=!1;const r=e.map(i=>WJ(i,{collapsed:i.collapsed,component:t.component,highlighted:i.highlighted,maximized:i.maximized,props:t.props})?(n=!0,{...i,collapsed:!1,highlighted:!0}):i);return n?r:[...e,{collapsed:!1,component:t.component,highlighted:!1,maximized:!1,props:t.props}];case"removeDialog":return e.filter((i,a)=>a!==t.index);case"setDialogCollapsed":return e.map((i,a)=>a===t.index?{...i,collapsed:t.collapsed}:i);case"setDialogHighlighted":return e.map((i,a)=>a===t.index?{...i,highlighted:t.highlighted}:i);case"setDialogMaximized":return e.map((i,a)=>({...i,maximized:a===t.index?t.maximized:!1}));case"setDialogProps":return e.map((i,a)=>({...i,props:a===t.index?t.props:i.props}))}};var RN={},g0={},eg={},MN={},v0={};Object.defineProperty(v0,"__esModule",{value:!0});v0.default=void 0;var GJ=function(t,n){var r,i=function(){r!=null&&(clearTimeout(r),r=null)},a=function(){for(var c=arguments.length,p=new Array(c),v=0;v<c;v++)p[v]=arguments[v];i(),r=setTimeout(function(){t.apply(void 0,p)},n)};return a.cancel=function(){i()},a},qJ=GJ;v0.default=qJ;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"debounce",{enumerable:!0,get:function(){return t.default}});var t=n(v0);function n(r){return r&&r.__esModule?r:{default:r}}})(MN);Object.defineProperty(eg,"__esModule",{value:!0});eg.default=void 0;var S1=O,XJ=MN;function VJ(e,t){return JJ(e)||ZJ(e,t)||QJ(e,t)||YJ()}function YJ(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function QJ(e,t){if(e){if(typeof e=="string")return Z2(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z2(e,t)}}function Z2(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ZJ(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,i=!1,a=void 0;try{for(var l=e[Symbol.iterator](),c;!(r=(c=l.next()).done)&&(n.push(c.value),!(t&&n.length===t));r=!0);}catch(p){i=!0,a=p}finally{try{!r&&l.return!=null&&l.return()}finally{if(i)throw a}}return n}}function JJ(e){if(Array.isArray(e))return e}var eee=function(){var t=(0,S1.useState)({height:0,width:0}),n=VJ(t,2),r=n[0],i=n[1],a=(0,S1.useRef)(null);return(0,S1.useEffect)(function(){var l=function(){return a.current==null&&(a.current=document.createElement("div"),a.current.style.width="99px",a.current.style.height="99px",a.current.style.overflow="scroll",a.current.style.position="absolute",a.current.style.top="-9999px",a.current.setAttribute("aria-hidden","true"),a.current.setAttribute("role","presentation")),a.current},c=function(){var x=l(),E=x.offsetHeight,C=x.clientHeight,I=x.offsetWidth,j=x.clientWidth,A=E-C,P=I-j;i(function(M){var z=M.height,$=M.width;return z!==A||$!==P?{height:A,width:P}:M})},p=(0,XJ.debounce)(c,100);window.addEventListener("resize",p),document.body.appendChild(l()),c();var v=l();return function(){p.cancel(),window.removeEventListener("resize",p),document.body.removeChild(v)}},[]),r},tee=eee;eg.default=tee;Object.defineProperty(g0,"__esModule",{value:!0});g0.default=void 0;var nee=O,ree=iee(eg);function iee(e){return e&&e.__esModule?e:{default:e}}var oee=function(t){var n=t.onChange,r=(0,ree.default)(),i=r.height,a=r.width;return(0,nee.useEffect)(function(){n({height:i,width:a})},[i,a,n]),null},aee=oee;g0.default=aee;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"useScrollbarSize",{enumerable:!0,get:function(){return n.default}}),e.default=void 0;var t=r(g0),n=r(eg);function r(a){return a&&a.__esModule?a:{default:a}}var i=t.default;e.default=i})(RN);const see=e=>b.jsx($a,{classNames:"pop",timeout:200,...e,children:e.children}),lee=()=>{const{height:e,width:t}=RN.useScrollbarSize(),{prefs:n}=Zt(),{dispatch:r,dialogs:i}=yi(),a=i.some(p=>!p.maximized),l={paddingLeft:"calc(100% - (".concat(n.dialogWidth,"px + 2 * (var(--grid-size))))"),marginBottom:e,marginRight:t},c={marginRight:a?"calc(".concat(n.dialogWidth,"px + var(--grid-size))"):0};return b.jsx("div",{className:"dialogs",style:l,children:b.jsx(hd,{component:null,children:i.map((p,v)=>{const m={collapsed:p.collapsed,highlighted:p.highlighted,maximized:p.maximized,onChangeCollapsed:x=>r({type:"setDialogCollapsed",collapsed:x,index:v}),onChangeHighlighted:x=>r({type:"setDialogHighlighted",highlighted:x,index:v}),onChangeMaximized:x=>r({type:"setDialogMaximized",maximized:x,index:v}),onChangeProps:x=>r({type:"setDialogProps",index:v,props:x}),onClose:()=>r({type:"removeDialog",index:v})};return b.jsx(see,{children:p.maximized?b.jsx("div",{className:"maximized",style:c,children:b.jsx(p.component,{...p.props,...m})}):b.jsx(p.component,{...p.props,...m})},v)})})})},SS=O.createContext({dispatch:()=>{},dialogs:[]});SS.displayName="Dialogs";const yi=()=>O.useContext(SS),CS=e=>{const[t,n]=PE(KJ,[]);return b.jsxs(SS.Provider,{value:{dispatch:n,dialogs:t},children:[e.children,b.jsx(lee,{})]})};const FN=e=>{const{allTags:t,color:n,name:r,onChangeColor:i,onChangeName:a}=e,[l,c]=O.useState(r),{t:p}=Xe();function v(m){return m!==r&&t.includes(m)?{message:p("components.tagEditor.alreadyExists"),valid:!1}:{valid:!0}}return b.jsxs("div",{className:"tag-editor",children:[b.jsx("span",{className:ir("tag-name","color-".concat(e.color)),children:e.name}),b.jsx(Zp,{icon:b.jsx(zp,{}),label:p("common.rename"),onChange:m=>c(m.target.value.replace(/\s/g,"-")),onSubmit:()=>a(l),prompt:p("common.renamePrompt",{name:r}),value:l,validate:v}),b.jsx(Ps,{onChange:m=>i(m.target.value),options:wS.map(m=>({label:p("colors.".concat(m)),value:m})),value:n!=null?n:"",children:p("common.color")})]})},uee=e=>{const{storyId:t,...n}=e,{dispatch:r,stories:i}=Gi(),{t:a}=Xe(),l=sn(i,t),c=YP(l);function p(m,x){r(eA(l,m,x),a("undoChange.changeTagColor"))}function v(m,x){r(X5(l,m,x),a("undoChange.renameTag"))}return b.jsx(Uo,{className:"passage-tags-dialog",fixedSize:!0,headerLabel:a("dialogs.passageTags.title"),...n,children:b.jsx(_r,{children:c.length>0?c.map(m=>b.jsx(FN,{allTags:c,color:l.tagColors[m],name:m,onChangeColor:x=>p(m,x),onChangeName:x=>v(m,x)},m)):b.jsx("p",{children:a("dialogs.passageTags.noTags")})})})};function jN(){const{dispatch:e}=gn(),{prefs:t}=Zt(),{formats:n}=Wi();return ht.useCallback(()=>{let r;try{r=ho(n,t.storyFormat.name,t.storyFormat.version)}catch{try{r=ho(n,Vf().storyFormat.name,Vf().storyFormat.version)}catch(i){console.error("Could not locate a safe story format, skipping story repair: ".concat(i.message))}}r&&e({type:"repair",allFormats:n,defaultFormat:r})},[n,t.storyFormat.name,t.storyFormat.version,e])}const cee=e=>{const{children:t,onChange:n,onError:r,orientation:i,...a}=e,l=ir("file-input","orientation-".concat(i!=null?i:"horizontal"));function c(p){if(!p.target.files)throw new Error("Change event occurred but no files present");const v=p.target.files[0],m=new FileReader;m.addEventListener("loadend",x=>{m.error?(console.warn(m.error),r&&r(m.error)):n(v,m.result)}),m.readAsText(v)}return b.jsx("span",{className:l,children:b.jsxs("label",{children:[b.jsx("span",{className:"file-input-label",children:t}),b.jsx("span",{className:"file-input-control",children:b.jsx("input",{...a,onChange:c,type:"file"})})]})})};var wy={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */wy.exports;(function(e,t){(function(){var n,r="4.17.21",i=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",l="Expected a function",c="Invalid `variable` option passed into `_.template`",p="__lodash_hash_undefined__",v=500,m="__lodash_placeholder__",x=1,E=2,C=4,I=1,j=2,A=1,P=2,M=4,z=8,$=16,U=32,X=64,V=128,ne=256,he=512,me=30,we="...",ze=800,J=16,Z=1,q=2,Me=3,Ne=1/0,_e=9007199254740991,Se=17976931348623157e292,Le=0/0,te=4294967295,ce=te-1,ye=te>>>1,re=[["ary",V],["bind",A],["bindKey",P],["curry",z],["curryRight",$],["flip",he],["partial",U],["partialRight",X],["rearg",ne]],se="[object Arguments]",pe="[object Array]",Ce="[object AsyncFunction]",Ae="[object Boolean]",He="[object Date]",tt="[object DOMException]",Ye="[object Error]",vt="[object Function]",Bt="[object GeneratorFunction]",Pt="[object Map]",rt="[object Number]",pt="[object Null]",kt="[object Object]",Rt="[object Promise]",$t="[object Proxy]",Wt="[object RegExp]",ut="[object Set]",fe="[object String]",Ee="[object Symbol]",ge="[object Undefined]",We="[object WeakMap]",Lt="[object WeakSet]",B="[object ArrayBuffer]",k="[object DataView]",L="[object Float32Array]",K="[object Float64Array]",ie="[object Int8Array]",ve="[object Int16Array]",Te="[object Int32Array]",Be="[object Uint8Array]",Xt="[object Uint8ClampedArray]",Ct="[object Uint16Array]",Qe="[object Uint32Array]",mt=/\b__p \+= '';/g,Fs=/\b(__p \+=) '' \+/g,Hn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,wi=/&(?:amp|lt|gt|quot|#39);/g,Un=/[&<>"']/g,js=RegExp(wi.source),Hr=RegExp(Un.source),za=/<%-([\s\S]+?)%>/g,Wo=/<%([\s\S]+?)%>/g,ql=/<%=([\s\S]+?)%>/g,Xl=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,br=/^\w*$/,gc=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ha=/[\\^$.*+?()[\]{}|]/g,qi=RegExp(Ha.source),Ua=/^\s+/,vc=/\s/,mc=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Vl=/\{\n\/\* \[wrapped with (.+)\] \*/,Ko=/,? & /,ni=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ur=/[()=,{}\[\]\/\s]/,yc=/\\(\\)?/g,yo=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Wa=/\w*$/,$s=/^[-+]0x[0-9a-f]+$/i,xi=/^0b[01]+$/i,bi=/^\[object .+?Constructor\]$/,Wr=/^0o[0-7]+$/i,Yl=/^(?:0|[1-9]\d*)$/,Ql=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,cn=/($^)/,nt=/['\n\r\u2028\u2029\\]/g,Kr="\\ud800-\\udfff",Zl="\\u0300-\\u036f",Pr="\\ufe20-\\ufe2f",Kt="\\u20d0-\\u20ff",Ei=Zl+Pr+Kt,Go="\\u2700-\\u27bf",Ds="a-z\\xdf-\\xf6\\xf8-\\xff",Fe="\\xac\\xb1\\xd7\\xf7",F="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Q="\\u2000-\\u206f",ke=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",je="A-Z\\xc0-\\xd6\\xd8-\\xde",gt="\\ufe0e\\ufe0f",Ft=Fe+F+Q+ke,Ve="[']",Xn="["+Kr+"]",Ar="["+Ft+"]",wo="["+Ei+"]",Si="\\d+",tg="["+Go+"]",md="["+Ds+"]",Bs="[^"+Kr+Ft+Si+Go+Ds+je+"]",Jl="\\ud83c[\\udffb-\\udfff]",ng="(?:"+wo+"|"+Jl+")",wc="[^"+Kr+"]",xc="(?:\\ud83c[\\udde6-\\uddff]){2}",bc="[\\ud800-\\udbff][\\udc00-\\udfff]",Ka="["+je+"]",yd="\\u200d",rg="(?:"+md+"|"+Bs+")",L0="(?:"+Ka+"|"+Bs+")",wd="(?:"+Ve+"(?:d|ll|m|re|s|t|ve))?",Xi="(?:"+Ve+"(?:D|LL|M|RE|S|T|VE))?",ig=ng+"?",og="["+gt+"]?",Ec="(?:"+yd+"(?:"+[wc,xc,bc].join("|")+")"+og+ig+")*",eu="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",P0="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",ag=og+ig+Ec,A0="(?:"+[tg,xc,bc].join("|")+")"+ag,N0="(?:"+[wc+wo+"?",wo,xc,bc,Xn].join("|")+")",xd=RegExp(Ve,"g"),sg=RegExp(wo,"g"),bd=RegExp(Jl+"(?="+Jl+")|"+N0+ag,"g"),lg=RegExp([Ka+"?"+md+"+"+wd+"(?="+[Ar,Ka,"$"].join("|")+")",L0+"+"+Xi+"(?="+[Ar,Ka+rg,"$"].join("|")+")",Ka+"?"+rg+"+"+wd,Ka+"+"+Xi,P0,eu,Si,A0].join("|"),"g"),ug=RegExp("["+yd+Kr+Ei+gt+"]"),Sc=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Cc=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ed=-1,fn={};fn[L]=fn[K]=fn[ie]=fn[ve]=fn[Te]=fn[Be]=fn[Xt]=fn[Ct]=fn[Qe]=!0,fn[se]=fn[pe]=fn[B]=fn[Ae]=fn[k]=fn[He]=fn[Ye]=fn[vt]=fn[Pt]=fn[rt]=fn[kt]=fn[Wt]=fn[ut]=fn[fe]=fn[We]=!1;var on={};on[se]=on[pe]=on[B]=on[k]=on[Ae]=on[He]=on[L]=on[K]=on[ie]=on[ve]=on[Te]=on[Pt]=on[rt]=on[kt]=on[Wt]=on[ut]=on[fe]=on[Ee]=on[Be]=on[Xt]=on[Ct]=on[Qe]=!0,on[Ye]=on[vt]=on[We]=!1;var Tc={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},I0={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},cg={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Ci={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},R0=parseFloat,M0=parseInt,kc=typeof An=="object"&&An&&An.Object===Object&&An,fg=typeof self=="object"&&self&&self.Object===Object&&self,dn=kc||fg||Function("return this")(),tu=t&&!t.nodeType&&t,Er=tu&&!0&&e&&!e.nodeType&&e,nu=Er&&Er.exports===tu,ru=nu&&kc.process,Vn=function(){try{var ue=Er&&Er.require&&Er.require("util").types;return ue||ru&&ru.binding&&ru.binding("util")}catch{}}(),dg=Vn&&Vn.isArrayBuffer,hg=Vn&&Vn.isDate,pg=Vn&&Vn.isMap,gg=Vn&&Vn.isRegExp,Sd=Vn&&Vn.isSet,Cd=Vn&&Vn.isTypedArray;function Gr(ue,Oe,be){switch(be.length){case 0:return ue.call(Oe);case 1:return ue.call(Oe,be[0]);case 2:return ue.call(Oe,be[0],be[1]);case 3:return ue.call(Oe,be[0],be[1],be[2])}return ue.apply(Oe,be)}function F0(ue,Oe,be,et){for(var xt=-1,Vt=ue==null?0:ue.length;++xt<Vt;){var Mn=ue[xt];Oe(et,Mn,be(Mn),ue)}return et}function ri(ue,Oe){for(var be=-1,et=ue==null?0:ue.length;++be<et&&Oe(ue[be],be,ue)!==!1;);return ue}function j0(ue,Oe){for(var be=ue==null?0:ue.length;be--&&Oe(ue[be],be,ue)!==!1;);return ue}function Td(ue,Oe){for(var be=-1,et=ue==null?0:ue.length;++be<et;)if(!Oe(ue[be],be,ue))return!1;return!0}function qo(ue,Oe){for(var be=-1,et=ue==null?0:ue.length,xt=0,Vt=[];++be<et;){var Mn=ue[be];Oe(Mn,be,ue)&&(Vt[xt++]=Mn)}return Vt}function iu(ue,Oe){var be=ue==null?0:ue.length;return!!be&&qa(ue,Oe,0)>-1}function zs(ue,Oe,be){for(var et=-1,xt=ue==null?0:ue.length;++et<xt;)if(be(Oe,ue[et]))return!0;return!1}function Jt(ue,Oe){for(var be=-1,et=ue==null?0:ue.length,xt=Array(et);++be<et;)xt[be]=Oe(ue[be],be,ue);return xt}function Xo(ue,Oe){for(var be=-1,et=Oe.length,xt=ue.length;++be<et;)ue[xt+be]=Oe[be];return ue}function kd(ue,Oe,be,et){var xt=-1,Vt=ue==null?0:ue.length;for(et&&Vt&&(be=ue[++xt]);++xt<Vt;)be=Oe(be,ue[xt],xt,ue);return be}function $0(ue,Oe,be,et){var xt=ue==null?0:ue.length;for(et&&xt&&(be=ue[--xt]);xt--;)be=Oe(be,ue[xt],xt,ue);return be}function Ga(ue,Oe){for(var be=-1,et=ue==null?0:ue.length;++be<et;)if(Oe(ue[be],be,ue))return!0;return!1}var Rn=Od("length");function D0(ue){return ue.split("")}function vg(ue){return ue.match(ni)||[]}function Hs(ue,Oe,be){var et;return be(ue,function(xt,Vt,Mn){if(Oe(xt,Vt,Mn))return et=Vt,!1}),et}function _c(ue,Oe,be,et){for(var xt=ue.length,Vt=be+(et?1:-1);et?Vt--:++Vt<xt;)if(Oe(ue[Vt],Vt,ue))return Vt;return-1}function qa(ue,Oe,be){return Oe===Oe?Sg(ue,Oe,be):_c(ue,Oc,be)}function B0(ue,Oe,be,et){for(var xt=be-1,Vt=ue.length;++xt<Vt;)if(et(ue[xt],Oe))return xt;return-1}function Oc(ue){return ue!==ue}function _d(ue,Oe){var be=ue==null?0:ue.length;return be?Ad(ue,Oe)/be:Le}function Od(ue){return function(Oe){return Oe==null?n:Oe[ue]}}function Ld(ue){return function(Oe){return ue==null?n:ue[Oe]}}function Pd(ue,Oe,be,et,xt){return xt(ue,function(Vt,Mn,Ht){be=et?(et=!1,Vt):Oe(be,Vt,Mn,Ht)}),be}function mg(ue,Oe){var be=ue.length;for(ue.sort(Oe);be--;)ue[be]=ue[be].value;return ue}function Ad(ue,Oe){for(var be,et=-1,xt=ue.length;++et<xt;){var Vt=Oe(ue[et]);Vt!==n&&(be=be===n?Vt:be+Vt)}return be}function Xa(ue,Oe){for(var be=-1,et=Array(ue);++be<ue;)et[be]=Oe(be);return et}function xo(ue,Oe){return Jt(Oe,function(be){return[be,ue[be]]})}function ou(ue){return ue&&ue.slice(0,Ic(ue)+1).replace(Ua,"")}function Sr(ue){return function(Oe){return ue(Oe)}}function Lc(ue,Oe){return Jt(Oe,function(be){return ue[be]})}function Nr(ue,Oe){return ue.has(Oe)}function Vo(ue,Oe){for(var be=-1,et=ue.length;++be<et&&qa(Oe,ue[be],0)>-1;);return be}function Pc(ue,Oe){for(var be=ue.length;be--&&qa(Oe,ue[be],0)>-1;);return be}function z0(ue,Oe){for(var be=ue.length,et=0;be--;)ue[be]===Oe&&++et;return et}var yg=Ld(Tc),H0=Ld(I0);function wg(ue){return"\\"+Ci[ue]}function Nd(ue,Oe){return ue==null?n:ue[Oe]}function Ti(ue){return ug.test(ue)}function Vi(ue){return Sc.test(ue)}function xg(ue){for(var Oe,be=[];!(Oe=ue.next()).done;)be.push(Oe.value);return be}function Ac(ue){var Oe=-1,be=Array(ue.size);return ue.forEach(function(et,xt){be[++Oe]=[xt,et]}),be}function bg(ue,Oe){return function(be){return ue(Oe(be))}}function Yo(ue,Oe){for(var be=-1,et=ue.length,xt=0,Vt=[];++be<et;){var Mn=ue[be];(Mn===Oe||Mn===m)&&(ue[be]=m,Vt[xt++]=be)}return Vt}function Nc(ue){var Oe=-1,be=Array(ue.size);return ue.forEach(function(et){be[++Oe]=et}),be}function Eg(ue){var Oe=-1,be=Array(ue.size);return ue.forEach(function(et){be[++Oe]=[et,et]}),be}function Sg(ue,Oe,be){for(var et=be-1,xt=ue.length;++et<xt;)if(ue[et]===Oe)return et;return-1}function au(ue,Oe,be){for(var et=be+1;et--;)if(ue[et]===Oe)return et;return et}function Va(ue){return Ti(ue)?Cg(ue):Rn(ue)}function ii(ue){return Ti(ue)?Mc(ue):D0(ue)}function Ic(ue){for(var Oe=ue.length;Oe--&&vc.test(ue.charAt(Oe)););return Oe}var Rc=Ld(cg);function Cg(ue){for(var Oe=bd.lastIndex=0;bd.test(ue);)++Oe;return Oe}function Mc(ue){return ue.match(bd)||[]}function ki(ue){return ue.match(lg)||[]}var Tg=function ue(Oe){Oe=Oe==null?dn:Qo.defaults(dn.Object(),Oe,Qo.pick(dn,Cc));var be=Oe.Array,et=Oe.Date,xt=Oe.Error,Vt=Oe.Function,Mn=Oe.Math,Ht=Oe.Object,Zo=Oe.RegExp,Us=Oe.String,Ir=Oe.TypeError,Ws=be.prototype,kg=Vt.prototype,Jo=Ht.prototype,Yi=Oe["__core-js_shared__"],Qi=kg.toString,bt=Jo.hasOwnProperty,ea=0,bo=function(){var u=/[^.]+$/.exec(Yi&&Yi.keys&&Yi.keys.IE_PROTO||"");return u?"Symbol(src)_1."+u:""}(),Ya=Jo.toString,U0=Qi.call(Ht),_g=dn._,su=Zo("^"+Qi.call(bt).replace(Ha,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),lu=nu?Oe.Buffer:n,Zi=Oe.Symbol,Qa=Oe.Uint8Array,Og=lu?lu.allocUnsafe:n,Ks=bg(Ht.getPrototypeOf,Ht),Id=Ht.create,Fc=Jo.propertyIsEnumerable,Gs=Ws.splice,Za=Zi?Zi.isConcatSpreadable:n,ta=Zi?Zi.iterator:n,na=Zi?Zi.toStringTag:n,Ja=function(){try{var u=ls(Ht,"defineProperty");return u({},"",{}),u}catch{}}(),W0=Oe.clearTimeout!==dn.clearTimeout&&Oe.clearTimeout,K0=et&&et.now!==dn.Date.now&&et.now,G0=Oe.setTimeout!==dn.setTimeout&&Oe.setTimeout,qs=Mn.ceil,Xs=Mn.floor,ra=Ht.getOwnPropertySymbols,uu=lu?lu.isBuffer:n,Lg=Oe.isFinite,jc=Ws.join,Pg=bg(Ht.keys,Ht),vn=Mn.max,Yn=Mn.min,es=et.now,cu=Oe.parseInt,ia=Mn.random,fu=Ws.reverse,oa=ls(Oe,"DataView"),Vs=ls(Oe,"Map"),$c=ls(Oe,"Promise"),ts=ls(Oe,"Set"),du=ls(Oe,"WeakMap"),_i=ls(Ht,"create"),Ji=du&&new du,Ys={},q0=an(oa),X0=an(Vs),V0=an($c),Y0=an(ts),Q0=an(du),Qn=Zi?Zi.prototype:n,mn=Qn?Qn.valueOf:n,Zn=Qn?Qn.toString:n;function H(u){if(Ln(u)&&!_t(u)&&!(u instanceof Dt)){if(u instanceof Cr)return u;if(bt.call(u,"__wrapped__"))return cr(u)}return new Cr(u)}var eo=function(){function u(){}return function(h){if(!kn(h))return{};if(Id)return Id(h);u.prototype=h;var y=new u;return u.prototype=n,y}}();function Dc(){}function Cr(u,h){this.__wrapped__=u,this.__actions__=[],this.__chain__=!!h,this.__index__=0,this.__values__=n}H.templateSettings={escape:za,evaluate:Wo,interpolate:ql,variable:"",imports:{_:H}},H.prototype=Dc.prototype,H.prototype.constructor=H,Cr.prototype=eo(Dc.prototype),Cr.prototype.constructor=Cr;function Dt(u){this.__wrapped__=u,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=te,this.__views__=[]}function Z0(){var u=new Dt(this.__wrapped__);return u.__actions__=Gn(this.__actions__),u.__dir__=this.__dir__,u.__filtered__=this.__filtered__,u.__iteratees__=Gn(this.__iteratees__),u.__takeCount__=this.__takeCount__,u.__views__=Gn(this.__views__),u}function J0(){if(this.__filtered__){var u=new Dt(this);u.__dir__=-1,u.__filtered__=!0}else u=this.clone(),u.__dir__*=-1;return u}function Rd(){var u=this.__wrapped__.value(),h=this.__dir__,y=_t(u),T=h<0,D=y?u.length:0,W=cf(0,D,this.__views__),ee=W.start,oe=W.end,de=oe-ee,Ie=T?oe:ee-1,Re=this.__iteratees__,$e=Re.length,Je=0,st=Yn(de,this.__takeCount__);if(!y||!T&&D==de&&st==de)return Qg(u,this.__actions__);var yt=[];e:for(;de--&&Je<st;){Ie+=h;for(var Mt=-1,wt=u[Ie];++Mt<$e;){var zt=Re[Mt],Ut=zt.iteratee,Pi=zt.type,Qr=Ut(wt);if(Pi==q)wt=Qr;else if(!Qr){if(Pi==Z)continue e;break e}}yt[Je++]=wt}return yt}Dt.prototype=eo(Dc.prototype),Dt.prototype.constructor=Dt;function aa(u){var h=-1,y=u==null?0:u.length;for(this.clear();++h<y;){var T=u[h];this.set(T[0],T[1])}}function Md(){this.__data__=_i?_i(null):{},this.size=0}function ew(u){var h=this.has(u)&&delete this.__data__[u];return this.size-=h?1:0,h}function Fd(u){var h=this.__data__;if(_i){var y=h[u];return y===p?n:y}return bt.call(h,u)?h[u]:n}function jd(u){var h=this.__data__;return _i?h[u]!==n:bt.call(h,u)}function Ag(u,h){var y=this.__data__;return this.size+=this.has(u)?0:1,y[u]=_i&&h===n?p:h,this}aa.prototype.clear=Md,aa.prototype.delete=ew,aa.prototype.get=Fd,aa.prototype.has=jd,aa.prototype.set=Ag;function to(u){var h=-1,y=u==null?0:u.length;for(this.clear();++h<y;){var T=u[h];this.set(T[0],T[1])}}function $d(){this.__data__=[],this.size=0}function Ng(u){var h=this.__data__,y=ns(h,u);if(y<0)return!1;var T=h.length-1;return y==T?h.pop():Gs.call(h,y,1),--this.size,!0}function hu(u){var h=this.__data__,y=ns(h,u);return y<0?n:h[y][1]}function tw(u){return ns(this.__data__,u)>-1}function Bc(u,h){var y=this.__data__,T=ns(y,u);return T<0?(++this.size,y.push([u,h])):y[T][1]=h,this}to.prototype.clear=$d,to.prototype.delete=Ng,to.prototype.get=hu,to.prototype.has=tw,to.prototype.set=Bc;function Jn(u){var h=-1,y=u==null?0:u.length;for(this.clear();++h<y;){var T=u[h];this.set(T[0],T[1])}}function Ig(){this.size=0,this.__data__={hash:new aa,map:new(Vs||to),string:new aa}}function nw(u){var h=uf(this,u).delete(u);return this.size-=h?1:0,h}function Rg(u){return uf(this,u).get(u)}function qr(u){return uf(this,u).has(u)}function Gt(u,h){var y=uf(this,u),T=y.size;return y.set(u,h),this.size+=y.size==T?0:1,this}Jn.prototype.clear=Ig,Jn.prototype.delete=nw,Jn.prototype.get=Rg,Jn.prototype.has=qr,Jn.prototype.set=Gt;function er(u){var h=-1,y=u==null?0:u.length;for(this.__data__=new Jn;++h<y;)this.add(u[h])}function sa(u){return this.__data__.set(u,p),this}function la(u){return this.__data__.has(u)}er.prototype.add=er.prototype.push=sa,er.prototype.has=la;function oi(u){var h=this.__data__=new to(u);this.size=h.size}function Dd(){this.__data__=new to,this.size=0}function Mg(u){var h=this.__data__,y=h.delete(u);return this.size=h.size,y}function rw(u){return this.__data__.get(u)}function Bd(u){return this.__data__.has(u)}function pu(u,h){var y=this.__data__;if(y instanceof to){var T=y.__data__;if(!Vs||T.length<i-1)return T.push([u,h]),this.size=++y.size,this;y=this.__data__=new Jn(T)}return y.set(u,h),this.size=y.size,this}oi.prototype.clear=Dd,oi.prototype.delete=Mg,oi.prototype.get=rw,oi.prototype.has=Bd,oi.prototype.set=pu;function zd(u,h){var y=_t(u),T=!y&&Lu(u),D=!y&&!T&&gl(u),W=!y&&!T&&!D&&df(u),ee=y||T||D||W,oe=ee?Xa(u.length,Us):[],de=oe.length;for(var Ie in u)(h||bt.call(u,Ie))&&!(ee&&(Ie=="length"||D&&(Ie=="offset"||Ie=="parent")||W&&(Ie=="buffer"||Ie=="byteLength"||Ie=="byteOffset")||_(Ie,de)))&&oe.push(Ie);return oe}function zc(u){var h=u.length;return h?u[Zc(0,h-1)]:n}function ua(u,h){return qn(Gn(u),rs(h,0,u.length))}function Fg(u){return qn(Gn(u))}function Hc(u,h,y){(y!==n&&!_o(u[h],y)||y===n&&!(h in u))&&no(u,h,y)}function gu(u,h,y){var T=u[h];(!(bt.call(u,h)&&_o(T,y))||y===n&&!(h in u))&&no(u,h,y)}function ns(u,h){for(var y=u.length;y--;)if(_o(u[y][0],h))return y;return-1}function Hd(u,h,y,T){return Xr(u,function(D,W,ee){h(T,D,y(D),ee)}),T}function Ud(u,h){return u&&Rr(h,dr(h),u)}function iw(u,h){return u&&Rr(h,ci(h),u)}function no(u,h,y){h=="__proto__"&&Ja?Ja(u,h,{configurable:!0,enumerable:!0,value:y,writable:!0}):u[h]=y}function Wd(u,h){for(var y=-1,T=h.length,D=be(T),W=u==null;++y<T;)D[y]=W?n:xw(u,h[y]);return D}function rs(u,h,y){return u===u&&(y!==n&&(u=u<=y?u:y),h!==n&&(u=u>=h?u:h)),u}function Tr(u,h,y,T,D,W){var ee,oe=h&x,de=h&E,Ie=h&C;if(y&&(ee=D?y(u,T,D,W):y(u)),ee!==n)return ee;if(!kn(u))return u;var Re=_t(u);if(Re){if(ee=d(u),!oe)return Gn(u,ee)}else{var $e=sr(u),Je=$e==vt||$e==Bt;if(gl(u))return th(u,oe);if($e==kt||$e==se||Je&&!D){if(ee=de||Je?{}:f(u),!oe)return de?nv(u,iw(ee,u)):dw(u,Ud(ee,u))}else{if(!on[$e])return D?u:{};ee=g(u,$e,oe)}}W||(W=new oi);var st=W.get(u);if(st)return st;W.set(u,ee),aC(u)?u.forEach(function(wt){ee.add(Tr(wt,h,y,wt,u,W))}):iC(u)&&u.forEach(function(wt,zt){ee.set(zt,Tr(wt,h,y,zt,u,W))});var yt=Ie?de?lf:_u:de?ci:dr,Mt=Re?n:yt(u);return ri(Mt||u,function(wt,zt){Mt&&(zt=wt,wt=u[zt]),gu(ee,zt,Tr(wt,h,y,zt,u,W))}),ee}function jg(u){var h=dr(u);return function(y){return $g(y,u,h)}}function $g(u,h,y){var T=y.length;if(u==null)return!T;for(u=Ht(u);T--;){var D=y[T],W=h[D],ee=u[D];if(ee===n&&!(D in u)||!W(ee))return!1}return!0}function Dg(u,h,y){if(typeof u!="function")throw new Ir(l);return nn(function(){u.apply(n,y)},h)}function Qs(u,h,y,T){var D=-1,W=iu,ee=!0,oe=u.length,de=[],Ie=h.length;if(!oe)return de;y&&(h=Jt(h,Sr(y))),T?(W=zs,ee=!1):h.length>=i&&(W=Nr,ee=!1,h=new er(h));e:for(;++D<oe;){var Re=u[D],$e=y==null?Re:y(Re);if(Re=T||Re!==0?Re:0,ee&&$e===$e){for(var Je=Ie;Je--;)if(h[Je]===$e)continue e;de.push(Re)}else W(h,$e,T)||de.push(Re)}return de}var Xr=rv(Vr),Uc=rv(Gc,!0);function Wc(u,h){var y=!0;return Xr(u,function(T,D,W){return y=!!h(T,D,W),y}),y}function vu(u,h,y){for(var T=-1,D=u.length;++T<D;){var W=u[T],ee=h(W);if(ee!=null&&(oe===n?ee===ee&&!Li(ee):y(ee,oe)))var oe=ee,de=W}return de}function Kd(u,h,y,T){var D=u.length;for(y=Nt(y),y<0&&(y=-y>D?0:D+y),T=T===n||T>D?D:Nt(T),T<0&&(T+=D),T=y>T?0:lC(T);y<T;)u[y++]=h;return u}function Gd(u,h){var y=[];return Xr(u,function(T,D,W){h(T,D,W)&&y.push(T)}),y}function tr(u,h,y,T,D){var W=-1,ee=u.length;for(y||(y=S),D||(D=[]);++W<ee;){var oe=u[W];h>0&&y(oe)?h>1?tr(oe,h-1,y,T,D):Xo(D,oe):T||(D[D.length]=oe)}return D}var Kc=iv(),Wn=iv(!0);function Vr(u,h){return u&&Kc(u,h,dr)}function Gc(u,h){return u&&Wn(u,h,dr)}function mu(u,h){return qo(h,function(y){return fs(u[y])})}function ca(u,h){h=Oi(h,u);for(var y=0,T=h.length;u!=null&&y<T;)u=u[en(h[y++])];return y&&y==T?u:n}function is(u,h,y){var T=h(u);return _t(u)?T:Xo(T,y(u))}function Kn(u){return u==null?u===n?ge:pt:na&&na in Ht(u)?xn(u):Ze(u)}function qc(u,h){return u>h}function Bg(u,h){return u!=null&&bt.call(u,h)}function zg(u,h){return u!=null&&h in Ht(u)}function Zs(u,h,y){return u>=Yn(h,y)&&u<vn(h,y)}function Xc(u,h,y){for(var T=y?zs:iu,D=u[0].length,W=u.length,ee=W,oe=be(W),de=1/0,Ie=[];ee--;){var Re=u[ee];ee&&h&&(Re=Jt(Re,Sr(h))),de=Yn(Re.length,de),oe[ee]=!y&&(h||D>=120&&Re.length>=120)?new er(ee&&Re):n}Re=u[0];var $e=-1,Je=oe[0];e:for(;++$e<D&&Ie.length<de;){var st=Re[$e],yt=h?h(st):st;if(st=y||st!==0?st:0,!(Je?Nr(Je,yt):T(Ie,yt,y))){for(ee=W;--ee;){var Mt=oe[ee];if(!(Mt?Nr(Mt,yt):T(u[ee],yt,y)))continue e}Je&&Je.push(yt),Ie.push(st)}}return Ie}function Vc(u,h,y,T){return Vr(u,function(D,W,ee){h(T,y(D),W,ee)}),T}function Js(u,h,y){h=Oi(h,u),u=ot(u,h);var T=u==null?u:u[en(io(h))];return T==null?n:Gr(T,u,y)}function el(u){return Ln(u)&&Kn(u)==se}function ow(u){return Ln(u)&&Kn(u)==B}function tl(u){return Ln(u)&&Kn(u)==He}function nl(u,h,y,T,D){return u===h?!0:u==null||h==null||!Ln(u)&&!Ln(h)?u!==u&&h!==h:Hg(u,h,y,T,nl,D)}function Hg(u,h,y,T,D,W){var ee=_t(u),oe=_t(h),de=ee?pe:sr(u),Ie=oe?pe:sr(h);de=de==se?kt:de,Ie=Ie==se?kt:Ie;var Re=de==kt,$e=Ie==kt,Je=de==Ie;if(Je&&gl(u)){if(!gl(h))return!1;ee=!0,Re=!1}if(Je&&!Re)return W||(W=new oi),ee||df(u)?sh(u,h,y,T,D,W):fv(u,h,de,y,T,D,W);if(!(y&I)){var st=Re&&bt.call(u,"__wrapped__"),yt=$e&&bt.call(h,"__wrapped__");if(st||yt){var Mt=st?u.value():u,wt=yt?h.value():h;return W||(W=new oi),D(Mt,wt,y,T,W)}}return Je?(W||(W=new oi),dv(u,h,y,T,D,W)):!1}function Ug(u){return Ln(u)&&sr(u)==Pt}function os(u,h,y,T){var D=y.length,W=D,ee=!T;if(u==null)return!W;for(u=Ht(u);D--;){var oe=y[D];if(ee&&oe[2]?oe[1]!==u[oe[0]]:!(oe[0]in u))return!1}for(;++D<W;){oe=y[D];var de=oe[0],Ie=u[de],Re=oe[1];if(ee&&oe[2]){if(Ie===n&&!(de in u))return!1}else{var $e=new oi;if(T)var Je=T(Ie,Re,de,u,h,$e);if(!(Je===n?nl(Re,Ie,I|j,T,$e):Je))return!1}}return!0}function rl(u){if(!kn(u)||le(u))return!1;var h=fs(u)?su:bi;return h.test(an(u))}function yu(u){return Ln(u)&&Kn(u)==Wt}function wu(u){return Ln(u)&&sr(u)==ut}function Wg(u){return Ln(u)&&wv(u.length)&&!!fn[Kn(u)]}function Kg(u){return typeof u=="function"?u:u==null?fi:typeof u=="object"?_t(u)?qd(u[0],u[1]):Gg(u):wC(u)}function Yc(u){if(!xe(u))return Pg(u);var h=[];for(var y in Ht(u))bt.call(u,y)&&y!="constructor"&&h.push(y);return h}function fa(u){if(!kn(u))return Ge(u);var h=xe(u),y=[];for(var T in u)T=="constructor"&&(h||!bt.call(u,T))||y.push(T);return y}function da(u,h){return u<h}function il(u,h){var y=-1,T=ui(u)?be(u.length):[];return Xr(u,function(D,W,ee){T[++y]=h(D,W,ee)}),T}function Gg(u){var h=dl(u);return h.length==1&&h[0][2]?De(h[0][0],h[0][1]):function(y){return y===u||os(y,u,h)}}function qd(u,h){return R(u)&&Pe(h)?De(en(u),h):function(y){var T=xw(y,u);return T===n&&T===h?bw(y,u):nl(h,T,I|j)}}function Qc(u,h,y,T,D){u!==h&&Kc(h,function(W,ee){if(D||(D=new oi),kn(W))aw(u,h,ee,y,Qc,T,D);else{var oe=T?T(Yt(u,ee),W,ee+"",u,h,D):n;oe===n&&(oe=W),Hc(u,ee,oe)}},ci)}function aw(u,h,y,T,D,W,ee){var oe=Yt(u,y),de=Yt(h,y),Ie=ee.get(de);if(Ie){Hc(u,y,Ie);return}var Re=W?W(oe,de,y+"",u,h,ee):n,$e=Re===n;if($e){var Je=_t(de),st=!Je&&gl(de),yt=!Je&&!st&&df(de);Re=de,Je||st||yt?_t(oe)?Re=oe:$n(oe)?Re=Gn(oe):st?($e=!1,Re=th(de,!0)):yt?($e=!1,Re=Jg(de,!0)):Re=[]:ch(de)||Lu(de)?(Re=oe,Lu(oe)?Re=uC(oe):(!kn(oe)||fs(oe))&&(Re=f(de))):$e=!1}$e&&(ee.set(de,Re),D(Re,de,T,W,ee),ee.delete(de)),Hc(u,y,Re)}function qg(u,h){var y=u.length;if(y)return h+=h<0?y:0,_(h,y)?u[h]:n}function or(u,h,y){h.length?h=Jt(h,function(W){return _t(W)?function(ee){return ca(ee,W.length===1?W[0]:W)}:W}):h=[fi];var T=-1;h=Jt(h,Sr(ct()));var D=il(u,function(W,ee,oe){var de=Jt(h,function(Ie){return Ie(W)});return{criteria:de,index:++T,value:W}});return mg(D,function(W,ee){return ev(W,ee,y)})}function Xg(u,h){return Vg(u,h,function(y,T){return bw(u,T)})}function Vg(u,h,y){for(var T=-1,D=h.length,W={};++T<D;){var ee=h[T],oe=ca(u,ee);y(oe,ee)&&Eo(W,Oi(ee,u),oe)}return W}function sw(u){return function(h){return ca(h,u)}}function Xd(u,h,y,T){var D=T?B0:qa,W=-1,ee=h.length,oe=u;for(u===h&&(h=Gn(h)),y&&(oe=Jt(u,Sr(y)));++W<ee;)for(var de=0,Ie=h[W],Re=y?y(Ie):Ie;(de=D(oe,Re,de,T))>-1;)oe!==u&&Gs.call(oe,de,1),Gs.call(u,de,1);return u}function Vd(u,h){for(var y=u?h.length:0,T=y-1;y--;){var D=h[y];if(y==T||D!==W){var W=D;_(D)?Gs.call(u,D,1):Eu(u,D)}}return u}function Zc(u,h){return u+Xs(ia()*(h-u+1))}function Yg(u,h,y,T){for(var D=-1,W=vn(qs((h-u)/(y||1)),0),ee=be(W);W--;)ee[T?W:++D]=u,u+=y;return ee}function Yd(u,h){var y="";if(!u||h<1||h>_e)return y;do h%2&&(y+=u),h=Xs(h/2),h&&(u+=u);while(h);return y}function At(u,h){return lr(at(u,h,fi),u+"")}function lw(u){return zc(hf(u))}function ha(u,h){var y=hf(u);return qn(y,rs(h,0,y.length))}function Eo(u,h,y,T){if(!kn(u))return u;h=Oi(h,u);for(var D=-1,W=h.length,ee=W-1,oe=u;oe!=null&&++D<W;){var de=en(h[D]),Ie=y;if(de==="__proto__"||de==="constructor"||de==="prototype")return u;if(D!=ee){var Re=oe[de];Ie=T?T(Re,de,oe):n,Ie===n&&(Ie=kn(Re)?Re:_(h[D+1])?[]:{})}gu(oe,de,Ie),oe=oe[de]}return u}var xu=Ji?function(u,h){return Ji.set(u,h),u}:fi,bu=Ja?function(u,h){return Ja(u,"toString",{configurable:!0,enumerable:!1,value:Sw(h),writable:!0})}:fi;function So(u){return qn(hf(u))}function ai(u,h,y){var T=-1,D=u.length;h<0&&(h=-h>D?0:D+h),y=y>D?D:y,y<0&&(y+=D),D=h>y?0:y-h>>>0,h>>>=0;for(var W=be(D);++T<D;)W[T]=u[T+h];return W}function uw(u,h){var y;return Xr(u,function(T,D,W){return y=h(T,D,W),!y}),!!y}function Co(u,h,y){var T=0,D=u==null?T:u.length;if(typeof h=="number"&&h===h&&D<=ye){for(;T<D;){var W=T+D>>>1,ee=u[W];ee!==null&&!Li(ee)&&(y?ee<=h:ee<h)?T=W+1:D=W}return D}return Jc(u,h,fi,y)}function Jc(u,h,y,T){var D=0,W=u==null?0:u.length;if(W===0)return 0;h=y(h);for(var ee=h!==h,oe=h===null,de=Li(h),Ie=h===n;D<W;){var Re=Xs((D+W)/2),$e=y(u[Re]),Je=$e!==n,st=$e===null,yt=$e===$e,Mt=Li($e);if(ee)var wt=T||yt;else Ie?wt=yt&&(T||Je):oe?wt=yt&&Je&&(T||!st):de?wt=yt&&Je&&!st&&(T||!Mt):st||Mt?wt=!1:wt=T?$e<=h:$e<h;wt?D=Re+1:W=Re}return Yn(W,ce)}function Qd(u,h){for(var y=-1,T=u.length,D=0,W=[];++y<T;){var ee=u[y],oe=h?h(ee):ee;if(!y||!_o(oe,de)){var de=oe;W[D++]=ee===0?0:ee}}return W}function Zd(u){return typeof u=="number"?u:Li(u)?Le:+u}function ar(u){if(typeof u=="string")return u;if(_t(u))return Jt(u,ar)+"";if(Li(u))return Zn?Zn.call(u):"";var h=u+"";return h=="0"&&1/u==-Ne?"-0":h}function Yr(u,h,y){var T=-1,D=iu,W=u.length,ee=!0,oe=[],de=oe;if(y)ee=!1,D=zs;else if(W>=i){var Ie=h?null:ku(u);if(Ie)return Nc(Ie);ee=!1,D=Nr,de=new er}else de=h?[]:oe;e:for(;++T<W;){var Re=u[T],$e=h?h(Re):Re;if(Re=y||Re!==0?Re:0,ee&&$e===$e){for(var Je=de.length;Je--;)if(de[Je]===$e)continue e;h&&de.push($e),oe.push(Re)}else D(de,$e,y)||(de!==oe&&de.push($e),oe.push(Re))}return oe}function Eu(u,h){return h=Oi(h,u),u=ot(u,h),u==null||delete u[en(io(h))]}function ef(u,h,y,T){return Eo(u,h,y(ca(u,h)),T)}function ol(u,h,y,T){for(var D=u.length,W=T?D:-1;(T?W--:++W<D)&&h(u[W],W,u););return y?ai(u,T?0:W,T?W+1:D):ai(u,T?W+1:0,T?D:W)}function Qg(u,h){var y=u;return y instanceof Dt&&(y=y.value()),kd(h,function(T,D){return D.func.apply(D.thisArg,Xo([T],D.args))},y)}function as(u,h,y){var T=u.length;if(T<2)return T?Yr(u[0]):[];for(var D=-1,W=be(T);++D<T;)for(var ee=u[D],oe=-1;++oe<T;)oe!=D&&(W[D]=Qs(W[D]||ee,u[oe],h,y));return Yr(tr(W,1),h,y)}function Jd(u,h,y){for(var T=-1,D=u.length,W=h.length,ee={};++T<D;){var oe=T<W?h[T]:n;y(ee,u[T],oe)}return ee}function eh(u){return $n(u)?u:[]}function tf(u){return typeof u=="function"?u:fi}function Oi(u,h){return _t(u)?u:R(u,h)?[u]:Fn(rn(u))}var cw=At;function pa(u,h,y){var T=u.length;return y=y===n?T:y,!h&&y>=T?u:ai(u,h,y)}var al=W0||function(u){return dn.clearTimeout(u)};function th(u,h){if(h)return u.slice();var y=u.length,T=Og?Og(y):new u.constructor(y);return u.copy(T),T}function nf(u){var h=new u.constructor(u.byteLength);return new Qa(h).set(new Qa(u)),h}function fw(u,h){var y=h?nf(u.buffer):u.buffer;return new u.constructor(y,u.byteOffset,u.byteLength)}function nh(u){var h=new u.constructor(u.source,Wa.exec(u));return h.lastIndex=u.lastIndex,h}function Zg(u){return mn?Ht(mn.call(u)):{}}function Jg(u,h){var y=h?nf(u.buffer):u.buffer;return new u.constructor(y,u.byteOffset,u.length)}function rh(u,h){if(u!==h){var y=u!==n,T=u===null,D=u===u,W=Li(u),ee=h!==n,oe=h===null,de=h===h,Ie=Li(h);if(!oe&&!Ie&&!W&&u>h||W&&ee&&de&&!oe&&!Ie||T&&ee&&de||!y&&de||!D)return 1;if(!T&&!W&&!Ie&&u<h||Ie&&y&&D&&!T&&!W||oe&&y&&D||!ee&&D||!de)return-1}return 0}function ev(u,h,y){for(var T=-1,D=u.criteria,W=h.criteria,ee=D.length,oe=y.length;++T<ee;){var de=rh(D[T],W[T]);if(de){if(T>=oe)return de;var Ie=y[T];return de*(Ie=="desc"?-1:1)}}return u.index-h.index}function tv(u,h,y,T){for(var D=-1,W=u.length,ee=y.length,oe=-1,de=h.length,Ie=vn(W-ee,0),Re=be(de+Ie),$e=!T;++oe<de;)Re[oe]=h[oe];for(;++D<ee;)($e||D<W)&&(Re[y[D]]=u[D]);for(;Ie--;)Re[oe++]=u[D++];return Re}function rf(u,h,y,T){for(var D=-1,W=u.length,ee=-1,oe=y.length,de=-1,Ie=h.length,Re=vn(W-oe,0),$e=be(Re+Ie),Je=!T;++D<Re;)$e[D]=u[D];for(var st=D;++de<Ie;)$e[st+de]=h[de];for(;++ee<oe;)(Je||D<W)&&($e[st+y[ee]]=u[D++]);return $e}function Gn(u,h){var y=-1,T=u.length;for(h||(h=be(T));++y<T;)h[y]=u[y];return h}function Rr(u,h,y,T){var D=!y;y||(y={});for(var W=-1,ee=h.length;++W<ee;){var oe=h[W],de=T?T(y[oe],u[oe],oe,y,u):n;de===n&&(de=u[oe]),D?no(y,oe,de):gu(y,oe,de)}return y}function dw(u,h){return Rr(u,lh(u),h)}function nv(u,h){return Rr(u,hv(u),h)}function of(u,h){return function(y,T){var D=_t(y)?F0:Hd,W=h?h():{};return D(y,u,ct(T,2),W)}}function sl(u){return At(function(h,y){var T=-1,D=y.length,W=D>1?y[D-1]:n,ee=D>2?y[2]:n;for(W=u.length>3&&typeof W=="function"?(D--,W):n,ee&&N(y[0],y[1],ee)&&(W=D<3?n:W,D=1),h=Ht(h);++T<D;){var oe=y[T];oe&&u(h,oe,T,W)}return h})}function rv(u,h){return function(y,T){if(y==null)return y;if(!ui(y))return u(y,T);for(var D=y.length,W=h?D:-1,ee=Ht(y);(h?W--:++W<D)&&T(ee[W],W,ee)!==!1;);return y}}function iv(u){return function(h,y,T){for(var D=-1,W=Ht(h),ee=T(h),oe=ee.length;oe--;){var de=ee[u?oe:++D];if(y(W[de],de,W)===!1)break}return h}}function ov(u,h,y){var T=h&A,D=ul(u);function W(){var ee=this&&this!==dn&&this instanceof W?D:u;return ee.apply(T?y:this,arguments)}return W}function av(u){return function(h){h=rn(h);var y=Ti(h)?ii(h):n,T=y?y[0]:h.charAt(0),D=y?pa(y,1).join(""):h.slice(1);return T[u]()+D}}function ll(u){return function(h){return kd(mC(vC(h).replace(xd,"")),u,"")}}function ul(u){return function(){var h=arguments;switch(h.length){case 0:return new u;case 1:return new u(h[0]);case 2:return new u(h[0],h[1]);case 3:return new u(h[0],h[1],h[2]);case 4:return new u(h[0],h[1],h[2],h[3]);case 5:return new u(h[0],h[1],h[2],h[3],h[4]);case 6:return new u(h[0],h[1],h[2],h[3],h[4],h[5]);case 7:return new u(h[0],h[1],h[2],h[3],h[4],h[5],h[6])}var y=eo(u.prototype),T=u.apply(y,h);return kn(T)?T:y}}function ih(u,h,y){var T=ul(u);function D(){for(var W=arguments.length,ee=be(W),oe=W,de=fl(D);oe--;)ee[oe]=arguments[oe];var Ie=W<3&&ee[0]!==de&&ee[W-1]!==de?[]:Yo(ee,de);if(W-=Ie.length,W<y)return uv(u,h,Su,D.placeholder,n,ee,Ie,n,n,y-W);var Re=this&&this!==dn&&this instanceof D?T:u;return Gr(Re,this,ee)}return D}function oh(u){return function(h,y,T){var D=Ht(h);if(!ui(h)){var W=ct(y,3);h=dr(h),y=function(oe){return W(D[oe],oe,D)}}var ee=u(h,y,T);return ee>-1?D[W?h[ee]:ee]:n}}function sv(u){return To(function(h){var y=h.length,T=y,D=Cr.prototype.thru;for(u&&h.reverse();T--;){var W=h[T];if(typeof W!="function")throw new Ir(l);if(D&&!ee&&Ou(W)=="wrapper")var ee=new Cr([],!0)}for(T=ee?T:y;++T<y;){W=h[T];var oe=Ou(W),de=oe=="wrapper"?qt(W):n;de&&Y(de[0])&&de[1]==(V|z|U|ne)&&!de[4].length&&de[9]==1?ee=ee[Ou(de[0])].apply(ee,de[3]):ee=W.length==1&&Y(W)?ee[oe]():ee.thru(W)}return function(){var Ie=arguments,Re=Ie[0];if(ee&&Ie.length==1&&_t(Re))return ee.plant(Re).value();for(var $e=0,Je=y?h[$e].apply(this,Ie):Re;++$e<y;)Je=h[$e].call(this,Je);return Je}})}function Su(u,h,y,T,D,W,ee,oe,de,Ie){var Re=h&V,$e=h&A,Je=h&P,st=h&(z|$),yt=h&he,Mt=Je?n:ul(u);function wt(){for(var zt=arguments.length,Ut=be(zt),Pi=zt;Pi--;)Ut[Pi]=arguments[Pi];if(st)var Qr=fl(wt),Ai=z0(Ut,Qr);if(T&&(Ut=tv(Ut,T,D,st)),W&&(Ut=rf(Ut,W,ee,st)),zt-=Ai,st&&zt<Ie){var Dn=Yo(Ut,Qr);return uv(u,h,Su,wt.placeholder,y,Ut,Dn,oe,de,Ie-zt)}var Oo=$e?y:this,hs=Je?Oo[u]:u;return zt=Ut.length,oe?Ut=Tt(Ut,oe):yt&&zt>1&&Ut.reverse(),Re&&de<zt&&(Ut.length=de),this&&this!==dn&&this instanceof wt&&(hs=Mt||ul(hs)),hs.apply(Oo,Ut)}return wt}function ss(u,h){return function(y,T){return Vc(y,u,h(T),{})}}function Cu(u,h){return function(y,T){var D;if(y===n&&T===n)return h;if(y!==n&&(D=y),T!==n){if(D===n)return T;typeof y=="string"||typeof T=="string"?(y=ar(y),T=ar(T)):(y=Zd(y),T=Zd(T)),D=u(y,T)}return D}}function cl(u){return To(function(h){return h=Jt(h,Sr(ct())),At(function(y){var T=this;return u(h,function(D){return Gr(D,T,y)})})})}function af(u,h){h=h===n?" ":ar(h);var y=h.length;if(y<2)return y?Yd(h,u):h;var T=Yd(h,qs(u/Va(h)));return Ti(h)?pa(ii(T),0,u).join(""):T.slice(0,u)}function hw(u,h,y,T){var D=h&A,W=ul(u);function ee(){for(var oe=-1,de=arguments.length,Ie=-1,Re=T.length,$e=be(Re+de),Je=this&&this!==dn&&this instanceof ee?W:u;++Ie<Re;)$e[Ie]=T[Ie];for(;de--;)$e[Ie++]=arguments[++oe];return Gr(Je,D?y:this,$e)}return ee}function lv(u){return function(h,y,T){return T&&typeof T!="number"&&N(h,y,T)&&(y=T=n),h=ds(h),y===n?(y=h,h=0):y=ds(y),T=T===n?h<y?1:-1:ds(T),Yg(h,y,T,u)}}function tn(u){return function(h,y){return typeof h=="string"&&typeof y=="string"||(h=oo(h),y=oo(y)),u(h,y)}}function uv(u,h,y,T,D,W,ee,oe,de,Ie){var Re=h&z,$e=Re?ee:n,Je=Re?n:ee,st=Re?W:n,yt=Re?n:W;h|=Re?U:X,h&=~(Re?X:U),h&M||(h&=~(A|P));var Mt=[u,h,D,st,$e,yt,Je,oe,de,Ie],wt=y.apply(n,Mt);return Y(u)&&On(wt,Mt),wt.placeholder=T,ur(wt,u,h)}function Tu(u){var h=Mn[u];return function(y,T){if(y=oo(y),T=T==null?0:Yn(Nt(T),292),T&&Lg(y)){var D=(rn(y)+"e").split("e"),W=h(D[0]+"e"+(+D[1]+T));return D=(rn(W)+"e").split("e"),+(D[0]+"e"+(+D[1]-T))}return h(y)}}var ku=ts&&1/Nc(new ts([,-0]))[1]==Ne?function(u){return new ts(u)}:kw;function si(u){return function(h){var y=sr(h);return y==Pt?Ac(h):y==ut?Eg(h):xo(h,u(h))}}function li(u,h,y,T,D,W,ee,oe){var de=h&P;if(!de&&typeof u!="function")throw new Ir(l);var Ie=T?T.length:0;if(Ie||(h&=~(U|X),T=D=n),ee=ee===n?ee:vn(Nt(ee),0),oe=oe===n?oe:Nt(oe),Ie-=D?D.length:0,h&X){var Re=T,$e=D;T=D=n}var Je=de?n:qt(u),st=[u,h,y,T,D,Re,$e,W,ee,oe];if(Je&&qe(st,Je),u=st[0],h=st[1],y=st[2],T=st[3],D=st[4],oe=st[9]=st[9]===n?de?0:u.length:vn(st[9]-Ie,0),!oe&&h&(z|$)&&(h&=~(z|$)),!h||h==A)var yt=ov(u,h,y);else h==z||h==$?yt=ih(u,h,oe):(h==U||h==(A|U))&&!D.length?yt=hw(u,h,y,T):yt=Su.apply(n,st);var Mt=Je?xu:On;return ur(Mt(yt,st),u,h)}function sf(u,h,y,T){return u===n||_o(u,Jo[y])&&!bt.call(T,y)?h:u}function ah(u,h,y,T,D,W){return kn(u)&&kn(h)&&(W.set(h,u),Qc(u,h,n,ah,W),W.delete(h)),u}function cv(u){return ch(u)?n:u}function sh(u,h,y,T,D,W){var ee=y&I,oe=u.length,de=h.length;if(oe!=de&&!(ee&&de>oe))return!1;var Ie=W.get(u),Re=W.get(h);if(Ie&&Re)return Ie==h&&Re==u;var $e=-1,Je=!0,st=y&j?new er:n;for(W.set(u,h),W.set(h,u);++$e<oe;){var yt=u[$e],Mt=h[$e];if(T)var wt=ee?T(Mt,yt,$e,h,u,W):T(yt,Mt,$e,u,h,W);if(wt!==n){if(wt)continue;Je=!1;break}if(st){if(!Ga(h,function(zt,Ut){if(!Nr(st,Ut)&&(yt===zt||D(yt,zt,y,T,W)))return st.push(Ut)})){Je=!1;break}}else if(!(yt===Mt||D(yt,Mt,y,T,W))){Je=!1;break}}return W.delete(u),W.delete(h),Je}function fv(u,h,y,T,D,W,ee){switch(y){case k:if(u.byteLength!=h.byteLength||u.byteOffset!=h.byteOffset)return!1;u=u.buffer,h=h.buffer;case B:return!(u.byteLength!=h.byteLength||!W(new Qa(u),new Qa(h)));case Ae:case He:case rt:return _o(+u,+h);case Ye:return u.name==h.name&&u.message==h.message;case Wt:case fe:return u==h+"";case Pt:var oe=Ac;case ut:var de=T&I;if(oe||(oe=Nc),u.size!=h.size&&!de)return!1;var Ie=ee.get(u);if(Ie)return Ie==h;T|=j,ee.set(u,h);var Re=sh(oe(u),oe(h),T,D,W,ee);return ee.delete(u),Re;case Ee:if(mn)return mn.call(u)==mn.call(h)}return!1}function dv(u,h,y,T,D,W){var ee=y&I,oe=_u(u),de=oe.length,Ie=_u(h),Re=Ie.length;if(de!=Re&&!ee)return!1;for(var $e=de;$e--;){var Je=oe[$e];if(!(ee?Je in h:bt.call(h,Je)))return!1}var st=W.get(u),yt=W.get(h);if(st&&yt)return st==h&&yt==u;var Mt=!0;W.set(u,h),W.set(h,u);for(var wt=ee;++$e<de;){Je=oe[$e];var zt=u[Je],Ut=h[Je];if(T)var Pi=ee?T(Ut,zt,Je,h,u,W):T(zt,Ut,Je,u,h,W);if(!(Pi===n?zt===Ut||D(zt,Ut,y,T,W):Pi)){Mt=!1;break}wt||(wt=Je=="constructor")}if(Mt&&!wt){var Qr=u.constructor,Ai=h.constructor;Qr!=Ai&&"constructor"in u&&"constructor"in h&&!(typeof Qr=="function"&&Qr instanceof Qr&&typeof Ai=="function"&&Ai instanceof Ai)&&(Mt=!1)}return W.delete(u),W.delete(h),Mt}function To(u){return lr(at(u,n,US),u+"")}function _u(u){return is(u,dr,lh)}function lf(u){return is(u,ci,hv)}var qt=Ji?function(u){return Ji.get(u)}:kw;function Ou(u){for(var h=u.name+"",y=Ys[h],T=bt.call(Ys,h)?y.length:0;T--;){var D=y[T],W=D.func;if(W==null||W==u)return D.name}return h}function fl(u){var h=bt.call(H,"placeholder")?H:u;return h.placeholder}function ct(){var u=H.iteratee||Cw;return u=u===Cw?Kg:u,arguments.length?u(arguments[0],arguments[1]):u}function uf(u,h){var y=u.__data__;return G(h)?y[typeof h=="string"?"string":"hash"]:y.map}function dl(u){for(var h=dr(u),y=h.length;y--;){var T=h[y],D=u[T];h[y]=[T,D,Pe(D)]}return h}function ls(u,h){var y=Nd(u,h);return rl(y)?y:n}function xn(u){var h=bt.call(u,na),y=u[na];try{u[na]=n;var T=!0}catch{}var D=Ya.call(u);return T&&(h?u[na]=y:delete u[na]),D}var lh=ra?function(u){return u==null?[]:(u=Ht(u),qo(ra(u),function(h){return Fc.call(u,h)}))}:_w,hv=ra?function(u){for(var h=[];u;)Xo(h,lh(u)),u=Ks(u);return h}:_w,sr=Kn;(oa&&sr(new oa(new ArrayBuffer(1)))!=k||Vs&&sr(new Vs)!=Pt||$c&&sr($c.resolve())!=Rt||ts&&sr(new ts)!=ut||du&&sr(new du)!=We)&&(sr=function(u){var h=Kn(u),y=h==kt?u.constructor:n,T=y?an(y):"";if(T)switch(T){case q0:return k;case X0:return Pt;case V0:return Rt;case Y0:return ut;case Q0:return We}return h});function cf(u,h,y){for(var T=-1,D=y.length;++T<D;){var W=y[T],ee=W.size;switch(W.type){case"drop":u+=ee;break;case"dropRight":h-=ee;break;case"take":h=Yn(h,u+ee);break;case"takeRight":u=vn(u,h-ee);break}}return{start:u,end:h}}function o(u){var h=u.match(Vl);return h?h[1].split(Ko):[]}function s(u,h,y){h=Oi(h,u);for(var T=-1,D=h.length,W=!1;++T<D;){var ee=en(h[T]);if(!(W=u!=null&&y(u,ee)))break;u=u[ee]}return W||++T!=D?W:(D=u==null?0:u.length,!!D&&wv(D)&&_(ee,D)&&(_t(u)||Lu(u)))}function d(u){var h=u.length,y=new u.constructor(h);return h&&typeof u[0]=="string"&&bt.call(u,"index")&&(y.index=u.index,y.input=u.input),y}function f(u){return typeof u.constructor=="function"&&!xe(u)?eo(Ks(u)):{}}function g(u,h,y){var T=u.constructor;switch(h){case B:return nf(u);case Ae:case He:return new T(+u);case k:return fw(u,y);case L:case K:case ie:case ve:case Te:case Be:case Xt:case Ct:case Qe:return Jg(u,y);case Pt:return new T;case rt:case fe:return new T(u);case Wt:return nh(u);case ut:return new T;case Ee:return Zg(u)}}function w(u,h){var y=h.length;if(!y)return u;var T=y-1;return h[T]=(y>1?"& ":"")+h[T],h=h.join(y>2?", ":" "),u.replace(mc,"{\n/* [wrapped with "+h+"] */\n")}function S(u){return _t(u)||Lu(u)||!!(Za&&u&&u[Za])}function _(u,h){var y=typeof u;return h=h==null?_e:h,!!h&&(y=="number"||y!="symbol"&&Yl.test(u))&&u>-1&&u%1==0&&u<h}function N(u,h,y){if(!kn(y))return!1;var T=typeof h;return(T=="number"?ui(y)&&_(h,y.length):T=="string"&&h in y)?_o(y[h],u):!1}function R(u,h){if(_t(u))return!1;var y=typeof u;return y=="number"||y=="symbol"||y=="boolean"||u==null||Li(u)?!0:br.test(u)||!Xl.test(u)||h!=null&&u in Ht(h)}function G(u){var h=typeof u;return h=="string"||h=="number"||h=="symbol"||h=="boolean"?u!=="__proto__":u===null}function Y(u){var h=Ou(u),y=H[h];if(typeof y!="function"||!(h in Dt.prototype))return!1;if(u===y)return!0;var T=qt(y);return!!T&&u===T[0]}function le(u){return!!bo&&bo in u}var ae=Yi?fs:Ow;function xe(u){var h=u&&u.constructor,y=typeof h=="function"&&h.prototype||Jo;return u===y}function Pe(u){return u===u&&!kn(u)}function De(u,h){return function(y){return y==null?!1:y[u]===h&&(h!==n||u in Ht(y))}}function Ke(u){var h=mv(u,function(T){return y.size===v&&y.clear(),T}),y=h.cache;return h}function qe(u,h){var y=u[1],T=h[1],D=y|T,W=D<(A|P|V),ee=T==V&&y==z||T==V&&y==ne&&u[7].length<=h[8]||T==(V|ne)&&h[7].length<=h[8]&&y==z;if(!(W||ee))return u;T&A&&(u[2]=h[2],D|=y&A?0:M);var oe=h[3];if(oe){var de=u[3];u[3]=de?tv(de,oe,h[4]):oe,u[4]=de?Yo(u[3],m):h[4]}return oe=h[5],oe&&(de=u[5],u[5]=de?rf(de,oe,h[6]):oe,u[6]=de?Yo(u[5],m):h[6]),oe=h[7],oe&&(u[7]=oe),T&V&&(u[8]=u[8]==null?h[8]:Yn(u[8],h[8])),u[9]==null&&(u[9]=h[9]),u[0]=h[0],u[1]=D,u}function Ge(u){var h=[];if(u!=null)for(var y in Ht(u))h.push(y);return h}function Ze(u){return Ya.call(u)}function at(u,h,y){return h=vn(h===n?u.length-1:h,0),function(){for(var T=arguments,D=-1,W=vn(T.length-h,0),ee=be(W);++D<W;)ee[D]=T[h+D];D=-1;for(var oe=be(h+1);++D<h;)oe[D]=T[D];return oe[h]=y(ee),Gr(u,this,oe)}}function ot(u,h){return h.length<2?u:ca(u,ai(h,0,-1))}function Tt(u,h){for(var y=u.length,T=Yn(h.length,y),D=Gn(u);T--;){var W=h[T];u[T]=_(W,y)?D[W]:n}return u}function Yt(u,h){if(!(h==="constructor"&&typeof u[h]=="function")&&h!="__proto__")return u[h]}var On=bn(xu),nn=G0||function(u,h){return dn.setTimeout(u,h)},lr=bn(bu);function ur(u,h,y){var T=h+"";return lr(u,w(T,yn(o(T),y)))}function bn(u){var h=0,y=0;return function(){var T=es(),D=J-(T-y);if(y=T,D>0){if(++h>=ze)return arguments[0]}else h=0;return u.apply(n,arguments)}}function qn(u,h){var y=-1,T=u.length,D=T-1;for(h=h===n?T:h;++y<h;){var W=Zc(y,D),ee=u[W];u[W]=u[y],u[y]=ee}return u.length=h,u}var Fn=Ke(function(u){var h=[];return u.charCodeAt(0)===46&&h.push(""),u.replace(gc,function(y,T,D,W){h.push(D?W.replace(yc,"$1"):T||y)}),h});function en(u){if(typeof u=="string"||Li(u))return u;var h=u+"";return h=="0"&&1/u==-Ne?"-0":h}function an(u){if(u!=null){try{return Qi.call(u)}catch{}try{return u+""}catch{}}return""}function yn(u,h){return ri(re,function(y){var T="_."+y[0];h&y[1]&&!iu(u,T)&&u.push(T)}),u.sort()}function cr(u){if(u instanceof Dt)return u.clone();var h=new Cr(u.__wrapped__,u.__chain__);return h.__actions__=Gn(u.__actions__),h.__index__=u.__index__,h.__values__=u.__values__,h}function hl(u,h,y){(y?N(u,h,y):h===n)?h=1:h=vn(Nt(h),0);var T=u==null?0:u.length;if(!T||h<1)return[];for(var D=0,W=0,ee=be(qs(T/h));D<T;)ee[W++]=ai(u,D,D+=h);return ee}function ga(u){for(var h=-1,y=u==null?0:u.length,T=0,D=[];++h<y;){var W=u[h];W&&(D[T++]=W)}return D}function nr(){var u=arguments.length;if(!u)return[];for(var h=be(u-1),y=arguments[0],T=u;T--;)h[T-1]=arguments[T];return Xo(_t(y)?Gn(y):[y],tr(h,1))}var ro=At(function(u,h){return $n(u)?Qs(u,tr(h,1,$n,!0)):[]}),jn=At(function(u,h){var y=io(h);return $n(y)&&(y=n),$n(u)?Qs(u,tr(h,1,$n,!0),ct(y,2)):[]}),uh=At(function(u,h){var y=io(h);return $n(y)&&(y=n),$n(u)?Qs(u,tr(h,1,$n,!0),n,y):[]});function ko(u,h,y){var T=u==null?0:u.length;return T?(h=y||h===n?1:Nt(h),ai(u,h<0?0:h,T)):[]}function us(u,h,y){var T=u==null?0:u.length;return T?(h=y||h===n?1:Nt(h),h=T-h,ai(u,0,h<0?0:h)):[]}function cs(u,h){return u&&u.length?ol(u,ct(h,3),!0,!0):[]}function fr(u,h){return u&&u.length?ol(u,ct(h,3),!0):[]}function pl(u,h,y,T){var D=u==null?0:u.length;return D?(y&&typeof y!="number"&&N(u,h,y)&&(y=0,T=D),Kd(u,h,y,T)):[]}function ff(u,h,y){var T=u==null?0:u.length;if(!T)return-1;var D=y==null?0:Nt(y);return D<0&&(D=vn(T+D,0)),_c(u,ct(h,3),D)}function HS(u,h,y){var T=u==null?0:u.length;if(!T)return-1;var D=T-1;return y!==n&&(D=Nt(y),D=y<0?vn(T+D,0):Yn(D,T-1)),_c(u,ct(h,3),D,!0)}function US(u){var h=u==null?0:u.length;return h?tr(u,1):[]}function TI(u){var h=u==null?0:u.length;return h?tr(u,Ne):[]}function kI(u,h){var y=u==null?0:u.length;return y?(h=h===n?1:Nt(h),tr(u,h)):[]}function _I(u){for(var h=-1,y=u==null?0:u.length,T={};++h<y;){var D=u[h];T[D[0]]=D[1]}return T}function WS(u){return u&&u.length?u[0]:n}function OI(u,h,y){var T=u==null?0:u.length;if(!T)return-1;var D=y==null?0:Nt(y);return D<0&&(D=vn(T+D,0)),qa(u,h,D)}function LI(u){var h=u==null?0:u.length;return h?ai(u,0,-1):[]}var PI=At(function(u){var h=Jt(u,eh);return h.length&&h[0]===u[0]?Xc(h):[]}),AI=At(function(u){var h=io(u),y=Jt(u,eh);return h===io(y)?h=n:y.pop(),y.length&&y[0]===u[0]?Xc(y,ct(h,2)):[]}),NI=At(function(u){var h=io(u),y=Jt(u,eh);return h=typeof h=="function"?h:n,h&&y.pop(),y.length&&y[0]===u[0]?Xc(y,n,h):[]});function II(u,h){return u==null?"":jc.call(u,h)}function io(u){var h=u==null?0:u.length;return h?u[h-1]:n}function RI(u,h,y){var T=u==null?0:u.length;if(!T)return-1;var D=T;return y!==n&&(D=Nt(y),D=D<0?vn(T+D,0):Yn(D,T-1)),h===h?au(u,h,D):_c(u,Oc,D,!0)}function MI(u,h){return u&&u.length?qg(u,Nt(h)):n}var FI=At(KS);function KS(u,h){return u&&u.length&&h&&h.length?Xd(u,h):u}function jI(u,h,y){return u&&u.length&&h&&h.length?Xd(u,h,ct(y,2)):u}function $I(u,h,y){return u&&u.length&&h&&h.length?Xd(u,h,n,y):u}var DI=To(function(u,h){var y=u==null?0:u.length,T=Wd(u,h);return Vd(u,Jt(h,function(D){return _(D,y)?+D:D}).sort(rh)),T});function BI(u,h){var y=[];if(!(u&&u.length))return y;var T=-1,D=[],W=u.length;for(h=ct(h,3);++T<W;){var ee=u[T];h(ee,T,u)&&(y.push(ee),D.push(T))}return Vd(u,D),y}function pw(u){return u==null?u:fu.call(u)}function zI(u,h,y){var T=u==null?0:u.length;return T?(y&&typeof y!="number"&&N(u,h,y)?(h=0,y=T):(h=h==null?0:Nt(h),y=y===n?T:Nt(y)),ai(u,h,y)):[]}function HI(u,h){return Co(u,h)}function UI(u,h,y){return Jc(u,h,ct(y,2))}function WI(u,h){var y=u==null?0:u.length;if(y){var T=Co(u,h);if(T<y&&_o(u[T],h))return T}return-1}function KI(u,h){return Co(u,h,!0)}function GI(u,h,y){return Jc(u,h,ct(y,2),!0)}function qI(u,h){var y=u==null?0:u.length;if(y){var T=Co(u,h,!0)-1;if(_o(u[T],h))return T}return-1}function XI(u){return u&&u.length?Qd(u):[]}function VI(u,h){return u&&u.length?Qd(u,ct(h,2)):[]}function YI(u){var h=u==null?0:u.length;return h?ai(u,1,h):[]}function QI(u,h,y){return u&&u.length?(h=y||h===n?1:Nt(h),ai(u,0,h<0?0:h)):[]}function ZI(u,h,y){var T=u==null?0:u.length;return T?(h=y||h===n?1:Nt(h),h=T-h,ai(u,h<0?0:h,T)):[]}function JI(u,h){return u&&u.length?ol(u,ct(h,3),!1,!0):[]}function eR(u,h){return u&&u.length?ol(u,ct(h,3)):[]}var tR=At(function(u){return Yr(tr(u,1,$n,!0))}),nR=At(function(u){var h=io(u);return $n(h)&&(h=n),Yr(tr(u,1,$n,!0),ct(h,2))}),rR=At(function(u){var h=io(u);return h=typeof h=="function"?h:n,Yr(tr(u,1,$n,!0),n,h)});function iR(u){return u&&u.length?Yr(u):[]}function oR(u,h){return u&&u.length?Yr(u,ct(h,2)):[]}function aR(u,h){return h=typeof h=="function"?h:n,u&&u.length?Yr(u,n,h):[]}function gw(u){if(!(u&&u.length))return[];var h=0;return u=qo(u,function(y){if($n(y))return h=vn(y.length,h),!0}),Xa(h,function(y){return Jt(u,Od(y))})}function GS(u,h){if(!(u&&u.length))return[];var y=gw(u);return h==null?y:Jt(y,function(T){return Gr(h,n,T)})}var sR=At(function(u,h){return $n(u)?Qs(u,h):[]}),lR=At(function(u){return as(qo(u,$n))}),uR=At(function(u){var h=io(u);return $n(h)&&(h=n),as(qo(u,$n),ct(h,2))}),cR=At(function(u){var h=io(u);return h=typeof h=="function"?h:n,as(qo(u,$n),n,h)}),fR=At(gw);function dR(u,h){return Jd(u||[],h||[],gu)}function hR(u,h){return Jd(u||[],h||[],Eo)}var pR=At(function(u){var h=u.length,y=h>1?u[h-1]:n;return y=typeof y=="function"?(u.pop(),y):n,GS(u,y)});function qS(u){var h=H(u);return h.__chain__=!0,h}function gR(u,h){return h(u),u}function pv(u,h){return h(u)}var vR=To(function(u){var h=u.length,y=h?u[0]:0,T=this.__wrapped__,D=function(W){return Wd(W,u)};return h>1||this.__actions__.length||!(T instanceof Dt)||!_(y)?this.thru(D):(T=T.slice(y,+y+(h?1:0)),T.__actions__.push({func:pv,args:[D],thisArg:n}),new Cr(T,this.__chain__).thru(function(W){return h&&!W.length&&W.push(n),W}))});function mR(){return qS(this)}function yR(){return new Cr(this.value(),this.__chain__)}function wR(){this.__values__===n&&(this.__values__=sC(this.value()));var u=this.__index__>=this.__values__.length,h=u?n:this.__values__[this.__index__++];return{done:u,value:h}}function xR(){return this}function bR(u){for(var h,y=this;y instanceof Dc;){var T=cr(y);T.__index__=0,T.__values__=n,h?D.__wrapped__=T:h=T;var D=T;y=y.__wrapped__}return D.__wrapped__=u,h}function ER(){var u=this.__wrapped__;if(u instanceof Dt){var h=u;return this.__actions__.length&&(h=new Dt(this)),h=h.reverse(),h.__actions__.push({func:pv,args:[pw],thisArg:n}),new Cr(h,this.__chain__)}return this.thru(pw)}function SR(){return Qg(this.__wrapped__,this.__actions__)}var CR=of(function(u,h,y){bt.call(u,y)?++u[y]:no(u,y,1)});function TR(u,h,y){var T=_t(u)?Td:Wc;return y&&N(u,h,y)&&(h=n),T(u,ct(h,3))}function kR(u,h){var y=_t(u)?qo:Gd;return y(u,ct(h,3))}var _R=oh(ff),OR=oh(HS);function LR(u,h){return tr(gv(u,h),1)}function PR(u,h){return tr(gv(u,h),Ne)}function AR(u,h,y){return y=y===n?1:Nt(y),tr(gv(u,h),y)}function XS(u,h){var y=_t(u)?ri:Xr;return y(u,ct(h,3))}function VS(u,h){var y=_t(u)?j0:Uc;return y(u,ct(h,3))}var NR=of(function(u,h,y){bt.call(u,y)?u[y].push(h):no(u,y,[h])});function IR(u,h,y,T){u=ui(u)?u:hf(u),y=y&&!T?Nt(y):0;var D=u.length;return y<0&&(y=vn(D+y,0)),xv(u)?y<=D&&u.indexOf(h,y)>-1:!!D&&qa(u,h,y)>-1}var RR=At(function(u,h,y){var T=-1,D=typeof h=="function",W=ui(u)?be(u.length):[];return Xr(u,function(ee){W[++T]=D?Gr(h,ee,y):Js(ee,h,y)}),W}),MR=of(function(u,h,y){no(u,y,h)});function gv(u,h){var y=_t(u)?Jt:il;return y(u,ct(h,3))}function FR(u,h,y,T){return u==null?[]:(_t(h)||(h=h==null?[]:[h]),y=T?n:y,_t(y)||(y=y==null?[]:[y]),or(u,h,y))}var jR=of(function(u,h,y){u[y?0:1].push(h)},function(){return[[],[]]});function $R(u,h,y){var T=_t(u)?kd:Pd,D=arguments.length<3;return T(u,ct(h,4),y,D,Xr)}function DR(u,h,y){var T=_t(u)?$0:Pd,D=arguments.length<3;return T(u,ct(h,4),y,D,Uc)}function BR(u,h){var y=_t(u)?qo:Gd;return y(u,yv(ct(h,3)))}function zR(u){var h=_t(u)?zc:lw;return h(u)}function HR(u,h,y){(y?N(u,h,y):h===n)?h=1:h=Nt(h);var T=_t(u)?ua:ha;return T(u,h)}function UR(u){var h=_t(u)?Fg:So;return h(u)}function WR(u){if(u==null)return 0;if(ui(u))return xv(u)?Va(u):u.length;var h=sr(u);return h==Pt||h==ut?u.size:Yc(u).length}function KR(u,h,y){var T=_t(u)?Ga:uw;return y&&N(u,h,y)&&(h=n),T(u,ct(h,3))}var GR=At(function(u,h){if(u==null)return[];var y=h.length;return y>1&&N(u,h[0],h[1])?h=[]:y>2&&N(h[0],h[1],h[2])&&(h=[h[0]]),or(u,tr(h,1),[])}),vv=K0||function(){return dn.Date.now()};function qR(u,h){if(typeof h!="function")throw new Ir(l);return u=Nt(u),function(){if(--u<1)return h.apply(this,arguments)}}function YS(u,h,y){return h=y?n:h,h=u&&h==null?u.length:h,li(u,V,n,n,n,n,h)}function QS(u,h){var y;if(typeof h!="function")throw new Ir(l);return u=Nt(u),function(){return--u>0&&(y=h.apply(this,arguments)),u<=1&&(h=n),y}}var vw=At(function(u,h,y){var T=A;if(y.length){var D=Yo(y,fl(vw));T|=U}return li(u,T,h,y,D)}),ZS=At(function(u,h,y){var T=A|P;if(y.length){var D=Yo(y,fl(ZS));T|=U}return li(h,T,u,y,D)});function JS(u,h,y){h=y?n:h;var T=li(u,z,n,n,n,n,n,h);return T.placeholder=JS.placeholder,T}function eC(u,h,y){h=y?n:h;var T=li(u,$,n,n,n,n,n,h);return T.placeholder=eC.placeholder,T}function tC(u,h,y){var T,D,W,ee,oe,de,Ie=0,Re=!1,$e=!1,Je=!0;if(typeof u!="function")throw new Ir(l);h=oo(h)||0,kn(y)&&(Re=!!y.leading,$e="maxWait"in y,W=$e?vn(oo(y.maxWait)||0,h):W,Je="trailing"in y?!!y.trailing:Je);function st(Dn){var Oo=T,hs=D;return T=D=n,Ie=Dn,ee=u.apply(hs,Oo),ee}function yt(Dn){return Ie=Dn,oe=nn(zt,h),Re?st(Dn):ee}function Mt(Dn){var Oo=Dn-de,hs=Dn-Ie,xC=h-Oo;return $e?Yn(xC,W-hs):xC}function wt(Dn){var Oo=Dn-de,hs=Dn-Ie;return de===n||Oo>=h||Oo<0||$e&&hs>=W}function zt(){var Dn=vv();if(wt(Dn))return Ut(Dn);oe=nn(zt,Mt(Dn))}function Ut(Dn){return oe=n,Je&&T?st(Dn):(T=D=n,ee)}function Pi(){oe!==n&&al(oe),Ie=0,T=de=D=oe=n}function Qr(){return oe===n?ee:Ut(vv())}function Ai(){var Dn=vv(),Oo=wt(Dn);if(T=arguments,D=this,de=Dn,Oo){if(oe===n)return yt(de);if($e)return al(oe),oe=nn(zt,h),st(de)}return oe===n&&(oe=nn(zt,h)),ee}return Ai.cancel=Pi,Ai.flush=Qr,Ai}var XR=At(function(u,h){return Dg(u,1,h)}),VR=At(function(u,h,y){return Dg(u,oo(h)||0,y)});function YR(u){return li(u,he)}function mv(u,h){if(typeof u!="function"||h!=null&&typeof h!="function")throw new Ir(l);var y=function(){var T=arguments,D=h?h.apply(this,T):T[0],W=y.cache;if(W.has(D))return W.get(D);var ee=u.apply(this,T);return y.cache=W.set(D,ee)||W,ee};return y.cache=new(mv.Cache||Jn),y}mv.Cache=Jn;function yv(u){if(typeof u!="function")throw new Ir(l);return function(){var h=arguments;switch(h.length){case 0:return!u.call(this);case 1:return!u.call(this,h[0]);case 2:return!u.call(this,h[0],h[1]);case 3:return!u.call(this,h[0],h[1],h[2])}return!u.apply(this,h)}}function QR(u){return QS(2,u)}var ZR=cw(function(u,h){h=h.length==1&&_t(h[0])?Jt(h[0],Sr(ct())):Jt(tr(h,1),Sr(ct()));var y=h.length;return At(function(T){for(var D=-1,W=Yn(T.length,y);++D<W;)T[D]=h[D].call(this,T[D]);return Gr(u,this,T)})}),mw=At(function(u,h){var y=Yo(h,fl(mw));return li(u,U,n,h,y)}),nC=At(function(u,h){var y=Yo(h,fl(nC));return li(u,X,n,h,y)}),JR=To(function(u,h){return li(u,ne,n,n,n,h)});function eM(u,h){if(typeof u!="function")throw new Ir(l);return h=h===n?h:Nt(h),At(u,h)}function tM(u,h){if(typeof u!="function")throw new Ir(l);return h=h==null?0:vn(Nt(h),0),At(function(y){var T=y[h],D=pa(y,0,h);return T&&Xo(D,T),Gr(u,this,D)})}function nM(u,h,y){var T=!0,D=!0;if(typeof u!="function")throw new Ir(l);return kn(y)&&(T="leading"in y?!!y.leading:T,D="trailing"in y?!!y.trailing:D),tC(u,h,{leading:T,maxWait:h,trailing:D})}function rM(u){return YS(u,1)}function iM(u,h){return mw(tf(h),u)}function oM(){if(!arguments.length)return[];var u=arguments[0];return _t(u)?u:[u]}function aM(u){return Tr(u,C)}function sM(u,h){return h=typeof h=="function"?h:n,Tr(u,C,h)}function lM(u){return Tr(u,x|C)}function uM(u,h){return h=typeof h=="function"?h:n,Tr(u,x|C,h)}function cM(u,h){return h==null||$g(u,h,dr(h))}function _o(u,h){return u===h||u!==u&&h!==h}var fM=tn(qc),dM=tn(function(u,h){return u>=h}),Lu=el(function(){return arguments}())?el:function(u){return Ln(u)&&bt.call(u,"callee")&&!Fc.call(u,"callee")},_t=be.isArray,hM=dg?Sr(dg):ow;function ui(u){return u!=null&&wv(u.length)&&!fs(u)}function $n(u){return Ln(u)&&ui(u)}function pM(u){return u===!0||u===!1||Ln(u)&&Kn(u)==Ae}var gl=uu||Ow,gM=hg?Sr(hg):tl;function vM(u){return Ln(u)&&u.nodeType===1&&!ch(u)}function mM(u){if(u==null)return!0;if(ui(u)&&(_t(u)||typeof u=="string"||typeof u.splice=="function"||gl(u)||df(u)||Lu(u)))return!u.length;var h=sr(u);if(h==Pt||h==ut)return!u.size;if(xe(u))return!Yc(u).length;for(var y in u)if(bt.call(u,y))return!1;return!0}function yM(u,h){return nl(u,h)}function wM(u,h,y){y=typeof y=="function"?y:n;var T=y?y(u,h):n;return T===n?nl(u,h,n,y):!!T}function yw(u){if(!Ln(u))return!1;var h=Kn(u);return h==Ye||h==tt||typeof u.message=="string"&&typeof u.name=="string"&&!ch(u)}function xM(u){return typeof u=="number"&&Lg(u)}function fs(u){if(!kn(u))return!1;var h=Kn(u);return h==vt||h==Bt||h==Ce||h==$t}function rC(u){return typeof u=="number"&&u==Nt(u)}function wv(u){return typeof u=="number"&&u>-1&&u%1==0&&u<=_e}function kn(u){var h=typeof u;return u!=null&&(h=="object"||h=="function")}function Ln(u){return u!=null&&typeof u=="object"}var iC=pg?Sr(pg):Ug;function bM(u,h){return u===h||os(u,h,dl(h))}function EM(u,h,y){return y=typeof y=="function"?y:n,os(u,h,dl(h),y)}function SM(u){return oC(u)&&u!=+u}function CM(u){if(ae(u))throw new xt(a);return rl(u)}function TM(u){return u===null}function kM(u){return u==null}function oC(u){return typeof u=="number"||Ln(u)&&Kn(u)==rt}function ch(u){if(!Ln(u)||Kn(u)!=kt)return!1;var h=Ks(u);if(h===null)return!0;var y=bt.call(h,"constructor")&&h.constructor;return typeof y=="function"&&y instanceof y&&Qi.call(y)==U0}var ww=gg?Sr(gg):yu;function _M(u){return rC(u)&&u>=-_e&&u<=_e}var aC=Sd?Sr(Sd):wu;function xv(u){return typeof u=="string"||!_t(u)&&Ln(u)&&Kn(u)==fe}function Li(u){return typeof u=="symbol"||Ln(u)&&Kn(u)==Ee}var df=Cd?Sr(Cd):Wg;function OM(u){return u===n}function LM(u){return Ln(u)&&sr(u)==We}function PM(u){return Ln(u)&&Kn(u)==Lt}var AM=tn(da),NM=tn(function(u,h){return u<=h});function sC(u){if(!u)return[];if(ui(u))return xv(u)?ii(u):Gn(u);if(ta&&u[ta])return xg(u[ta]());var h=sr(u),y=h==Pt?Ac:h==ut?Nc:hf;return y(u)}function ds(u){if(!u)return u===0?u:0;if(u=oo(u),u===Ne||u===-Ne){var h=u<0?-1:1;return h*Se}return u===u?u:0}function Nt(u){var h=ds(u),y=h%1;return h===h?y?h-y:h:0}function lC(u){return u?rs(Nt(u),0,te):0}function oo(u){if(typeof u=="number")return u;if(Li(u))return Le;if(kn(u)){var h=typeof u.valueOf=="function"?u.valueOf():u;u=kn(h)?h+"":h}if(typeof u!="string")return u===0?u:+u;u=ou(u);var y=xi.test(u);return y||Wr.test(u)?M0(u.slice(2),y?2:8):$s.test(u)?Le:+u}function uC(u){return Rr(u,ci(u))}function IM(u){return u?rs(Nt(u),-_e,_e):u===0?u:0}function rn(u){return u==null?"":ar(u)}var RM=sl(function(u,h){if(xe(h)||ui(h)){Rr(h,dr(h),u);return}for(var y in h)bt.call(h,y)&&gu(u,y,h[y])}),cC=sl(function(u,h){Rr(h,ci(h),u)}),bv=sl(function(u,h,y,T){Rr(h,ci(h),u,T)}),MM=sl(function(u,h,y,T){Rr(h,dr(h),u,T)}),FM=To(Wd);function jM(u,h){var y=eo(u);return h==null?y:Ud(y,h)}var $M=At(function(u,h){u=Ht(u);var y=-1,T=h.length,D=T>2?h[2]:n;for(D&&N(h[0],h[1],D)&&(T=1);++y<T;)for(var W=h[y],ee=ci(W),oe=-1,de=ee.length;++oe<de;){var Ie=ee[oe],Re=u[Ie];(Re===n||_o(Re,Jo[Ie])&&!bt.call(u,Ie))&&(u[Ie]=W[Ie])}return u}),DM=At(function(u){return u.push(n,ah),Gr(fC,n,u)});function BM(u,h){return Hs(u,ct(h,3),Vr)}function zM(u,h){return Hs(u,ct(h,3),Gc)}function HM(u,h){return u==null?u:Kc(u,ct(h,3),ci)}function UM(u,h){return u==null?u:Wn(u,ct(h,3),ci)}function WM(u,h){return u&&Vr(u,ct(h,3))}function KM(u,h){return u&&Gc(u,ct(h,3))}function GM(u){return u==null?[]:mu(u,dr(u))}function qM(u){return u==null?[]:mu(u,ci(u))}function xw(u,h,y){var T=u==null?n:ca(u,h);return T===n?y:T}function XM(u,h){return u!=null&&s(u,h,Bg)}function bw(u,h){return u!=null&&s(u,h,zg)}var VM=ss(function(u,h,y){h!=null&&typeof h.toString!="function"&&(h=Ya.call(h)),u[h]=y},Sw(fi)),YM=ss(function(u,h,y){h!=null&&typeof h.toString!="function"&&(h=Ya.call(h)),bt.call(u,h)?u[h].push(y):u[h]=[y]},ct),QM=At(Js);function dr(u){return ui(u)?zd(u):Yc(u)}function ci(u){return ui(u)?zd(u,!0):fa(u)}function ZM(u,h){var y={};return h=ct(h,3),Vr(u,function(T,D,W){no(y,h(T,D,W),T)}),y}function JM(u,h){var y={};return h=ct(h,3),Vr(u,function(T,D,W){no(y,D,h(T,D,W))}),y}var eF=sl(function(u,h,y){Qc(u,h,y)}),fC=sl(function(u,h,y,T){Qc(u,h,y,T)}),tF=To(function(u,h){var y={};if(u==null)return y;var T=!1;h=Jt(h,function(W){return W=Oi(W,u),T||(T=W.length>1),W}),Rr(u,lf(u),y),T&&(y=Tr(y,x|E|C,cv));for(var D=h.length;D--;)Eu(y,h[D]);return y});function nF(u,h){return dC(u,yv(ct(h)))}var rF=To(function(u,h){return u==null?{}:Xg(u,h)});function dC(u,h){if(u==null)return{};var y=Jt(lf(u),function(T){return[T]});return h=ct(h),Vg(u,y,function(T,D){return h(T,D[0])})}function iF(u,h,y){h=Oi(h,u);var T=-1,D=h.length;for(D||(D=1,u=n);++T<D;){var W=u==null?n:u[en(h[T])];W===n&&(T=D,W=y),u=fs(W)?W.call(u):W}return u}function oF(u,h,y){return u==null?u:Eo(u,h,y)}function aF(u,h,y,T){return T=typeof T=="function"?T:n,u==null?u:Eo(u,h,y,T)}var hC=si(dr),pC=si(ci);function sF(u,h,y){var T=_t(u),D=T||gl(u)||df(u);if(h=ct(h,4),y==null){var W=u&&u.constructor;D?y=T?new W:[]:kn(u)?y=fs(W)?eo(Ks(u)):{}:y={}}return(D?ri:Vr)(u,function(ee,oe,de){return h(y,ee,oe,de)}),y}function lF(u,h){return u==null?!0:Eu(u,h)}function uF(u,h,y){return u==null?u:ef(u,h,tf(y))}function cF(u,h,y,T){return T=typeof T=="function"?T:n,u==null?u:ef(u,h,tf(y),T)}function hf(u){return u==null?[]:Lc(u,dr(u))}function fF(u){return u==null?[]:Lc(u,ci(u))}function dF(u,h,y){return y===n&&(y=h,h=n),y!==n&&(y=oo(y),y=y===y?y:0),h!==n&&(h=oo(h),h=h===h?h:0),rs(oo(u),h,y)}function hF(u,h,y){return h=ds(h),y===n?(y=h,h=0):y=ds(y),u=oo(u),Zs(u,h,y)}function pF(u,h,y){if(y&&typeof y!="boolean"&&N(u,h,y)&&(h=y=n),y===n&&(typeof h=="boolean"?(y=h,h=n):typeof u=="boolean"&&(y=u,u=n)),u===n&&h===n?(u=0,h=1):(u=ds(u),h===n?(h=u,u=0):h=ds(h)),u>h){var T=u;u=h,h=T}if(y||u%1||h%1){var D=ia();return Yn(u+D*(h-u+R0("1e-"+((D+"").length-1))),h)}return Zc(u,h)}var gF=ll(function(u,h,y){return h=h.toLowerCase(),u+(y?gC(h):h)});function gC(u){return Ew(rn(u).toLowerCase())}function vC(u){return u=rn(u),u&&u.replace(Ql,yg).replace(sg,"")}function vF(u,h,y){u=rn(u),h=ar(h);var T=u.length;y=y===n?T:rs(Nt(y),0,T);var D=y;return y-=h.length,y>=0&&u.slice(y,D)==h}function mF(u){return u=rn(u),u&&Hr.test(u)?u.replace(Un,H0):u}function yF(u){return u=rn(u),u&&qi.test(u)?u.replace(Ha,"\\$&"):u}var wF=ll(function(u,h,y){return u+(y?"-":"")+h.toLowerCase()}),xF=ll(function(u,h,y){return u+(y?" ":"")+h.toLowerCase()}),bF=av("toLowerCase");function EF(u,h,y){u=rn(u),h=Nt(h);var T=h?Va(u):0;if(!h||T>=h)return u;var D=(h-T)/2;return af(Xs(D),y)+u+af(qs(D),y)}function SF(u,h,y){u=rn(u),h=Nt(h);var T=h?Va(u):0;return h&&T<h?u+af(h-T,y):u}function CF(u,h,y){u=rn(u),h=Nt(h);var T=h?Va(u):0;return h&&T<h?af(h-T,y)+u:u}function TF(u,h,y){return y||h==null?h=0:h&&(h=+h),cu(rn(u).replace(Ua,""),h||0)}function kF(u,h,y){return(y?N(u,h,y):h===n)?h=1:h=Nt(h),Yd(rn(u),h)}function _F(){var u=arguments,h=rn(u[0]);return u.length<3?h:h.replace(u[1],u[2])}var OF=ll(function(u,h,y){return u+(y?"_":"")+h.toLowerCase()});function LF(u,h,y){return y&&typeof y!="number"&&N(u,h,y)&&(h=y=n),y=y===n?te:y>>>0,y?(u=rn(u),u&&(typeof h=="string"||h!=null&&!ww(h))&&(h=ar(h),!h&&Ti(u))?pa(ii(u),0,y):u.split(h,y)):[]}var PF=ll(function(u,h,y){return u+(y?" ":"")+Ew(h)});function AF(u,h,y){return u=rn(u),y=y==null?0:rs(Nt(y),0,u.length),h=ar(h),u.slice(y,y+h.length)==h}function NF(u,h,y){var T=H.templateSettings;y&&N(u,h,y)&&(h=n),u=rn(u),h=bv({},h,T,sf);var D=bv({},h.imports,T.imports,sf),W=dr(D),ee=Lc(D,W),oe,de,Ie=0,Re=h.interpolate||cn,$e="__p += '",Je=Zo((h.escape||cn).source+"|"+Re.source+"|"+(Re===ql?yo:cn).source+"|"+(h.evaluate||cn).source+"|$","g"),st="//# sourceURL="+(bt.call(h,"sourceURL")?(h.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Ed+"]")+"\n";u.replace(Je,function(wt,zt,Ut,Pi,Qr,Ai){return Ut||(Ut=Pi),$e+=u.slice(Ie,Ai).replace(nt,wg),zt&&(oe=!0,$e+="' +\n__e("+zt+") +\n'"),Qr&&(de=!0,$e+="';\n"+Qr+";\n__p += '"),Ut&&($e+="' +\n((__t = ("+Ut+")) == null ? '' : __t) +\n'"),Ie=Ai+wt.length,wt}),$e+="';\n";var yt=bt.call(h,"variable")&&h.variable;if(!yt)$e="with (obj) {\n"+$e+"\n}\n";else if(Ur.test(yt))throw new xt(c);$e=(de?$e.replace(mt,""):$e).replace(Fs,"$1").replace(Hn,"$1;"),$e="function("+(yt||"obj")+") {\n"+(yt?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(oe?", __e = _.escape":"")+(de?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+$e+"return __p\n}";var Mt=yC(function(){return Vt(W,st+"return "+$e).apply(n,ee)});if(Mt.source=$e,yw(Mt))throw Mt;return Mt}function IF(u){return rn(u).toLowerCase()}function RF(u){return rn(u).toUpperCase()}function MF(u,h,y){if(u=rn(u),u&&(y||h===n))return ou(u);if(!u||!(h=ar(h)))return u;var T=ii(u),D=ii(h),W=Vo(T,D),ee=Pc(T,D)+1;return pa(T,W,ee).join("")}function FF(u,h,y){if(u=rn(u),u&&(y||h===n))return u.slice(0,Ic(u)+1);if(!u||!(h=ar(h)))return u;var T=ii(u),D=Pc(T,ii(h))+1;return pa(T,0,D).join("")}function jF(u,h,y){if(u=rn(u),u&&(y||h===n))return u.replace(Ua,"");if(!u||!(h=ar(h)))return u;var T=ii(u),D=Vo(T,ii(h));return pa(T,D).join("")}function $F(u,h){var y=me,T=we;if(kn(h)){var D="separator"in h?h.separator:D;y="length"in h?Nt(h.length):y,T="omission"in h?ar(h.omission):T}u=rn(u);var W=u.length;if(Ti(u)){var ee=ii(u);W=ee.length}if(y>=W)return u;var oe=y-Va(T);if(oe<1)return T;var de=ee?pa(ee,0,oe).join(""):u.slice(0,oe);if(D===n)return de+T;if(ee&&(oe+=de.length-oe),ww(D)){if(u.slice(oe).search(D)){var Ie,Re=de;for(D.global||(D=Zo(D.source,rn(Wa.exec(D))+"g")),D.lastIndex=0;Ie=D.exec(Re);)var $e=Ie.index;de=de.slice(0,$e===n?oe:$e)}}else if(u.indexOf(ar(D),oe)!=oe){var Je=de.lastIndexOf(D);Je>-1&&(de=de.slice(0,Je))}return de+T}function DF(u){return u=rn(u),u&&js.test(u)?u.replace(wi,Rc):u}var BF=ll(function(u,h,y){return u+(y?" ":"")+h.toUpperCase()}),Ew=av("toUpperCase");function mC(u,h,y){return u=rn(u),h=y?n:h,h===n?Vi(u)?ki(u):vg(u):u.match(h)||[]}var yC=At(function(u,h){try{return Gr(u,n,h)}catch(y){return yw(y)?y:new xt(y)}}),zF=To(function(u,h){return ri(h,function(y){y=en(y),no(u,y,vw(u[y],u))}),u});function HF(u){var h=u==null?0:u.length,y=ct();return u=h?Jt(u,function(T){if(typeof T[1]!="function")throw new Ir(l);return[y(T[0]),T[1]]}):[],At(function(T){for(var D=-1;++D<h;){var W=u[D];if(Gr(W[0],this,T))return Gr(W[1],this,T)}})}function UF(u){return jg(Tr(u,x))}function Sw(u){return function(){return u}}function WF(u,h){return u==null||u!==u?h:u}var KF=sv(),GF=sv(!0);function fi(u){return u}function Cw(u){return Kg(typeof u=="function"?u:Tr(u,x))}function qF(u){return Gg(Tr(u,x))}function XF(u,h){return qd(u,Tr(h,x))}var VF=At(function(u,h){return function(y){return Js(y,u,h)}}),YF=At(function(u,h){return function(y){return Js(u,y,h)}});function Tw(u,h,y){var T=dr(h),D=mu(h,T);y==null&&!(kn(h)&&(D.length||!T.length))&&(y=h,h=u,u=this,D=mu(h,dr(h)));var W=!(kn(y)&&"chain"in y)||!!y.chain,ee=fs(u);return ri(D,function(oe){var de=h[oe];u[oe]=de,ee&&(u.prototype[oe]=function(){var Ie=this.__chain__;if(W||Ie){var Re=u(this.__wrapped__),$e=Re.__actions__=Gn(this.__actions__);return $e.push({func:de,args:arguments,thisArg:u}),Re.__chain__=Ie,Re}return de.apply(u,Xo([this.value()],arguments))})}),u}function QF(){return dn._===this&&(dn._=_g),this}function kw(){}function ZF(u){return u=Nt(u),At(function(h){return qg(h,u)})}var JF=cl(Jt),ej=cl(Td),tj=cl(Ga);function wC(u){return R(u)?Od(en(u)):sw(u)}function nj(u){return function(h){return u==null?n:ca(u,h)}}var rj=lv(),ij=lv(!0);function _w(){return[]}function Ow(){return!1}function oj(){return{}}function aj(){return""}function sj(){return!0}function lj(u,h){if(u=Nt(u),u<1||u>_e)return[];var y=te,T=Yn(u,te);h=ct(h),u-=te;for(var D=Xa(T,h);++y<u;)h(y);return D}function uj(u){return _t(u)?Jt(u,en):Li(u)?[u]:Gn(Fn(rn(u)))}function cj(u){var h=++ea;return rn(u)+h}var fj=Cu(function(u,h){return u+h},0),dj=Tu("ceil"),hj=Cu(function(u,h){return u/h},1),pj=Tu("floor");function gj(u){return u&&u.length?vu(u,fi,qc):n}function vj(u,h){return u&&u.length?vu(u,ct(h,2),qc):n}function mj(u){return _d(u,fi)}function yj(u,h){return _d(u,ct(h,2))}function wj(u){return u&&u.length?vu(u,fi,da):n}function xj(u,h){return u&&u.length?vu(u,ct(h,2),da):n}var bj=Cu(function(u,h){return u*h},1),Ej=Tu("round"),Sj=Cu(function(u,h){return u-h},0);function Cj(u){return u&&u.length?Ad(u,fi):0}function Tj(u,h){return u&&u.length?Ad(u,ct(h,2)):0}return H.after=qR,H.ary=YS,H.assign=RM,H.assignIn=cC,H.assignInWith=bv,H.assignWith=MM,H.at=FM,H.before=QS,H.bind=vw,H.bindAll=zF,H.bindKey=ZS,H.castArray=oM,H.chain=qS,H.chunk=hl,H.compact=ga,H.concat=nr,H.cond=HF,H.conforms=UF,H.constant=Sw,H.countBy=CR,H.create=jM,H.curry=JS,H.curryRight=eC,H.debounce=tC,H.defaults=$M,H.defaultsDeep=DM,H.defer=XR,H.delay=VR,H.difference=ro,H.differenceBy=jn,H.differenceWith=uh,H.drop=ko,H.dropRight=us,H.dropRightWhile=cs,H.dropWhile=fr,H.fill=pl,H.filter=kR,H.flatMap=LR,H.flatMapDeep=PR,H.flatMapDepth=AR,H.flatten=US,H.flattenDeep=TI,H.flattenDepth=kI,H.flip=YR,H.flow=KF,H.flowRight=GF,H.fromPairs=_I,H.functions=GM,H.functionsIn=qM,H.groupBy=NR,H.initial=LI,H.intersection=PI,H.intersectionBy=AI,H.intersectionWith=NI,H.invert=VM,H.invertBy=YM,H.invokeMap=RR,H.iteratee=Cw,H.keyBy=MR,H.keys=dr,H.keysIn=ci,H.map=gv,H.mapKeys=ZM,H.mapValues=JM,H.matches=qF,H.matchesProperty=XF,H.memoize=mv,H.merge=eF,H.mergeWith=fC,H.method=VF,H.methodOf=YF,H.mixin=Tw,H.negate=yv,H.nthArg=ZF,H.omit=tF,H.omitBy=nF,H.once=QR,H.orderBy=FR,H.over=JF,H.overArgs=ZR,H.overEvery=ej,H.overSome=tj,H.partial=mw,H.partialRight=nC,H.partition=jR,H.pick=rF,H.pickBy=dC,H.property=wC,H.propertyOf=nj,H.pull=FI,H.pullAll=KS,H.pullAllBy=jI,H.pullAllWith=$I,H.pullAt=DI,H.range=rj,H.rangeRight=ij,H.rearg=JR,H.reject=BR,H.remove=BI,H.rest=eM,H.reverse=pw,H.sampleSize=HR,H.set=oF,H.setWith=aF,H.shuffle=UR,H.slice=zI,H.sortBy=GR,H.sortedUniq=XI,H.sortedUniqBy=VI,H.split=LF,H.spread=tM,H.tail=YI,H.take=QI,H.takeRight=ZI,H.takeRightWhile=JI,H.takeWhile=eR,H.tap=gR,H.throttle=nM,H.thru=pv,H.toArray=sC,H.toPairs=hC,H.toPairsIn=pC,H.toPath=uj,H.toPlainObject=uC,H.transform=sF,H.unary=rM,H.union=tR,H.unionBy=nR,H.unionWith=rR,H.uniq=iR,H.uniqBy=oR,H.uniqWith=aR,H.unset=lF,H.unzip=gw,H.unzipWith=GS,H.update=uF,H.updateWith=cF,H.values=hf,H.valuesIn=fF,H.without=sR,H.words=mC,H.wrap=iM,H.xor=lR,H.xorBy=uR,H.xorWith=cR,H.zip=fR,H.zipObject=dR,H.zipObjectDeep=hR,H.zipWith=pR,H.entries=hC,H.entriesIn=pC,H.extend=cC,H.extendWith=bv,Tw(H,H),H.add=fj,H.attempt=yC,H.camelCase=gF,H.capitalize=gC,H.ceil=dj,H.clamp=dF,H.clone=aM,H.cloneDeep=lM,H.cloneDeepWith=uM,H.cloneWith=sM,H.conformsTo=cM,H.deburr=vC,H.defaultTo=WF,H.divide=hj,H.endsWith=vF,H.eq=_o,H.escape=mF,H.escapeRegExp=yF,H.every=TR,H.find=_R,H.findIndex=ff,H.findKey=BM,H.findLast=OR,H.findLastIndex=HS,H.findLastKey=zM,H.floor=pj,H.forEach=XS,H.forEachRight=VS,H.forIn=HM,H.forInRight=UM,H.forOwn=WM,H.forOwnRight=KM,H.get=xw,H.gt=fM,H.gte=dM,H.has=XM,H.hasIn=bw,H.head=WS,H.identity=fi,H.includes=IR,H.indexOf=OI,H.inRange=hF,H.invoke=QM,H.isArguments=Lu,H.isArray=_t,H.isArrayBuffer=hM,H.isArrayLike=ui,H.isArrayLikeObject=$n,H.isBoolean=pM,H.isBuffer=gl,H.isDate=gM,H.isElement=vM,H.isEmpty=mM,H.isEqual=yM,H.isEqualWith=wM,H.isError=yw,H.isFinite=xM,H.isFunction=fs,H.isInteger=rC,H.isLength=wv,H.isMap=iC,H.isMatch=bM,H.isMatchWith=EM,H.isNaN=SM,H.isNative=CM,H.isNil=kM,H.isNull=TM,H.isNumber=oC,H.isObject=kn,H.isObjectLike=Ln,H.isPlainObject=ch,H.isRegExp=ww,H.isSafeInteger=_M,H.isSet=aC,H.isString=xv,H.isSymbol=Li,H.isTypedArray=df,H.isUndefined=OM,H.isWeakMap=LM,H.isWeakSet=PM,H.join=II,H.kebabCase=wF,H.last=io,H.lastIndexOf=RI,H.lowerCase=xF,H.lowerFirst=bF,H.lt=AM,H.lte=NM,H.max=gj,H.maxBy=vj,H.mean=mj,H.meanBy=yj,H.min=wj,H.minBy=xj,H.stubArray=_w,H.stubFalse=Ow,H.stubObject=oj,H.stubString=aj,H.stubTrue=sj,H.multiply=bj,H.nth=MI,H.noConflict=QF,H.noop=kw,H.now=vv,H.pad=EF,H.padEnd=SF,H.padStart=CF,H.parseInt=TF,H.random=pF,H.reduce=$R,H.reduceRight=DR,H.repeat=kF,H.replace=_F,H.result=iF,H.round=Ej,H.runInContext=ue,H.sample=zR,H.size=WR,H.snakeCase=OF,H.some=KR,H.sortedIndex=HI,H.sortedIndexBy=UI,H.sortedIndexOf=WI,H.sortedLastIndex=KI,H.sortedLastIndexBy=GI,H.sortedLastIndexOf=qI,H.startCase=PF,H.startsWith=AF,H.subtract=Sj,H.sum=Cj,H.sumBy=Tj,H.template=NF,H.times=lj,H.toFinite=ds,H.toInteger=Nt,H.toLength=lC,H.toLower=IF,H.toNumber=oo,H.toSafeInteger=IM,H.toString=rn,H.toUpper=RF,H.trim=MF,H.trimEnd=FF,H.trimStart=jF,H.truncate=$F,H.unescape=DF,H.uniqueId=cj,H.upperCase=BF,H.upperFirst=Ew,H.each=XS,H.eachRight=VS,H.first=WS,Tw(H,function(){var u={};return Vr(H,function(h,y){bt.call(H.prototype,y)||(u[y]=h)}),u}(),{chain:!1}),H.VERSION=r,ri(["bind","bindKey","curry","curryRight","partial","partialRight"],function(u){H[u].placeholder=H}),ri(["drop","take"],function(u,h){Dt.prototype[u]=function(y){y=y===n?1:vn(Nt(y),0);var T=this.__filtered__&&!h?new Dt(this):this.clone();return T.__filtered__?T.__takeCount__=Yn(y,T.__takeCount__):T.__views__.push({size:Yn(y,te),type:u+(T.__dir__<0?"Right":"")}),T},Dt.prototype[u+"Right"]=function(y){return this.reverse()[u](y).reverse()}}),ri(["filter","map","takeWhile"],function(u,h){var y=h+1,T=y==Z||y==Me;Dt.prototype[u]=function(D){var W=this.clone();return W.__iteratees__.push({iteratee:ct(D,3),type:y}),W.__filtered__=W.__filtered__||T,W}}),ri(["head","last"],function(u,h){var y="take"+(h?"Right":"");Dt.prototype[u]=function(){return this[y](1).value()[0]}}),ri(["initial","tail"],function(u,h){var y="drop"+(h?"":"Right");Dt.prototype[u]=function(){return this.__filtered__?new Dt(this):this[y](1)}}),Dt.prototype.compact=function(){return this.filter(fi)},Dt.prototype.find=function(u){return this.filter(u).head()},Dt.prototype.findLast=function(u){return this.reverse().find(u)},Dt.prototype.invokeMap=At(function(u,h){return typeof u=="function"?new Dt(this):this.map(function(y){return Js(y,u,h)})}),Dt.prototype.reject=function(u){return this.filter(yv(ct(u)))},Dt.prototype.slice=function(u,h){u=Nt(u);var y=this;return y.__filtered__&&(u>0||h<0)?new Dt(y):(u<0?y=y.takeRight(-u):u&&(y=y.drop(u)),h!==n&&(h=Nt(h),y=h<0?y.dropRight(-h):y.take(h-u)),y)},Dt.prototype.takeRightWhile=function(u){return this.reverse().takeWhile(u).reverse()},Dt.prototype.toArray=function(){return this.take(te)},Vr(Dt.prototype,function(u,h){var y=/^(?:filter|find|map|reject)|While$/.test(h),T=/^(?:head|last)$/.test(h),D=H[T?"take"+(h=="last"?"Right":""):h],W=T||/^find/.test(h);D&&(H.prototype[h]=function(){var ee=this.__wrapped__,oe=T?[1]:arguments,de=ee instanceof Dt,Ie=oe[0],Re=de||_t(ee),$e=function(zt){var Ut=D.apply(H,Xo([zt],oe));return T&&Je?Ut[0]:Ut};Re&&y&&typeof Ie=="function"&&Ie.length!=1&&(de=Re=!1);var Je=this.__chain__,st=!!this.__actions__.length,yt=W&&!Je,Mt=de&&!st;if(!W&&Re){ee=Mt?ee:new Dt(this);var wt=u.apply(ee,oe);return wt.__actions__.push({func:pv,args:[$e],thisArg:n}),new Cr(wt,Je)}return yt&&Mt?u.apply(this,oe):(wt=this.thru($e),yt?T?wt.value()[0]:wt.value():wt)})}),ri(["pop","push","shift","sort","splice","unshift"],function(u){var h=Ws[u],y=/^(?:push|sort|unshift)$/.test(u)?"tap":"thru",T=/^(?:pop|shift)$/.test(u);H.prototype[u]=function(){var D=arguments;if(T&&!this.__chain__){var W=this.value();return h.apply(_t(W)?W:[],D)}return this[y](function(ee){return h.apply(_t(ee)?ee:[],D)})}}),Vr(Dt.prototype,function(u,h){var y=H[h];if(y){var T=y.name+"";bt.call(Ys,T)||(Ys[T]=[]),Ys[T].push({name:h,func:y})}}),Ys[Su(n,P).name]=[{name:"wrapper",func:n}],Dt.prototype.clone=Z0,Dt.prototype.reverse=J0,Dt.prototype.value=Rd,H.prototype.at=vR,H.prototype.chain=mR,H.prototype.commit=yR,H.prototype.next=wR,H.prototype.plant=bR,H.prototype.reverse=ER,H.prototype.toJSON=H.prototype.valueOf=H.prototype.value=SR,H.prototype.first=H.prototype.head,ta&&(H.prototype[ta]=xR),H},Qo=Tg();Er?((Er.exports=Qo)._=Qo,tu._=Qo):dn._=Qo}).call(An)})(wy,wy.exports);var TS=wy.exports;const fee=/\r?\n/;function J2(e){return e.replace(/\\/g,"\\\\").replace(/([[\]{}])/g,"\\$1")}function Sm(e){return e.replace(/^::/gm,"\\::")}function dee(e){const t=J2(e.name).replace(/^\s+/g,a=>"\\ ".repeat(a.length)).replace(/\s+$/g,a=>"\\ ".repeat(a.length)),n=e.tags.length>0?"[".concat(e.tags.map(J2).join(" "),"]"):void 0,r=JSON.stringify({position:"".concat(e.left,",").concat(e.top),size:"".concat(e.width,",").concat(e.height)}).replace(/\s+/g,""),i=Sm(e.text);return":: ".concat(t).concat(n?" "+n:""," ").concat(r,"\n").concat(i,"\n")}function hee(e){const[t,...n]=e.split(fee),r=/^::\s*(.*?(?:\\\s)?)\s*(\[.*?\])?\s*(\{.*?\})?\s*$/.exec(t);if(!r)throw new Error("Header line couldn't be parsed: ".concat(t));const[,i,a,l]=r;if(i.trim()==="")throw new Error("Passage name couldn't be found in header line: ".concat(t));const c={...Wl(),id:pn(),name:e_(i.replace(/^(\\\s)+/g,p=>" ".repeat(p.length/2)).replace(/(\\\s)+$/g,p=>" ".repeat(p.length/2))),tags:[],text:n.map(vee).join("\n").trim()};if(a&&(c.tags=a.replace(/^\[(.*)\]$/g,"$1").split(/\s/).filter(p=>p.trim()!=="").map(p=>e_(p))),l)try{const p=JSON.parse(l);if(typeof p.position=="string"){const[v,m]=p.position.split(",").map(parseFloat);typeof v=="number"&&typeof m=="number"?(c.left=v,c.top=m):console.warn("Couldn't parse passage position metadata ".concat(p.position))}if(typeof p.size=="string"){const[v,m]=p.size.split(",").map(parseFloat);typeof v=="number"&&typeof m=="number"?(c.width=v,c.height=m):console.warn("Couldn't parse passage size metadata ".concat(p.size))}}catch{console.warn("Couldn't parse passage metadata ".concat(l))}return c}function pee(e){const t=pn(),n={...id(),id:t,ifid:pn(),lastUpdate:new Date,passages:e.split(/^::/m).filter(a=>a.trim()!=="").map(a=>":: "+a).map(hee).map(a=>({...a,story:t})),script:""};n.passages=n.passages.filter(a=>{const l=a.tags.includes("script"),c=a.tags.includes("stylesheet");return!l&&!c||l&&c?!0:(l?n.script+=a.text+"\n":c&&(n.stylesheet+=a.text+"\n"),!1)}),n.script=n.script.trim(),n.stylesheet=n.stylesheet.trim();const r=n.passages.findIndex(a=>a.name==="StoryTitle");r!==-1&&(n.name=n.passages[r].text.trim(),n.passages.splice(r,1));const i=n.passages.findIndex(a=>a.name==="StoryData");if(i!==-1){const a=n.passages[i];n.passages.splice(i,1);try{const{ifid:l,format:c,"format-version":p,start:v,"tag-colors":m,zoom:x}=JSON.parse(a.text);if(typeof l=="string"&&(n.ifid=l),typeof c=="string"&&(n.storyFormat=c),typeof p=="string"&&(n.storyFormatVersion=p),typeof v=="string"){const E=n.passages.find(C=>C.name===v);E?n.startPassage=E.id:console.warn("Couldn't find start passage with name \"".concat(v,'"'))}if(typeof m=="object")for(const E in m)typeof m[E]=="string"?n.tagColors[E]=m[E]:console.warn('Tag "'.concat(E,'" has non-string color'));typeof x=="number"&&(n.zoom=x)}catch{console.warn("Couldn't parse story data: ".concat(a.text))}}else console.warn("No StoryData passage is present in Twee");return n.passages.every(({left:a,top:l})=>a===0&&l===0)&&(n.passages=n.passages.map((a,l)=>({...a,left:25+125*(l%10),top:25+125*Math.floor(l/10)}))),n}function gee(e){const t=":: StoryTitle\n".concat(Sm(e.name)),n=e.passages.find(l=>l.id===e.startPassage),r=":: StoryData\n".concat(JSON.stringify({ifid:e.ifid,format:e.storyFormat,"format-version":e.storyFormatVersion,start:n==null?void 0:n.name,"tag-colors":Object.keys(e.tagColors).length>0?e.tagColors:void 0,zoom:e.zoom},null,2));let i="".concat(t,"\n\n\n").concat(r,"\n\n\n").concat(TS.sortBy(e.passages,["name"]).map(dee).join("\n\n"));const a=e.passages.map(({name:l})=>l);if(e.script.trim()!==""){const l=dp("StoryScript",a);i+="\n\n:: ".concat(l," [script]\n").concat(Sm(e.script))}if(e.stylesheet.trim()!==""){const l=dp("StoryStylesheet",a);i+="\n\n:: ".concat(l," [stylesheet]\n").concat(Sm(e.stylesheet))}return i}function e_(e){return e.replace(/\\([[\]{}])/g,"$1").replace(/\\\\/g,"\\")}function vee(e){return e.replace(/^\\:/gm,":")}const mee=e=>{const{onChange:t}=e,{t:n}=Xe();function r(i,a){/\.html$/.test(i.name)?t(i,wA(a)):t(i,[pee(a)])}return b.jsx("div",{className:"file-chooser",children:b.jsx("p",{children:b.jsx(cee,{accept:".html,.twee,.tw",onChange:r,orientation:"vertical",children:n("dialogs.storyImport.filePrompt")})})})};const yee=e=>{const{existingStories:t,onImport:n,stories:r}=e,[i,a]=O.useState([]),{t:l}=Xe(),c=O.useCallback(v=>t.some(m=>hi(m)===hi(v)),[t]);O.useEffect(()=>{a(r.filter(v=>!c(v)))},[r,c]);function p(v,m){a(m?x=>[...x,v]:x=>x.filter(E=>E.id!==v.id))}return b.jsxs("div",{className:"story-chooser",children:[b.jsx("p",{children:l("dialogs.storyImport.storiesPrompt")}),b.jsx("ul",{children:r.map(v=>b.jsxs("li",{children:[b.jsx(Pa,{label:v.name,onChange:m=>p(v,m),value:i.includes(v)}),i.includes(v)&&c(v)&&b.jsx("span",{className:"replace-warning",children:l("dialogs.storyImport.willReplaceExisting")})]},v.id))}),b.jsx("div",{className:"actions",children:b.jsx(it,{disabled:i.length===0,icon:b.jsx(WL,{}),label:l("dialogs.storyImport.importSelected"),onClick:()=>n(i),variant:"primary"})})]})};const wee=e=>{const{onClose:t}=e,{t:n}=Xe(),r=jN(),{dispatch:i,stories:a}=gn(),[l,c]=O.useState(),[p,v]=O.useState([]);function m(E){i(G5(E,a)),r(),t()}function x(E,C){C.length===0||C.some(I=>a.some(j=>hi(j)===hi(I)))?(c(E),v(C)):m(C)}return b.jsx(Uo,{...e,className:"story-import-dialog",fixedSize:!0,headerLabel:n("dialogs.storyImport.title"),children:b.jsxs(_r,{children:[b.jsx(mee,{onChange:x}),l&&p.length>0&&b.jsx(yee,{existingStories:a,onImport:m,stories:p}),l&&p.length===0&&b.jsx("p",{children:n("dialogs.storyImport.noStoriesInFile")})]})})};const xee=e=>{const{storyId:t,...n}=e,[r,i]=O.useState(),{dispatch:a,stories:l}=gn(),{prefs:c}=Zt(),p=sn(l,t),{t:v}=Xe(),m=(x,E,C)=>{i(x),a(Zr(l,p,{script:C}))};return b.jsxs(Uo,{...n,className:"story-javascript-dialog",headerLabel:v("dialogs.storyJavaScript.title"),maximizable:!0,children:[b.jsxs(Nn,{children:[b.jsx(gS,{editor:r,watch:p.script}),b.jsx(mN,{editor:r})]}),b.jsx(fS,{children:b.jsx(_p,{editorDidMount:i,fontFamily:c.codeEditorFontFamily,fontScale:c.codeEditorFontScale,label:v("dialogs.storyJavaScript.editorLabel"),labelHidden:!0,onBeforeChange:m,options:{...pS(c),autofocus:!0,lineWrapping:!0,mode:"javascript",placeholder:v("dialogs.storyJavaScript.explanation")},value:p.script})})]})},bee=e=>{const{formats:t,selectedFormat:n,...r}=e,{t:i}=Xe(),a=t.filter(p=>p.loadState==="loading"),c=yA(t.filter(p=>p.loadState==="loaded"||p.id===n.id)).map(p=>({disabled:!1,label:"".concat(p.name," ").concat(p.version),value:p.id}));return a.length!==0&&c.push({disabled:!0,label:i("components.storyFormatSelect.loadingCount",{loadingCount:a.length}),value:""}),b.jsx(Ps,{...r,options:c,value:n.id})};const Eee=({children:e,domId:t,percent:n})=>b.jsxs("div",{className:"meter",id:t,role:"meter","aria-labelledby":"".concat(t,"-label"),"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":n*100,children:[b.jsx("div",{className:"meter-bar",children:b.jsx("span",{className:"filled",style:{width:n*100+"%"}})}),b.jsx("div",{className:"meter-label",id:"".concat(t,"-label"),children:e})]}),$N=({block:e,children:t})=>{const[n,r]=O.useState([]),{dispatch:i,formats:a}=Wi();O.useEffect(()=>{const p=a.filter(v=>!n.find(m=>m.name===v.name&&m.version===v.version));p.length>0&&(i(IG(p)),r([...n,...p]))},[i,a,n]);const l=a.find(p=>p.loadState==="loading"),c=a.filter(p=>p.loadState==="loaded").length/a.length;return e&&c<1?b.jsx(Eee,{domId:"story-format-loader",percent:c,children:l&&b.jsxs(b.Fragment,{children:["Loading ",l.name," ",l.version]})}):b.jsx(b.Fragment,{children:t})};const See=new Intl.DateTimeFormat([],{dateStyle:"full",timeStyle:"long"}),Cee=e=>{const{story:t}=e,n=H5(t),{t:r}=Xe();return b.jsxs("div",{className:"story-stats",children:[b.jsx("table",{className:"counts",children:b.jsxs("tbody",{children:[b.jsxs("tr",{children:[b.jsx("td",{children:n.characters}),b.jsx("td",{children:r("dialogs.storyDetails.stats.characters")})]}),b.jsxs("tr",{children:[b.jsx("td",{children:n.words}),b.jsx("td",{children:r("dialogs.storyDetails.stats.words")})]}),b.jsxs("tr",{children:[b.jsx("td",{children:n.passages}),b.jsx("td",{children:r("dialogs.storyDetails.stats.passages")})]}),b.jsxs("tr",{children:[b.jsx("td",{children:n.links.length}),b.jsx("td",{children:r("dialogs.storyDetails.stats.links")})]}),b.jsxs("tr",{children:[b.jsx("td",{children:n.brokenLinks.length}),b.jsx("td",{children:r("dialogs.storyDetails.stats.brokenLinks")})]})]})}),b.jsxs("div",{className:"update-and-ifid",children:[b.jsx("p",{children:r("dialogs.storyDetails.stats.lastUpdate",{date:See.format(t.lastUpdate)})}),b.jsxs("p",{children:[r("dialogs.storyDetails.stats.ifid",{ifid:t.ifid}),"",b.jsx("a",{href:"https://ifdb.org/help-ifid",target:"_blank",rel:"noreferrer",children:r("dialogs.storyDetails.stats.ifidExplanation")})]})]})]})},Tee=e=>{const{storyId:t,...n}=e,{dispatch:r,stories:i}=gn(),{formats:a}=Wi(),l=sn(i,t),{t:c}=Xe();function p(v){const m=DG(a,v.target.value);r(Zr(i,l,{storyFormat:m.name,storyFormatVersion:m.version}))}return b.jsxs(Uo,{...n,className:"story-details-dialog",fixedSize:!0,headerLabel:l.name,children:[b.jsxs("div",{className:"story-format",children:[b.jsx($N,{block:!1}),b.jsx(bee,{formats:a,onChange:p,selectedFormat:ho(a,l.storyFormat,l.storyFormatVersion),children:c("common.storyFormat")}),b.jsx("a",{href:"https://twinery.org/2storyformats",target:"_blank",rel:"noreferrer",children:c("dialogs.storyDetails.storyFormatExplanation")})]}),b.jsx(Nn,{children:b.jsx(Pa,{label:c("dialogs.storyDetails.snapToGrid"),onChange:v=>r(Zr(i,l,{snapToGrid:v})),value:l.snapToGrid})}),b.jsx(_r,{children:!n.collapsed&&b.jsx(Cee,{story:l})})]})};const t_={Tab:!1,"Shift-Tab":!1},kee=e=>{var U,X,V;const{find:t,flags:n,replace:r,storyId:i,onClose:a,onChangeProps:l,...c}=e,p=O.useRef(!1),{dispatch:v,stories:m}=Gi(),{t:x}=Xe(),E=sn(m,i),C=O.useMemo(()=>z5(E.passages,t,n).map(({id:ne})=>ne),[t,n,E.passages]),I=O.useMemo(()=>TS.debounce(v,250,{leading:!1,trailing:!0}),[v]);O.useEffect(()=>{p.current||I(yk(E,C))},[I,C,E]);function j(ne){var he,me,we;l({storyId:i,find:(he=ne.find)!=null?he:t,flags:(me=ne.flags)!=null?me:n,replace:(we=ne.replace)!=null?we:r})}function A(){p.current=!0,v(yk(E,[])),a()}function P(ne,he,me){j({replace:me})}function M(ne,he,me){j({find:me})}function z(){v(K5(E,t,r,n),"undoChange.replaceAllText")}function $(ne){j({flags:{...n,[ne]:!n[ne]}})}return b.jsxs(Uo,{...c,className:"story-search-dialog",fixedSize:!0,headerLabel:x("dialogs.storySearch.title"),onClose:A,children:[b.jsxs("div",{className:"search-fields",children:[b.jsx(_p,{label:x("dialogs.storySearch.find"),onBeforeChange:M,options:{extraKeys:t_,mode:"text"},value:t}),b.jsx(_p,{label:x("dialogs.storySearch.replaceWith"),onBeforeChange:P,options:{extraKeys:t_,mode:"text"},value:r})]}),b.jsxs("div",{className:"search-flags",children:[b.jsx(Pa,{label:x("dialogs.storySearch.includePassageNames"),onChange:()=>$("includePassageNames"),value:(U=n.includePassageNames)!=null?U:!1}),b.jsx(Pa,{label:x("dialogs.storySearch.matchCase"),onChange:()=>$("matchCase"),value:(X=n.matchCase)!=null?X:!1}),b.jsx(Pa,{label:x("dialogs.storySearch.useRegexes"),onChange:()=>$("useRegexes"),value:(V=n.useRegexes)!=null?V:!1})]}),b.jsxs("div",{className:"search-results",children:[b.jsx(it,{disabled:C.length===0,icon:b.jsx(l4,{}),label:x("dialogs.storySearch.replaceAll"),onClick:z,variant:"danger"}),b.jsx("span",{children:t&&(C.length>0?x("dialogs.storySearch.matchCount",{count:C.length}):x("dialogs.storySearch.noMatches"))})]})]})};const _ee=e=>{const{storyId:t,...n}=e,[r,i]=O.useState(),{dispatch:a,stories:l}=gn(),{prefs:c}=Zt(),p=sn(l,t),{t:v}=Xe(),m=(x,E,C)=>{i(x),a(Zr(l,p,{stylesheet:C}))};return b.jsxs(Uo,{...n,className:"story-stylesheet-dialog",headerLabel:v("dialogs.storyStylesheet.title"),maximizable:!0,children:[b.jsxs(Nn,{children:[b.jsx(gS,{editor:r,watch:p.script}),b.jsx(mN,{editor:r})]}),b.jsx(fS,{children:b.jsx(_p,{editorDidMount:i,fontFamily:c.codeEditorFontFamily,fontScale:c.codeEditorFontScale,label:v("dialogs.storyStylesheet.editorLabel"),labelHidden:!0,onBeforeChange:m,options:{...pS(c),autofocus:!0,lineWrapping:!0,mode:"css",placeholder:v("dialogs.storyStylesheet.explanation")},value:p.stylesheet})})]})},Oee=e=>{const{dispatch:t,stories:n}=Gi(),{dispatch:r,prefs:i}=Zt(),{t:a}=Xe(),l=LE(n);function c(v,m){r(pr("storyTagColors",{...i.storyTagColors,[v]:m}))}function p(v,m){t(V5(n,v,m))}return b.jsx(Uo,{className:"story-tags-dialog",fixedSize:!0,headerLabel:a("dialogs.storyTags.title"),...e,children:b.jsx(_r,{children:l.length>0?l.map(v=>b.jsx(FN,{allTags:l,color:i.storyTagColors[v],name:v,onChangeColor:m=>c(v,m),onChangeName:m=>p(v,m)},v)):b.jsx("p",{children:a("dialogs.storyTags.noTags")})})})};function kS(e){return function(t){return!!t.type&&t.type.tabsRole===e}}var m0=kS("Tab"),_S=kS("TabList"),y0=kS("TabPanel");function sb(){return sb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sb.apply(this,arguments)}function Lee(e){return m0(e)||_S(e)||y0(e)}function lb(e,t){return O.Children.map(e,function(n){return n===null?null:Lee(n)?t(n):n.props&&n.props.children&&typeof n.props.children=="object"?O.cloneElement(n,sb({},n.props,{children:lb(n.props.children,t)})):n})}function OS(e,t){return O.Children.forEach(e,function(n){n!==null&&(m0(n)||y0(n)?t(n):n.props&&n.props.children&&typeof n.props.children=="object"&&(_S(n)&&t(n),OS(n.props.children,t)))})}function DN(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=DN(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function w0(){for(var e=0,t,n,r="";e<arguments.length;)(t=arguments[e++])&&(n=DN(t))&&(r&&(r+=" "),r+=n);return r}var Pee=0;function n_(){return"react-tabs-"+Pee++}function BN(e){var t=0;return OS(e,function(n){m0(n)&&t++}),t}function Aee(e){var t=0;return OS(e,function(n){y0(n)&&t++}),t}var Nee=["children","className","disabledTabClassName","domRef","focus","forceRenderTabPanel","onSelect","selectedIndex","selectedTabClassName","selectedTabPanelClassName","environment","disableUpDownKeys"];function ub(){return ub=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ub.apply(this,arguments)}function Iee(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Ree(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,cb(e,t)}function cb(e,t){return cb=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},cb(e,t)}function zN(e){return e&&"getAttribute"in e}function r_(e){return zN(e)&&e.getAttribute("data-rttab")}function Pu(e){return zN(e)&&e.getAttribute("aria-disabled")==="true"}var xy;function Mee(e){var t=e||(typeof window<"u"?window:void 0);try{xy=!!(typeof t<"u"&&t.document&&t.document.activeElement)}catch{xy=!1}}var LS=function(e){Ree(t,e);function t(){for(var r,i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return r=e.call.apply(e,[this].concat(a))||this,r.tabNodes=[],r.handleKeyDown=function(c){var p=r.props,v=p.direction,m=p.disableUpDownKeys;if(r.isTabFromContainer(c.target)){var x=r.props.selectedIndex,E=!1,C=!1;(c.keyCode===32||c.keyCode===13)&&(E=!0,C=!1,r.handleClick(c)),c.keyCode===37||!m&&c.keyCode===38?(v==="rtl"?x=r.getNextTab(x):x=r.getPrevTab(x),E=!0,C=!0):c.keyCode===39||!m&&c.keyCode===40?(v==="rtl"?x=r.getPrevTab(x):x=r.getNextTab(x),E=!0,C=!0):c.keyCode===35?(x=r.getLastTab(),E=!0,C=!0):c.keyCode===36&&(x=r.getFirstTab(),E=!0,C=!0),E&&c.preventDefault(),C&&r.setSelected(x,c)}},r.handleClick=function(c){var p=c.target;do if(r.isTabFromContainer(p)){if(Pu(p))return;var v=[].slice.call(p.parentNode.children).filter(r_).indexOf(p);r.setSelected(v,c);return}while((p=p.parentNode)!=null)},r}var n=t.prototype;return n.setSelected=function(i,a){if(!(i<0||i>=this.getTabsCount())){var l=this.props,c=l.onSelect,p=l.selectedIndex;c(i,p,a)}},n.getNextTab=function(i){for(var a=this.getTabsCount(),l=i+1;l<a;l++)if(!Pu(this.getTab(l)))return l;for(var c=0;c<i;c++)if(!Pu(this.getTab(c)))return c;return i},n.getPrevTab=function(i){for(var a=i;a--;)if(!Pu(this.getTab(a)))return a;for(a=this.getTabsCount();a-- >i;)if(!Pu(this.getTab(a)))return a;return i},n.getFirstTab=function(){for(var i=this.getTabsCount(),a=0;a<i;a++)if(!Pu(this.getTab(a)))return a;return null},n.getLastTab=function(){for(var i=this.getTabsCount();i--;)if(!Pu(this.getTab(i)))return i;return null},n.getTabsCount=function(){var i=this.props.children;return BN(i)},n.getPanelsCount=function(){var i=this.props.children;return Aee(i)},n.getTab=function(i){return this.tabNodes["tabs-"+i]},n.getChildren=function(){var i=this,a=0,l=this.props,c=l.children,p=l.disabledTabClassName,v=l.focus,m=l.forceRenderTabPanel,x=l.selectedIndex,E=l.selectedTabClassName,C=l.selectedTabPanelClassName,I=l.environment;this.tabIds=this.tabIds||[],this.panelIds=this.panelIds||[];for(var j=this.tabIds.length-this.getTabsCount();j++<0;)this.tabIds.push(n_()),this.panelIds.push(n_());return lb(c,function(A){var P=A;if(_S(A)){var M=0,z=!1;xy==null&&Mee(I),xy&&(z=ht.Children.toArray(A.props.children).filter(m0).some(function(U,X){var V=I||(typeof window<"u"?window:void 0);return V&&V.document.activeElement===i.getTab(X)})),P=O.cloneElement(A,{children:lb(A.props.children,function(U){var X="tabs-"+M,V=x===M,ne={tabRef:function(me){i.tabNodes[X]=me},id:i.tabIds[M],panelId:i.panelIds[M],selected:V,focus:V&&(v||z)};return E&&(ne.selectedClassName=E),p&&(ne.disabledClassName=p),M++,O.cloneElement(U,ne)})})}else if(y0(A)){var $={id:i.panelIds[a],tabId:i.tabIds[a],selected:x===a};m&&($.forceRender=m),C&&($.selectedClassName=C),a++,P=O.cloneElement(A,$)}return P})},n.isTabFromContainer=function(i){if(!r_(i))return!1;var a=i.parentElement;do{if(a===this.node)return!0;if(a.getAttribute("data-rttabs"))break;a=a.parentElement}while(a);return!1},n.render=function(){var i=this,a=this.props;a.children;var l=a.className;a.disabledTabClassName;var c=a.domRef;a.focus,a.forceRenderTabPanel,a.onSelect,a.selectedIndex,a.selectedTabClassName,a.selectedTabPanelClassName,a.environment,a.disableUpDownKeys;var p=Iee(a,Nee);return ht.createElement("div",ub({},p,{className:w0(l),onClick:this.handleClick,onKeyDown:this.handleKeyDown,ref:function(m){i.node=m,c&&c(m)},"data-rttabs":!0}),this.getChildren())},t}(O.Component);LS.defaultProps={className:"react-tabs",focus:!1};LS.propTypes={};var Fee=["children","defaultIndex","defaultFocus"];function jee(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function $ee(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,fb(e,t)}function fb(e,t){return fb=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},fb(e,t)}var Dee=0,C1=1,x0=function(e){$ee(t,e);function t(r){var i;return i=e.call(this,r)||this,i.handleSelected=function(a,l,c){var p=i.props.onSelect,v=i.state.mode;if(!(typeof p=="function"&&p(a,l,c)===!1)){var m={focus:c.type==="keydown"};v===C1&&(m.selectedIndex=a),i.setState(m)}},i.state=t.copyPropsToState(i.props,{},r.defaultFocus),i}t.getDerivedStateFromProps=function(i,a){return t.copyPropsToState(i,a)},t.getModeFromProps=function(i){return i.selectedIndex===null?C1:Dee},t.copyPropsToState=function(i,a,l){l===void 0&&(l=!1);var c={focus:l,mode:t.getModeFromProps(i)};if(c.mode===C1){var p=Math.max(0,BN(i.children)-1),v=null;a.selectedIndex!=null?v=Math.min(a.selectedIndex,p):v=i.defaultIndex||0,c.selectedIndex=v}return c};var n=t.prototype;return n.render=function(){var i=this.props,a=i.children;i.defaultIndex,i.defaultFocus;var l=jee(i,Fee),c=this.state,p=c.focus,v=c.selectedIndex;return l.focus=p,l.onSelect=this.handleSelected,v!=null&&(l.selectedIndex=v),ht.createElement(LS,l,a)},t}(O.Component);x0.defaultProps={defaultFocus:!1,forceRenderTabPanel:!1,selectedIndex:null,defaultIndex:null,environment:null,disableUpDownKeys:!1};x0.propTypes={};x0.tabsRole="Tabs";var Bee=["children","className"];function db(){return db=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},db.apply(this,arguments)}function zee(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Hee(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,hb(e,t)}function hb(e,t){return hb=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},hb(e,t)}var b0=function(e){Hee(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;return n.render=function(){var i=this.props,a=i.children,l=i.className,c=zee(i,Bee);return ht.createElement("ul",db({},c,{className:w0(l),role:"tablist"}),a)},t}(O.Component);b0.defaultProps={className:"react-tabs__tab-list"};b0.propTypes={};b0.tabsRole="TabList";var Uee=["children","className","disabled","disabledClassName","focus","id","panelId","selected","selectedClassName","tabIndex","tabRef"];function pb(){return pb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pb.apply(this,arguments)}function Wee(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Kee(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,gb(e,t)}function gb(e,t){return gb=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},gb(e,t)}var T1="react-tabs__tab",E0=function(e){Kee(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;return n.componentDidMount=function(){this.checkFocus()},n.componentDidUpdate=function(){this.checkFocus()},n.checkFocus=function(){var i=this.props,a=i.selected,l=i.focus;a&&l&&this.node.focus()},n.render=function(){var i,a=this,l=this.props,c=l.children,p=l.className,v=l.disabled,m=l.disabledClassName;l.focus;var x=l.id,E=l.panelId,C=l.selected,I=l.selectedClassName,j=l.tabIndex,A=l.tabRef,P=Wee(l,Uee);return ht.createElement("li",pb({},P,{className:w0(p,(i={},i[I]=C,i[m]=v,i)),ref:function(z){a.node=z,A&&A(z)},role:"tab",id:x,"aria-selected":C?"true":"false","aria-disabled":v?"true":"false","aria-controls":E,tabIndex:j||(C?"0":null),"data-rttab":!0}),c)},t}(O.Component);E0.defaultProps={className:T1,disabledClassName:T1+"--disabled",focus:!1,id:null,panelId:null,selected:!1,selectedClassName:T1+"--selected"};E0.propTypes={};E0.tabsRole="Tab";var Gee=["children","className","forceRender","id","selected","selectedClassName","tabId"];function vb(){return vb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vb.apply(this,arguments)}function qee(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Xee(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,mb(e,t)}function mb(e,t){return mb=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},mb(e,t)}var i_="react-tabs__tab-panel",S0=function(e){Xee(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;return n.render=function(){var i,a=this.props,l=a.children,c=a.className,p=a.forceRender,v=a.id,m=a.selected,x=a.selectedClassName,E=a.tabId,C=qee(a,Gee);return ht.createElement("div",vb({},C,{className:w0(c,(i={},i[x]=m,i)),role:"tabpanel",id:v,"aria-labelledby":E}),p||m?l:null)},t}(O.Component);S0.defaultProps={className:i_,forceRender:!1,selectedClassName:i_+"--selected"};S0.propTypes={};S0.tabsRole="TabPanel";const Vee=()=>{const e=dd(),{t}=Xe();return["/","/stories"].includes(e.location.pathname)?null:b.jsx(it,{icon:b.jsx(QD,{}),variant:"primary",label:e.length>1?t("common.back"):t("routes.storyList.titleGeneric"),onClick:()=>e.length>1?e.goBack():e.push("/")})};const PS=e=>{const{helpUrl:t="https://twinery.org/2guide",pinnedControls:n,tabs:r}=e,{t:i}=Xe();return b.jsx("div",{className:"route-toolbar",children:b.jsxs(x0,{selectedTabClassName:"selected",children:[b.jsxs("div",{className:"route-toolbar-top",children:[b.jsx(Vee,{}),b.jsx(b0,{className:"route-toolbar-tablist",children:Object.keys(r).map(a=>b.jsx(E0,{className:"route-toolbar-tab",children:a},a))}),b.jsxs("div",{className:"route-toolbar-pinned-controls",children:[n,b.jsx(it,{icon:b.jsx(GL,{}),label:i("common.help"),onClick:()=>window.open(t,"_blank")})]})]}),b.jsx("div",{children:Object.entries(r).map(([a,l])=>b.jsx(S0,{children:l},a))})]})})};var HN={exports:{}};(function(e,t){(function(n,r){r()})(An,function(){function n(v,m){return typeof m>"u"?m={autoBom:!1}:typeof m!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),m={autoBom:!m}),m.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(v.type)?new Blob(["\uFEFF",v],{type:v.type}):v}function r(v,m,x){var E=new XMLHttpRequest;E.open("GET",v),E.responseType="blob",E.onload=function(){p(E.response,m,x)},E.onerror=function(){console.error("could not download file")},E.send()}function i(v){var m=new XMLHttpRequest;m.open("HEAD",v,!1);try{m.send()}catch{}return 200<=m.status&&299>=m.status}function a(v){try{v.dispatchEvent(new MouseEvent("click"))}catch{var m=document.createEvent("MouseEvents");m.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),v.dispatchEvent(m)}}var l=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof An=="object"&&An.global===An?An:void 0,c=l.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),p=l.saveAs||(typeof window!="object"||window!==l?function(){}:"download"in HTMLAnchorElement.prototype&&!c?function(v,m,x){var E=l.URL||l.webkitURL,C=document.createElement("a");m=m||v.name||"download",C.download=m,C.rel="noopener",typeof v=="string"?(C.href=v,C.origin===location.origin?a(C):i(C.href)?r(v,m,x):a(C,C.target="_blank")):(C.href=E.createObjectURL(v),setTimeout(function(){E.revokeObjectURL(C.href)},4e4),setTimeout(function(){a(C)},0))}:"msSaveOrOpenBlob"in navigator?function(v,m,x){if(m=m||v.name||"download",typeof v!="string")navigator.msSaveOrOpenBlob(n(v,x),m);else if(i(v))r(v,m,x);else{var E=document.createElement("a");E.href=v,E.target="_blank",setTimeout(function(){a(E)})}}:function(v,m,x,E){if(E=E||open("","_blank"),E&&(E.document.title=E.document.body.innerText="downloading..."),typeof v=="string")return r(v,m,x);var C=v.type==="application/octet-stream",I=/constructor/i.test(l.HTMLElement)||l.safari,j=/CriOS\/[\d]+/.test(navigator.userAgent);if((j||C&&I||c)&&typeof FileReader<"u"){var A=new FileReader;A.onloadend=function(){var z=A.result;z=j?z:z.replace(/^data:[^;]*;/,"data:attachment/file;"),E?E.location.href=z:location=z,E=null},A.readAsDataURL(v)}else{var P=l.URL||l.webkitURL,M=P.createObjectURL(v);E?E.location=M:location.href=M,E=null,setTimeout(function(){P.revokeObjectURL(M)},4e4)}});l.saveAs=p.saveAs=p,e.exports=p})})(HN);var UN=HN.exports;function WN(e,t){const n=new Blob([e],{type:"text/html;charset=utf-8"});UN.saveAs(n,t)}function Yee(e,t){const n=new Blob([e],{type:"text/plain;charset=utf-8"});UN.saveAs(n,t)}const KN=({story:e})=>{var $,U,X,V;const{publishStory:t}=Jp(),[n,r]=O.useState(),[i,a]=O.useState(),[l,c]=O.useState(),[p,v]=O.useState(),{playStory:m,proofStory:x,testStory:E}=kN(),{t:C}=Xe();function I(){r(void 0),a(void 0),c(void 0),v(void 0)}async function j(){if(!e)throw new Error("No story provided to publish");I();try{await m(e.id)}catch(ne){r(ne)}}async function A(){if(!e)throw new Error("No story provided to publish");I();try{await x(e.id)}catch(ne){a(ne)}}async function P(){if(!e)throw new Error("No story provided to publish");I();try{WN(await t(e.id),hi(e))}catch(ne){c(ne)}}async function M(){if(!e)throw new Error("No story provided to publish");I();try{await E(e.id)}catch(ne){v(ne)}}function z(){if(!e)throw new Error("No story provided to export");Yee(gee(e),hi(e,".twee"))}return b.jsxs(Nn,{children:[b.jsx(qu,{ariaLabel:($=p==null?void 0:p.message)!=null?$:"",disabled:!e,icon:b.jsx(YL,{}),label:C("routeActions.build.test"),onChangeOpen:()=>v(void 0),onClick:M,open:!!p,children:b.jsxs(_r,{children:[b.jsx("p",{children:p==null?void 0:p.message}),b.jsx(it,{icon:b.jsx(No,{}),label:C("common.close"),onClick:()=>v(void 0),variant:"primary"})]})}),b.jsx(qu,{ariaLabel:(U=n==null?void 0:n.message)!=null?U:"",disabled:!e,icon:b.jsx(r4,{}),label:C("routeActions.build.play"),onChangeOpen:()=>r(void 0),onClick:j,open:!!n,children:b.jsxs(_r,{children:[b.jsx("p",{children:n==null?void 0:n.message}),b.jsx(it,{icon:b.jsx(No,{}),label:C("common.close"),onClick:()=>r(void 0),variant:"primary"})]})}),b.jsx(qu,{ariaLabel:(X=i==null?void 0:i.message)!=null?X:"",disabled:!e,icon:b.jsx(L3,{}),label:C("routeActions.build.proof"),onChangeOpen:()=>a(void 0),onClick:A,open:!!i,children:b.jsxs(_r,{children:[b.jsx("p",{children:i==null?void 0:i.message}),b.jsx(it,{icon:b.jsx(No,{}),label:C("common.close"),onClick:()=>a(void 0),variant:"primary"})]})}),b.jsx(qu,{ariaLabel:(V=l==null?void 0:l.message)!=null?V:"",disabled:!e,icon:b.jsx(R3,{}),label:C("routeActions.build.publishToFile"),onChangeOpen:()=>c(void 0),onClick:P,open:!!l,children:b.jsxs(_r,{children:[b.jsx("p",{children:l==null?void 0:l.message}),b.jsx(it,{icon:b.jsx(No,{}),label:C("common.close"),onClick:()=>c(void 0),variant:"primary"})]})}),b.jsx(it,{disabled:!e,icon:b.jsx(Q4,{}),label:C("routeActions.build.exportAsTwee"),onClick:z})]})},AS=()=>{const{dispatch:e}=yi(),t=dd(),{t:n}=Xe();return b.jsxs(Nn,{children:[b.jsx(it,{icon:b.jsx(v4,{}),label:n("routeActions.app.preferences"),onClick:()=>e({type:"addDialog",component:OY})}),b.jsx(it,{disabled:t.location.pathname==="/story-formats",icon:b.jsx(A3,{}),label:n("routeActions.app.storyFormats"),onClick:()=>t.push("/story-formats")}),b.jsx(it,{icon:b.jsx(s3,{}),label:n("routeActions.app.aboutApp"),onClick:()=>e({type:"addDialog",component:TY})}),b.jsx(it,{icon:b.jsx(f3,{}),label:n("routeActions.app.reportBug"),onClick:()=>window.open("https://twinery.org/2bugs","_blank")})]})};function Qee(e){try{return new URL(e),!0}catch{}return!1}const Zee=()=>{const{dispatch:e,formats:t}=Wi(),[n,r]=O.useState(""),{t:i}=Xe();async function a(){e(LG(n,await uy(n)))}const l=async c=>{if(n.trim()==="")return{valid:!1};if(!Qee(n))return{message:i("routes.storyFormatList.toolbar.addStoryFormatButton.invalidUrl"),valid:!1};try{const p=await uy(n);return t.some(v=>v.name===p.name&&v.version===p.version)?{message:i("routes.storyFormatList.toolbar.addStoryFormatButton.alreadyAdded",{storyFormatName:p.name,storyFormatVersion:p.version}),valid:!1}:{message:i("routes.storyFormatList.toolbar.addStoryFormatButton.addPreview",{storyFormatName:p.name,storyFormatVersion:p.version}),valid:!0}}catch(p){return{message:i("routes.storyFormatList.toolbar.addStoryFormatButton.fetchError",{errorMessage:p.message}),valid:!1}}};return b.jsx("span",{className:"add-format-button",children:b.jsx(Zp,{icon:b.jsx(Xf,{}),label:i("common.add"),onChange:c=>r(c.target.value),onSubmit:a,prompt:i("routes.storyFormatList.toolbar.addStoryFormatButton.prompt"),submitIcon:b.jsx(Xf,{}),submitLabel:i("common.add"),submitVariant:"create",validate:l,value:n})})},Jee=e=>{const{format:t}=e,{dispatch:n,prefs:r}=Zt(),{t:i}=Xe(),a=(t==null?void 0:t.loadState)!=="loaded"||t.properties.proofing||r.storyFormat.name===t.name&&r.storyFormat.version===t.version,l=()=>{if(!t)throw new Error("Can't set undefined format as default");n({type:"update",name:"storyFormat",value:{name:t.name,version:t.version}})};return b.jsx(it,{disabled:a,icon:b.jsx(E4,{}),label:i("routes.storyFormatList.toolbar.useAsDefaultFormat"),onClick:l})},ete=e=>{const{format:t}=e,{dispatch:n,prefs:r}=Zt(),{t:i}=Xe(),a=(t==null?void 0:t.loadState)!=="loaded"||!t.properties.proofing||r.proofingFormat.name===t.name&&r.proofingFormat.version===t.version,l=()=>{if(!t)throw new Error("Can't set undefined format as proofing");n({type:"update",name:"proofingFormat",value:{name:t.name,version:t.version}})};return b.jsx(it,{disabled:a,icon:b.jsx(_3,{}),label:i("routes.storyFormatList.toolbar.useAsProofingFormat"),onClick:l})},tte=e=>{const{format:t}=e,{dispatch:n}=Wi(),{prefs:r}=Zt(),{t:i}=Xe(),a=(t==null?void 0:t.name)===r.storyFormat.name&&(t==null?void 0:t.version)===r.storyFormat.version,l=(t==null?void 0:t.name)===r.proofingFormat.name&&(t==null?void 0:t.version)===r.proofingFormat.version;return b.jsx(it,{disabled:!t||!t.userAdded||a||l,icon:b.jsx(Zm,{}),label:i("common.remove"),onClick:()=>t&&n(PG(t))})},nte=e=>{const{format:t}=e,{dispatch:n,prefs:r}=Zt(),{t:i}=Xe(),a=r.disabledStoryFormatEditorExtensions.some(c=>c.name===(t==null?void 0:t.name)&&c.version===(t==null?void 0:t.version));function l(){if(!t)throw new Error("Format is not set");n(a?pr("disabledStoryFormatEditorExtensions",r.disabledStoryFormatEditorExtensions.filter(c=>c.name!==t.name||c.version!==t.version)):pr("disabledStoryFormatEditorExtensions",[...r.disabledStoryFormatEditorExtensions,{name:t.name,version:t.version}]))}return b.jsx(it,{disabled:!t,icon:b.jsx(a4,{}),label:i("routes.storyFormatList.toolbar.".concat(a?"enable":"disable","FormatExtensions")),onClick:l})},rte=e=>{const{selectedFormats:t}=e,n=t.length===1?t[0]:void 0;return b.jsxs(Nn,{children:[b.jsx(Zee,{}),b.jsx(tte,{format:n}),b.jsx(nte,{format:n}),b.jsx(Jee,{format:n}),b.jsx(ete,{format:n})]})},ite=()=>{const{dispatch:e,prefs:t}=Zt(),{t:n}=Xe();function r(i){e(pr("storyFormatListFilter",i))}return b.jsxs(b.Fragment,{children:[b.jsx(Pa,{disabled:t.storyFormatListFilter==="current",label:n("routes.storyFormatList.title.current"),onChange:()=>r("current"),value:t.storyFormatListFilter==="current"}),b.jsx(Pa,{disabled:t.storyFormatListFilter==="user",label:n("routes.storyFormatList.title.user"),onChange:()=>r("user"),value:t.storyFormatListFilter==="user"}),b.jsx(Pa,{disabled:t.storyFormatListFilter==="all",label:n("routes.storyFormatList.title.all"),onChange:()=>r("all"),value:t.storyFormatListFilter==="all"})]})},ote=e=>{const{selectedFormats:t}=e,{t:n}=Xe();return b.jsx(PS,{tabs:{[n("common.storyFormat")]:b.jsx(rte,{selectedFormats:t}),[n("common.view")]:b.jsx(ite,{}),[n("common.appName")]:b.jsx(AS,{})}})},ate=()=>{const{dispatch:e,formats:t}=Wi(),{dispatch:n,prefs:r}=Zt(),{t:i}=Xe(),a=t.filter(p=>p.selected),l=yA(jG(t,r.storyFormatListFilter));O.useEffect(()=>{for(const p of a)p.selected&&!l.includes(p)&&e(NG(p))},[n,a,l,e]);function c(p){e(RG(p,!0))}return b.jsx("div",{className:"story-format-list-route",children:b.jsxs(CS,{children:[b.jsx(ote,{selectedFormats:a}),b.jsx(qA,{ignoreSelector:".story-format-card",onClickAway:()=>e(AG()),children:b.jsxs(tS,{title:i("routes.storyFormatList.title.".concat(r.storyFormatListFilter)),children:[b.jsx("p",{children:i(l.length>0?"routes.storyFormatList.storyFormatExplanation":"routes.storyFormatList.noneVisible")}),b.jsx($N,{children:b.jsx(XA,{columnWidth:"450px",children:b.jsx(hd,{component:null,children:l.map(p=>b.jsx($a,{classNames:"pop",timeout:200,children:b.jsx(gV,{defaultFormat:p.name===r.storyFormat.name&&p.version===r.storyFormat.version,editorExtensionsDisabled:r.disabledStoryFormatEditorExtensions.some(v=>p.name===v.name&&p.version===v.version),format:p,onSelect:()=>c(p),proofingFormat:p.name===r.proofingFormat.name&&p.version===r.proofingFormat.version})},p.id))})})})]})})]})})};const ste=e=>{const{container:t,ignoreEventsOnSelector:n,onSelectRect:r,onTemporarySelectRect:i}=e,[a,l]=O.useState(!1),[c,p]=O.useState(!1),[v,m]=O.useState(),[x,E]=O.useState();O.useEffect(()=>{const I=t.current;let j;function A($){return{left:$.clientX-j.left+I.scrollLeft,top:$.clientY-j.top+I.scrollTop}}function P($){I&&(I.releasePointerCapture($.pointerId),I.removeEventListener("pointermove",M),I.removeEventListener("pointerup",P),p(!1))}function M($){E(A($))}function z($){$.pointerType==="touch"||$.button!==0||!I||n&&$.target.closest(n)||(j=I.getBoundingClientRect(),I.setPointerCapture($.pointerId),I.addEventListener("pointermove",M),I.addEventListener("pointerup",P),l(!!($.shiftKey||$.ctrlKey)),p(!0),m(A($)),E(A($)))}if(I)return I.addEventListener("pointerdown",z),()=>I.removeEventListener("pointerdown",z)},[t,n]),O.useEffect(()=>{v&&x&&(c?i(Qw(v,x),a):(r(Qw(v,x),a),m(void 0),E(void 0)))},[a,x,c,r,i,v]);const C=O.useMemo(()=>{if(!v||!x)return{};const I=Qw(v,x);return{transform:"translate(".concat(I.left,"px, ").concat(I.top,"px) scale(").concat(I.width/100,", ").concat(I.height/100,")")}},[x,v]);return!v||!x?null:b.jsx("div",{className:"marquee-selection",style:C})};const o_=25*Math.sqrt(2),lte=e=>{const{offset:t,passage:n}=e,r={left:n.left,top:n.top};return n.selected&&(r.left+=t.left,r.top+=t.top),b.jsx("line",{className:"broken-connection",x1:r.left+n.width,y1:r.top+n.height,x2:r.left+n.width+o_,y2:r.top+n.height+o_,style:{markerEnd:"url(#link-broken)"}})};function GN({start:e,end:t,radius:n,largeArc:r,sweep:i,rotation:a}){return"M"+e.left+","+e.top+" A"+n.left+","+n.top+" "+(a!=null?a:"0")+(r?" 1":" 0")+(i?" 1 ":" 0 ")+t.left+","+t.top}const ute=e=>{const{end:t,offset:n,start:r,variant:i}=e,a=O.useMemo(()=>{let l=r,c=t;r.selected&&(l={...r,left:r.left+n.left,top:r.top+n.top}),t.selected&&(c={...t,left:t.left+n.left,top:t.top+n.top});let p=ok(l),v=ok(c);if(p=ak(l,p,v),!p||(v=ak(c,p,v),!v))return"";const m=aU(p,v);let x=p.left<v.left;p.left===v.left&&p.top<v.top&&(x=!0);const E=oU(p,v);return GN({start:p,end:v,radius:{left:m,top:m*.75},rotation:E,sweep:x})},[t,n.left,n.top,r]);return b.jsx("path",{d:a,className:"passage-connection variant-".concat(i),style:{markerEnd:"url(#link-arrowhead)"}})};const cte=e=>{const{offset:t,passage:n,variant:r}=e,i={left:n.left,top:n.top};n.selected&&(i.left+=t.left,i.top+=t.top);const a=O.useMemo(()=>.4*Math.min(n.width,n.height),[n.height,n.width]),l=O.useMemo(()=>GN({start:{left:i.left,top:i.top+n.height/2},end:{left:i.left,top:i.top},radius:{left:a,top:a},sweep:!0,largeArc:!0}),[n.height,a,i.left,i.top]);return b.jsx("path",{className:"self-connection variant-".concat(r),d:l,style:{markerEnd:"url(#link-arrowhead)"}})},jh=O.memo(e=>{const{broken:t,connections:n,offset:r,self:i,variant:a="link"}=e;return b.jsxs(b.Fragment,{children:[Array.from(n).map(l=>Array.from(l[1]).map(c=>b.jsx(ute,{end:c,offset:r,start:l[0],variant:a},l[0].name+c.name))),Array.from(i).map(l=>b.jsx(cte,{offset:r,passage:l,variant:a},l.name)),Array.from(t).map(l=>b.jsx(lte,{offset:r,passage:l},l.name))]})});jh.displayName="PassageConnectionGroup";const fte=()=>b.jsxs("defs",{children:[b.jsx("marker",{id:"link-arrowhead",refX:"6",refY:"4",markerWidth:"8",markerHeight:"8",orient:"auto",children:b.jsx("path",{d:"M 1,1 7,4 1,7 Z"})}),b.jsxs("marker",{id:"link-broken",refX:"7.5",refY:"7.5",markerWidth:"15",markerHeight:"15",children:[b.jsx("circle",{cx:"7.5",cy:"7.5",r:"7.5"}),b.jsx("path",{d:"M4.5 7.5h 6z"})]}),b.jsxs("marker",{id:"link-start",markerWidth:"15",markerHeight:"15",refX:"16",refY:"16",viewBox:"0 0 32 32",children:[b.jsx("circle",{cx:"16",cy:"16",r:"16"}),b.jsx("path",{d:"M8 17a8 8 0 0 1 7 7a6 6 0 0 0 3 -5a9 9 0 0 0 6 -8a3 3 0 0 0 -3 -3a9 9 0 0 0 -8 6a6 6 0 0 0 -5 3"}),b.jsx("path",{d:"M11 18a6 6 0 0 0 -3 6a6 6 0 0 0 6 -3"}),b.jsx("circle",{className:"fill-white",cx:"19",cy:"13",r:"1"})]})]});const qN=O.memo(e=>{const{offset:t,passage:n}=e,r={left:n.left,top:n.top};return n.selected&&(r.left+=t.left,r.top+=t.top),b.jsx("line",{className:"start-connection",x1:r.left-50,y1:r.top+n.height/2,x2:r.left,y2:r.top+n.height/2,style:{markerStart:"url(#link-start)"}})});qN.displayName="StartConnection";const a_=()=>[];function dte(e,t){var v,m;const{prefs:n}=Zt(),{dispatch:r,formats:i}=Wi(),a=ho(i,e,t),[l,c]=O.useState(),p=yE(n,e,t);return O.useEffect(()=>{p||(a.loadState==="unloaded"?r(yp(a)):a.loadState==="loaded"&&c(hS(a,uo().version)))},[r,p,a]),p?a_:(m=(v=l==null?void 0:l.references)==null?void 0:v.parsePassageText)!=null?m:a_}const Zv=new Set,s_={left:0,top:0},hte=e=>{const{formatName:t,formatVersion:n,offset:r,passages:i,startPassageId:a}=e,l=dte(t,n),{draggable:c,fixed:p}=O.useMemo(()=>mk(i),[i]),{draggable:v,fixed:m}=O.useMemo(()=>mk(i,l),[i,l]),x=O.useMemo(()=>i.find(E=>E.id===a),[i,a]);return b.jsxs("svg",{className:"link-connectors",children:[b.jsx(fte,{}),x&&b.jsx(qN,{offset:r,passage:x}),b.jsx(jh,{...c,offset:r}),b.jsx(jh,{...p,offset:s_}),b.jsx(jh,{broken:Zv,connections:v.connections,offset:r,self:Zv,variant:"reference"}),b.jsx(jh,{broken:Zv,connections:m.connections,offset:s_,self:Zv,variant:"reference"})]})};var vo=typeof window<"u"?window:{screen:{},navigator:{}},ed=(vo.matchMedia||function(){return{matches:!1}}).bind(vo),pte={get passive(){return!0}},XN=function(){};vo.addEventListener&&vo.addEventListener("p",XN,pte);vo.removeEventListener&&vo.removeEventListener("p",XN,!1);var NS="ontouchstart"in vo,gte="TouchEvent"in vo,vte=NS||gte&&ed("(any-pointer: coarse)").matches,l_=(vo.navigator.maxTouchPoints||0)>0||vte,VN=vo.navigator.userAgent||"",mte=ed("(pointer: coarse)").matches&&/iPad|Macintosh/.test(VN)&&Math.min(vo.screen.width||0,vo.screen.height||0)>=768,yte=(ed("(pointer: coarse)").matches||!ed("(pointer: fine)").matches&&NS)&&!/Windows.*Firefox/.test(VN),wte=ed("(any-pointer: fine)").matches||ed("(any-hover: hover)").matches||mte||!NS,xte=l_&&(wte||!yte)?"hybrid":l_?"touchOnly":"mouseOnly",IS={exports:{}},YN={},In={},Da={};Object.defineProperty(Da,"__esModule",{value:!0});Da.findInArray=bte;Da.isFunction=Ete;Da.isNum=Ste;Da.int=Cte;Da.dontSetMe=Tte;function bte(e,t){for(var n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]}function Ete(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Function]"}function Ste(e){return typeof e=="number"&&!isNaN(e)}function Cte(e){return parseInt(e,10)}function Tte(e,t,n){if(e[t])return new Error("Invalid prop ".concat(t," passed to ").concat(n," - do not set this, set it on the child."))}var pc={};Object.defineProperty(pc,"__esModule",{value:!0});pc.getPrefix=QN;pc.browserPrefixToKey=ZN;pc.browserPrefixToStyle=kte;pc.default=void 0;var k1=["Moz","Webkit","O","ms"];function QN(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u"||typeof window.document>"u")return"";var t=window.document.documentElement.style;if(e in t)return"";for(var n=0;n<k1.length;n++)if(ZN(e,k1[n])in t)return k1[n];return""}function ZN(e,t){return t?"".concat(t).concat(_te(e)):e}function kte(e,t){return t?"-".concat(t.toLowerCase(),"-").concat(e):e}function _te(e){for(var t="",n=!0,r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):e[r]==="-"?n=!0:t+=e[r];return t}var Ote=QN();pc.default=Ote;function Cm(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Cm=function(n){return typeof n}:Cm=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Cm(e)}Object.defineProperty(In,"__esModule",{value:!0});In.matchesSelector=nI;In.matchesSelectorAndParentsTo=Pte;In.addEvent=Ate;In.removeEvent=Nte;In.outerHeight=Ite;In.outerWidth=Rte;In.innerHeight=Mte;In.innerWidth=Fte;In.offsetXYFromParent=jte;In.createCSSTransform=$te;In.createSVGTransform=Dte;In.getTranslation=RS;In.getTouch=Bte;In.getTouchIdentifier=zte;In.addUserSelectStyles=Hte;In.removeUserSelectStyles=Ute;In.addClassName=rI;In.removeClassName=iI;var zi=Da,u_=Lte(pc);function JN(){if(typeof WeakMap!="function")return null;var e=new WeakMap;return JN=function(){return e},e}function Lte(e){if(e&&e.__esModule)return e;if(e===null||Cm(e)!=="object"&&typeof e!="function")return{default:e};var t=JN();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=r?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}function c_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function eI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?c_(Object(n),!0).forEach(function(r){tI(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tI(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Jv="";function nI(e,t){return Jv||(Jv=(0,zi.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(n){return(0,zi.isFunction)(e[n])})),(0,zi.isFunction)(e[Jv])?e[Jv](t):!1}function Pte(e,t,n){var r=e;do{if(nI(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function Ate(e,t,n,r){if(e){var i=eI({capture:!0},r);e.addEventListener?e.addEventListener(t,n,i):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n}}function Nte(e,t,n,r){if(e){var i=eI({capture:!0},r);e.removeEventListener?e.removeEventListener(t,n,i):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null}}function Ite(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,zi.int)(n.borderTopWidth),t+=(0,zi.int)(n.borderBottomWidth),t}function Rte(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,zi.int)(n.borderLeftWidth),t+=(0,zi.int)(n.borderRightWidth),t}function Mte(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,zi.int)(n.paddingTop),t-=(0,zi.int)(n.paddingBottom),t}function Fte(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,zi.int)(n.paddingLeft),t-=(0,zi.int)(n.paddingRight),t}function jte(e,t,n){var r=t===t.ownerDocument.body,i=r?{left:0,top:0}:t.getBoundingClientRect(),a=(e.clientX+t.scrollLeft-i.left)/n,l=(e.clientY+t.scrollTop-i.top)/n;return{x:a,y:l}}function $te(e,t){var n=RS(e,t,"px");return tI({},(0,u_.browserPrefixToKey)("transform",u_.default),n)}function Dte(e,t){var n=RS(e,t,"");return n}function RS(e,t,n){var r=e.x,i=e.y,a="translate(".concat(r).concat(n,",").concat(i).concat(n,")");if(t){var l="".concat(typeof t.x=="string"?t.x:t.x+n),c="".concat(typeof t.y=="string"?t.y:t.y+n);a="translate(".concat(l,", ").concat(c,")")+a}return a}function Bte(e,t){return e.targetTouches&&(0,zi.findInArray)(e.targetTouches,function(n){return t===n.identifier})||e.changedTouches&&(0,zi.findInArray)(e.changedTouches,function(n){return t===n.identifier})}function zte(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier}function Hte(e){if(e){var t=e.getElementById("react-draggable-style-el");t||(t=e.createElement("style"),t.type="text/css",t.id="react-draggable-style-el",t.innerHTML=".react-draggable-transparent-selection *::-moz-selection {all: inherit;}\n",t.innerHTML+=".react-draggable-transparent-selection *::selection {all: inherit;}\n",e.getElementsByTagName("head")[0].appendChild(t)),e.body&&rI(e.body,"react-draggable-transparent-selection")}}function Ute(e){if(e)try{if(e.body&&iI(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{var t=(e.defaultView||window).getSelection();t&&t.type!=="Caret"&&t.removeAllRanges()}}catch{}}function rI(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)")))||(e.className+=" ".concat(t))}function iI(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)"),"g"),"")}var Ba={};Object.defineProperty(Ba,"__esModule",{value:!0});Ba.getBoundPosition=Wte;Ba.snapToGrid=Kte;Ba.canDragX=Gte;Ba.canDragY=qte;Ba.getControlPosition=Xte;Ba.createCoreData=Vte;Ba.createDraggableData=Yte;var Ri=Da,Nf=In;function Wte(e,t,n){if(!e.props.bounds)return[t,n];var r=e.props.bounds;r=typeof r=="string"?r:Qte(r);var i=MS(e);if(typeof r=="string"){var a=i.ownerDocument,l=a.defaultView,c;if(r==="parent"?c=i.parentNode:c=a.querySelector(r),!(c instanceof l.HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');var p=l.getComputedStyle(i),v=l.getComputedStyle(c);r={left:-i.offsetLeft+(0,Ri.int)(v.paddingLeft)+(0,Ri.int)(p.marginLeft),top:-i.offsetTop+(0,Ri.int)(v.paddingTop)+(0,Ri.int)(p.marginTop),right:(0,Nf.innerWidth)(c)-(0,Nf.outerWidth)(i)-i.offsetLeft+(0,Ri.int)(v.paddingRight)-(0,Ri.int)(p.marginRight),bottom:(0,Nf.innerHeight)(c)-(0,Nf.outerHeight)(i)-i.offsetTop+(0,Ri.int)(v.paddingBottom)-(0,Ri.int)(p.marginBottom)}}return(0,Ri.isNum)(r.right)&&(t=Math.min(t,r.right)),(0,Ri.isNum)(r.bottom)&&(n=Math.min(n,r.bottom)),(0,Ri.isNum)(r.left)&&(t=Math.max(t,r.left)),(0,Ri.isNum)(r.top)&&(n=Math.max(n,r.top)),[t,n]}function Kte(e,t,n){var r=Math.round(t/e[0])*e[0],i=Math.round(n/e[1])*e[1];return[r,i]}function Gte(e){return e.props.axis==="both"||e.props.axis==="x"}function qte(e){return e.props.axis==="both"||e.props.axis==="y"}function Xte(e,t,n){var r=typeof t=="number"?(0,Nf.getTouch)(e,t):null;if(typeof t=="number"&&!r)return null;var i=MS(n),a=n.props.offsetParent||i.offsetParent||i.ownerDocument.body;return(0,Nf.offsetXYFromParent)(r||e,a,n.props.scale)}function Vte(e,t,n){var r=e.state,i=!(0,Ri.isNum)(r.lastX),a=MS(e);return i?{node:a,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:a,deltaX:t-r.lastX,deltaY:n-r.lastY,lastX:r.lastX,lastY:r.lastY,x:t,y:n}}function Yte(e,t){var n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}}function Qte(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}function MS(e){var t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}var C0={},T0={};Object.defineProperty(T0,"__esModule",{value:!0});T0.default=Zte;function Zte(){}Object.defineProperty(C0,"__esModule",{value:!0});C0.default=void 0;var _1=ene(O),Ii=FS(t0),Jte=FS(Bp),Mr=In,Au=Ba,O1=Da,Ph=FS(T0);function FS(e){return e&&e.__esModule?e:{default:e}}function oI(){if(typeof WeakMap!="function")return null;var e=new WeakMap;return oI=function(){return e},e}function ene(e){if(e&&e.__esModule)return e;if(e===null||Zh(e)!=="object"&&typeof e!="function")return{default:e};var t=oI();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=r?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}function Zh(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Zh=function(n){return typeof n}:Zh=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Zh(e)}function tne(e,t){return one(e)||ine(e,t)||rne(e,t)||nne()}function nne(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function rne(e,t){if(e){if(typeof e=="string")return f_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f_(e,t)}}function f_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ine(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,i=!1,a=void 0;try{for(var l=e[Symbol.iterator](),c;!(r=(c=l.next()).done)&&(n.push(c.value),!(t&&n.length===t));r=!0);}catch(p){i=!0,a=p}finally{try{!r&&l.return!=null&&l.return()}finally{if(i)throw a}}return n}}function one(e){if(Array.isArray(e))return e}function ane(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sne(e,t,n){return t&&d_(e.prototype,t),n&&d_(e,n),e}function lne(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yb(e,t)}function yb(e,t){return yb=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},yb(e,t)}function une(e){var t=fne();return function(){var n=by(e),r;if(t){var i=by(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return cne(this,r)}}function cne(e,t){return t&&(Zh(t)==="object"||typeof t=="function")?t:Fr(e)}function Fr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fne(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function by(e){return by=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},by(e)}function so(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Lo={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},ml=Lo.mouse,k0=function(e){lne(n,e);var t=une(n);function n(){var r;ane(this,n);for(var i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return r=t.call.apply(t,[this].concat(a)),so(Fr(r),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),so(Fr(r),"mounted",!1),so(Fr(r),"handleDragStart",function(c){if(r.props.onMouseDown(c),!r.props.allowAnyClick&&typeof c.button=="number"&&c.button!==0)return!1;var p=r.findDOMNode();if(!p||!p.ownerDocument||!p.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var v=p.ownerDocument;if(!(r.props.disabled||!(c.target instanceof v.defaultView.Node)||r.props.handle&&!(0,Mr.matchesSelectorAndParentsTo)(c.target,r.props.handle,p)||r.props.cancel&&(0,Mr.matchesSelectorAndParentsTo)(c.target,r.props.cancel,p))){c.type==="touchstart"&&c.preventDefault();var m=(0,Mr.getTouchIdentifier)(c);r.setState({touchIdentifier:m});var x=(0,Au.getControlPosition)(c,m,Fr(r));if(x!=null){var E=x.x,C=x.y,I=(0,Au.createCoreData)(Fr(r),E,C);(0,Ph.default)("DraggableCore: handleDragStart: %j",I),(0,Ph.default)("calling",r.props.onStart);var j=r.props.onStart(c,I);j===!1||r.mounted===!1||(r.props.enableUserSelectHack&&(0,Mr.addUserSelectStyles)(v),r.setState({dragging:!0,lastX:E,lastY:C}),(0,Mr.addEvent)(v,ml.move,r.handleDrag),(0,Mr.addEvent)(v,ml.stop,r.handleDragStop))}}}),so(Fr(r),"handleDrag",function(c){var p=(0,Au.getControlPosition)(c,r.state.touchIdentifier,Fr(r));if(p!=null){var v=p.x,m=p.y;if(Array.isArray(r.props.grid)){var x=v-r.state.lastX,E=m-r.state.lastY,C=(0,Au.snapToGrid)(r.props.grid,x,E),I=tne(C,2);if(x=I[0],E=I[1],!x&&!E)return;v=r.state.lastX+x,m=r.state.lastY+E}var j=(0,Au.createCoreData)(Fr(r),v,m);(0,Ph.default)("DraggableCore: handleDrag: %j",j);var A=r.props.onDrag(c,j);if(A===!1||r.mounted===!1){try{r.handleDragStop(new MouseEvent("mouseup"))}catch{var P=document.createEvent("MouseEvents");P.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),r.handleDragStop(P)}return}r.setState({lastX:v,lastY:m})}}),so(Fr(r),"handleDragStop",function(c){if(r.state.dragging){var p=(0,Au.getControlPosition)(c,r.state.touchIdentifier,Fr(r));if(p!=null){var v=p.x,m=p.y,x=(0,Au.createCoreData)(Fr(r),v,m),E=r.props.onStop(c,x);if(E===!1||r.mounted===!1)return!1;var C=r.findDOMNode();C&&r.props.enableUserSelectHack&&(0,Mr.removeUserSelectStyles)(C.ownerDocument),(0,Ph.default)("DraggableCore: handleDragStop: %j",x),r.setState({dragging:!1,lastX:NaN,lastY:NaN}),C&&((0,Ph.default)("DraggableCore: Removing handlers"),(0,Mr.removeEvent)(C.ownerDocument,ml.move,r.handleDrag),(0,Mr.removeEvent)(C.ownerDocument,ml.stop,r.handleDragStop))}}}),so(Fr(r),"onMouseDown",function(c){return ml=Lo.mouse,r.handleDragStart(c)}),so(Fr(r),"onMouseUp",function(c){return ml=Lo.mouse,r.handleDragStop(c)}),so(Fr(r),"onTouchStart",function(c){return ml=Lo.touch,r.handleDragStart(c)}),so(Fr(r),"onTouchEnd",function(c){return ml=Lo.touch,r.handleDragStop(c)}),r}return sne(n,[{key:"componentDidMount",value:function(){this.mounted=!0;var i=this.findDOMNode();i&&(0,Mr.addEvent)(i,Lo.touch.start,this.onTouchStart,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.findDOMNode();if(i){var a=i.ownerDocument;(0,Mr.removeEvent)(a,Lo.mouse.move,this.handleDrag),(0,Mr.removeEvent)(a,Lo.touch.move,this.handleDrag),(0,Mr.removeEvent)(a,Lo.mouse.stop,this.handleDragStop),(0,Mr.removeEvent)(a,Lo.touch.stop,this.handleDragStop),(0,Mr.removeEvent)(i,Lo.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,Mr.removeUserSelectStyles)(a)}}},{key:"findDOMNode",value:function(){return this.props.nodeRef?this.props.nodeRef.current:Jte.default.findDOMNode(this)}},{key:"render",value:function(){return _1.cloneElement(_1.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}]),n}(_1.Component);C0.default=k0;so(k0,"displayName","DraggableCore");so(k0,"propTypes",{allowAnyClick:Ii.default.bool,disabled:Ii.default.bool,enableUserSelectHack:Ii.default.bool,offsetParent:function(t,n){if(t[n]&&t[n].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:Ii.default.arrayOf(Ii.default.number),handle:Ii.default.string,cancel:Ii.default.string,nodeRef:Ii.default.object,onStart:Ii.default.func,onDrag:Ii.default.func,onStop:Ii.default.func,onMouseDown:Ii.default.func,scale:Ii.default.number,className:O1.dontSetMe,style:O1.dontSetMe,transform:O1.dontSetMe});so(k0,"defaultProps",{allowAnyClick:!1,cancel:null,disabled:!1,enableUserSelectHack:!0,offsetParent:null,handle:null,grid:null,transform:null,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"DraggableCore",{enumerable:!0,get:function(){return p.default}}),e.default=void 0;var t=E(O),n=m(t0),r=m(Bp),i=m(eP),a=In,l=Ba,c=Da,p=m(C0),v=m(T0);function m(te){return te&&te.__esModule?te:{default:te}}function x(){if(typeof WeakMap!="function")return null;var te=new WeakMap;return x=function(){return te},te}function E(te){if(te&&te.__esModule)return te;if(te===null||C(te)!=="object"&&typeof te!="function")return{default:te};var ce=x();if(ce&&ce.has(te))return ce.get(te);var ye={},re=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var se in te)if(Object.prototype.hasOwnProperty.call(te,se)){var pe=re?Object.getOwnPropertyDescriptor(te,se):null;pe&&(pe.get||pe.set)?Object.defineProperty(ye,se,pe):ye[se]=te[se]}return ye.default=te,ce&&ce.set(te,ye),ye}function C(te){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?C=function(ye){return typeof ye}:C=function(ye){return ye&&typeof Symbol=="function"&&ye.constructor===Symbol&&ye!==Symbol.prototype?"symbol":typeof ye},C(te)}function I(){return I=Object.assign||function(te){for(var ce=1;ce<arguments.length;ce++){var ye=arguments[ce];for(var re in ye)Object.prototype.hasOwnProperty.call(ye,re)&&(te[re]=ye[re])}return te},I.apply(this,arguments)}function j(te,ce){if(te==null)return{};var ye=A(te,ce),re,se;if(Object.getOwnPropertySymbols){var pe=Object.getOwnPropertySymbols(te);for(se=0;se<pe.length;se++)re=pe[se],!(ce.indexOf(re)>=0)&&Object.prototype.propertyIsEnumerable.call(te,re)&&(ye[re]=te[re])}return ye}function A(te,ce){if(te==null)return{};var ye={},re=Object.keys(te),se,pe;for(pe=0;pe<re.length;pe++)se=re[pe],!(ce.indexOf(se)>=0)&&(ye[se]=te[se]);return ye}function P(te,ce){return X(te)||U(te,ce)||z(te,ce)||M()}function M(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function z(te,ce){if(te){if(typeof te=="string")return $(te,ce);var ye=Object.prototype.toString.call(te).slice(8,-1);if(ye==="Object"&&te.constructor&&(ye=te.constructor.name),ye==="Map"||ye==="Set")return Array.from(te);if(ye==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ye))return $(te,ce)}}function $(te,ce){(ce==null||ce>te.length)&&(ce=te.length);for(var ye=0,re=new Array(ce);ye<ce;ye++)re[ye]=te[ye];return re}function U(te,ce){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(te)))){var ye=[],re=!0,se=!1,pe=void 0;try{for(var Ce=te[Symbol.iterator](),Ae;!(re=(Ae=Ce.next()).done)&&(ye.push(Ae.value),!(ce&&ye.length===ce));re=!0);}catch(He){se=!0,pe=He}finally{try{!re&&Ce.return!=null&&Ce.return()}finally{if(se)throw pe}}return ye}}function X(te){if(Array.isArray(te))return te}function V(te,ce){var ye=Object.keys(te);if(Object.getOwnPropertySymbols){var re=Object.getOwnPropertySymbols(te);ce&&(re=re.filter(function(se){return Object.getOwnPropertyDescriptor(te,se).enumerable})),ye.push.apply(ye,re)}return ye}function ne(te){for(var ce=1;ce<arguments.length;ce++){var ye=arguments[ce]!=null?arguments[ce]:{};ce%2?V(Object(ye),!0).forEach(function(re){Se(te,re,ye[re])}):Object.getOwnPropertyDescriptors?Object.defineProperties(te,Object.getOwnPropertyDescriptors(ye)):V(Object(ye)).forEach(function(re){Object.defineProperty(te,re,Object.getOwnPropertyDescriptor(ye,re))})}return te}function he(te,ce){if(!(te instanceof ce))throw new TypeError("Cannot call a class as a function")}function me(te,ce){for(var ye=0;ye<ce.length;ye++){var re=ce[ye];re.enumerable=re.enumerable||!1,re.configurable=!0,"value"in re&&(re.writable=!0),Object.defineProperty(te,re.key,re)}}function we(te,ce,ye){return ce&&me(te.prototype,ce),ye&&me(te,ye),te}function ze(te,ce){if(typeof ce!="function"&&ce!==null)throw new TypeError("Super expression must either be null or a function");te.prototype=Object.create(ce&&ce.prototype,{constructor:{value:te,writable:!0,configurable:!0}}),ce&&J(te,ce)}function J(te,ce){return J=Object.setPrototypeOf||function(re,se){return re.__proto__=se,re},J(te,ce)}function Z(te){var ce=Ne();return function(){var ye=_e(te),re;if(ce){var se=_e(this).constructor;re=Reflect.construct(ye,arguments,se)}else re=ye.apply(this,arguments);return q(this,re)}}function q(te,ce){return ce&&(C(ce)==="object"||typeof ce=="function")?ce:Me(te)}function Me(te){if(te===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return te}function Ne(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function _e(te){return _e=Object.setPrototypeOf?Object.getPrototypeOf:function(ye){return ye.__proto__||Object.getPrototypeOf(ye)},_e(te)}function Se(te,ce,ye){return ce in te?Object.defineProperty(te,ce,{value:ye,enumerable:!0,configurable:!0,writable:!0}):te[ce]=ye,te}var Le=function(te){ze(ye,te);var ce=Z(ye);we(ye,null,[{key:"getDerivedStateFromProps",value:function(se,pe){var Ce=se.position,Ae=pe.prevPropsPosition;return Ce&&(!Ae||Ce.x!==Ae.x||Ce.y!==Ae.y)?((0,v.default)("Draggable: getDerivedStateFromProps %j",{position:Ce,prevPropsPosition:Ae}),{x:Ce.x,y:Ce.y,prevPropsPosition:ne({},Ce)}):null}}]);function ye(re){var se;return he(this,ye),se=ce.call(this,re),Se(Me(se),"onDragStart",function(pe,Ce){(0,v.default)("Draggable: onDragStart: %j",Ce);var Ae=se.props.onStart(pe,(0,l.createDraggableData)(Me(se),Ce));if(Ae===!1)return!1;se.setState({dragging:!0,dragged:!0})}),Se(Me(se),"onDrag",function(pe,Ce){if(!se.state.dragging)return!1;(0,v.default)("Draggable: onDrag: %j",Ce);var Ae=(0,l.createDraggableData)(Me(se),Ce),He={x:Ae.x,y:Ae.y};if(se.props.bounds){var tt=He.x,Ye=He.y;He.x+=se.state.slackX,He.y+=se.state.slackY;var vt=(0,l.getBoundPosition)(Me(se),He.x,He.y),Bt=P(vt,2),Pt=Bt[0],rt=Bt[1];He.x=Pt,He.y=rt,He.slackX=se.state.slackX+(tt-He.x),He.slackY=se.state.slackY+(Ye-He.y),Ae.x=He.x,Ae.y=He.y,Ae.deltaX=He.x-se.state.x,Ae.deltaY=He.y-se.state.y}var pt=se.props.onDrag(pe,Ae);if(pt===!1)return!1;se.setState(He)}),Se(Me(se),"onDragStop",function(pe,Ce){if(!se.state.dragging)return!1;var Ae=se.props.onStop(pe,(0,l.createDraggableData)(Me(se),Ce));if(Ae===!1)return!1;(0,v.default)("Draggable: onDragStop: %j",Ce);var He={dragging:!1,slackX:0,slackY:0},tt=!!se.props.position;if(tt){var Ye=se.props.position,vt=Ye.x,Bt=Ye.y;He.x=vt,He.y=Bt}se.setState(He)}),se.state={dragging:!1,dragged:!1,x:re.position?re.position.x:re.defaultPosition.x,y:re.position?re.position.y:re.defaultPosition.y,prevPropsPosition:ne({},re.position),slackX:0,slackY:0,isElementSVG:!1},re.position&&!(re.onDrag||re.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),se}return we(ye,[{key:"componentDidMount",value:function(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"findDOMNode",value:function(){return this.props.nodeRef?this.props.nodeRef.current:r.default.findDOMNode(this)}},{key:"render",value:function(){var se,pe=this.props;pe.axis,pe.bounds;var Ce=pe.children,Ae=pe.defaultPosition,He=pe.defaultClassName,tt=pe.defaultClassNameDragging,Ye=pe.defaultClassNameDragged,vt=pe.position,Bt=pe.positionOffset;pe.scale;var Pt=j(pe,["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"]),rt={},pt=null,kt=!!vt,Rt=!kt||this.state.dragging,$t=vt||Ae,Wt={x:(0,l.canDragX)(this)&&Rt?this.state.x:$t.x,y:(0,l.canDragY)(this)&&Rt?this.state.y:$t.y};this.state.isElementSVG?pt=(0,a.createSVGTransform)(Wt,Bt):rt=(0,a.createCSSTransform)(Wt,Bt);var ut=(0,i.default)(Ce.props.className||"",He,(se={},Se(se,tt,this.state.dragging),Se(se,Ye,this.state.dragged),se));return t.createElement(p.default,I({},Pt,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),t.cloneElement(t.Children.only(Ce),{className:ut,style:ne(ne({},Ce.props.style),rt),transform:pt}))}}]),ye}(t.Component);e.default=Le,Se(Le,"displayName","Draggable"),Se(Le,"propTypes",ne(ne({},p.default.propTypes),{},{axis:n.default.oneOf(["both","x","y","none"]),bounds:n.default.oneOfType([n.default.shape({left:n.default.number,right:n.default.number,top:n.default.number,bottom:n.default.number}),n.default.string,n.default.oneOf([!1])]),defaultClassName:n.default.string,defaultClassNameDragging:n.default.string,defaultClassNameDragged:n.default.string,defaultPosition:n.default.shape({x:n.default.number,y:n.default.number}),positionOffset:n.default.shape({x:n.default.oneOfType([n.default.number,n.default.string]),y:n.default.oneOfType([n.default.number,n.default.string])}),position:n.default.shape({x:n.default.number,y:n.default.number}),className:c.dontSetMe,style:c.dontSetMe,transform:c.dontSetMe})),Se(Le,"defaultProps",ne(ne({},p.default.defaultProps),{},{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},position:null,scale:1}))})(YN);var aI=YN,sI=aI.default,dne=aI.DraggableCore;IS.exports=sI;IS.exports.default=sI;var hne=IS.exports.DraggableCore=dne;const pne=400,lI=O.memo(e=>{const{onDeselect:t,onDrag:n,onDragStart:r,onDragStop:i,onEdit:a,onSelect:l,passage:c,tagColors:p}=e,{t:v}=Xe(),m=O.useMemo(()=>ir("passage-card",{empty:ZP(c),selected:c.selected}),[c]),x=O.useRef(null),E=O.useMemo(()=>c.text.length>0?c.text.substring(0,pne):b.jsx("span",{className:"placeholder",children:v(xte==="touchOnly"?"components.passageCard.placeholderTouch":"components.passageCard.placeholderClick")}),[c.text,v]),C=O.useMemo(()=>({height:c.height,left:c.left,top:c.top,width:c.width}),[c.height,c.left,c.top,c.width]),I=O.useCallback(P=>{P.shiftKey||P.ctrlKey?c.selected?t(c):l(c,!1):c.selected||l(c,!0)},[t,l,c]),j=O.useCallback(()=>a(c),[a,c]),A=O.useCallback((P,M)=>{l(c,M)},[l,c]);return b.jsx(hne,{nodeRef:x,onMouseDown:I,onStart:r,onDrag:n,onStop:i,children:b.jsx("div",{className:m,ref:x,style:C,children:b.jsxs(nS,{highlighted:c.highlighted,label:c.name,onDoubleClick:j,onSelect:A,selected:c.selected,children:[b.jsx(TN,{tagColors:p,tags:c.tags}),b.jsx("h2",{children:c.name}),b.jsx(_r,{children:E})]})})})});lI.displayName="PassageCard";const uI=O.memo(e=>{const{passages:t}=e,n=O.useMemo(()=>[...t].sort((r,i)=>r.top!==i.top?r.top-i.top:r.left-i.left),[t]);return b.jsx(hd,{component:null,children:n.map(r=>b.jsx($a,{classNames:"pop",timeout:200,children:b.jsx(lI,{passage:r,...e})},r.id))})});uI.displayName="PassageCardGroup";function gne(e,t){switch(t.type){case"start":return{dragging:!0,dragX:t.x,dragY:t.y,startX:t.x,startY:t.y};case"move":return{...e,dragX:t.x,dragY:t.y};case"stop":return Promise.resolve().then(()=>t.callback({left:e.dragX-e.startX,top:e.dragY-e.startY})),{dragging:!1,dragX:0,dragY:0,startX:0,startY:0}}}const h_=.6,vne=e=>{const{formatName:t,formatVersion:n,onDeselect:r,onDrag:i,onEdit:a,onSelect:l,passages:c,startPassageId:p,tagColors:v,visibleZoom:m,zoom:x}=e,[E,C]=O.useState(m<=h_),I=O.useRef(null),j=O.useMemo(()=>sU([...c,{top:0,left:0,width:0,height:0}]),[c]),A=O.useMemo(()=>({height:"calc(".concat(j.height,"px + max(50vh, ").concat(1e3/m,"px))"),width:"calc(".concat(j.width,"px + max(50vw, ").concat(1e3/m,"px))"),transform:"scale(".concat(m,")")}),[j.height,j.width,m]),[P,M]=O.useReducer(gne,{dragging:!1,dragX:0,dragY:0,startX:0,startY:0}),z=O.useRef(!1);O.useEffect(()=>{x===m&&C(x<=h_)},[m,x]),O.useEffect(()=>{I.current&&(I.current.style.setProperty("--drag-offset-left","".concat((P.dragX-P.startX)/m,"px")),I.current.style.setProperty("--drag-offset-top","".concat((P.dragY-P.startY)/m,"px")))},[P.dragX,P.dragY,P.startX,P.startY,m]);const $=O.useCallback((ne,he)=>{document.body.classList.add("dragging-passages"),M({type:"start",x:he.x,y:he.y})},[]),U=O.useCallback((ne,he)=>M({type:"move",x:he.x,y:he.y}),[]),X=O.useCallback(()=>{document.body.classList.remove("dragging-passages"),M({type:"stop",callback:i}),z.current=!0,window.setTimeout(()=>{z.current=!1},0)},[i]),V=O.useCallback((ne,he)=>{z.current||l(ne,he)},[l]);return b.jsxs("div",{className:ir("passage-map",{"compact-passage-cards":E}),ref:I,style:A,children:[b.jsx(hte,{formatName:t,formatVersion:n,offset:{left:(P.dragX-P.startX)/x,top:(P.dragY-P.startY)/x},passages:c,startPassageId:p}),b.jsx(uI,{onDeselect:r,onDragStart:$,onDrag:U,onDragStop:X,onEdit:a,onSelect:V,passages:c,tagColors:v})]})},mne=e=>{const{container:t,onSelectRect:n,...r}=e,[i,a]=O.useState(),[l,c]=O.useState(),p=O.useMemo(()=>i?e.passages.map(x=>{if(l&&x.selected)return x;const E=zy(i,x);return E===x.selected?x:{...x,selected:E}}):e.passages,[e.passages,l,i]),v=O.useCallback((x,E)=>{a({height:x.height/e.zoom,left:x.left/e.zoom,top:x.top/e.zoom,width:x.width/e.zoom}),c(E)},[e.zoom]),m=O.useCallback((x,E)=>{a(void 0),c(void 0),n(x,E)},[n]);return b.jsxs(b.Fragment,{children:[b.jsx(ste,{container:t,ignoreEventsOnSelector:".passage-card, .fuzzy-finder, .zoom-buttons",onSelectRect:m,onTemporarySelectRect:v}),b.jsx(vne,{...r,passages:p})]})};/*!
 * hotkeys-js v3.8.7
 * A simple micro-library for defining and dispatching keyboard shortcuts. It has no dependencies.
 * 
 * Copyright (c) 2021 kenny wong <wowohoo@qq.com>
 * http://jaywcjlove.github.io/hotkeys
 * 
 * Licensed under the MIT license.
 */var L1=typeof navigator<"u"?navigator.userAgent.toLowerCase().indexOf("firefox")>0:!1;function P1(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on".concat(t),function(){n(window.event)})}function cI(e,t){for(var n=t.slice(0,t.length-1),r=0;r<n.length;r++)n[r]=e[n[r].toLowerCase()];return n}function fI(e){typeof e!="string"&&(e=""),e=e.replace(/\s/g,"");for(var t=e.split(","),n=t.lastIndexOf("");n>=0;)t[n-1]+=",",t.splice(n,1),n=t.lastIndexOf("");return t}function yne(e,t){for(var n=e.length>=t.length?e:t,r=e.length>=t.length?t:e,i=!0,a=0;a<n.length;a++)r.indexOf(n[a])===-1&&(i=!1);return i}var dI={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"":20,",":188,".":190,"/":191,"`":192,"-":L1?173:189,"=":L1?61:187,";":L1?59:186,"'":222,"[":219,"]":221,"\\":220},lc={"":16,shift:16,"":18,alt:18,option:18,"":17,ctrl:17,control:17,"":91,cmd:91,command:91},p_={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},kr={16:!1,18:!1,17:!1,91:!1},gr={};for(var em=1;em<20;em++)dI["f".concat(em)]=111+em;var En=[],hI="all",pI=[],_0=function(t){return dI[t.toLowerCase()]||lc[t.toLowerCase()]||t.toUpperCase().charCodeAt(0)};function gI(e){hI=e||"all"}function Lp(){return hI||"all"}function wne(){return En.slice(0)}function xne(e){var t=e.target||e.srcElement,n=t.tagName,r=!0;return(t.isContentEditable||(n==="INPUT"||n==="TEXTAREA"||n==="SELECT")&&!t.readOnly)&&(r=!1),r}function bne(e){return typeof e=="string"&&(e=_0(e)),En.indexOf(e)!==-1}function Ene(e,t){var n,r;e||(e=Lp());for(var i in gr)if(Object.prototype.hasOwnProperty.call(gr,i))for(n=gr[i],r=0;r<n.length;)n[r].scope===e?n.splice(r,1):r++;Lp()===e&&gI(t||"all")}function Sne(e){var t=e.keyCode||e.which||e.charCode,n=En.indexOf(t);if(n>=0&&En.splice(n,1),e.key&&e.key.toLowerCase()==="meta"&&En.splice(0,En.length),(t===93||t===224)&&(t=91),t in kr){kr[t]=!1;for(var r in lc)lc[r]===t&&($i[r]=!1)}}function Cne(e){if(!e)Object.keys(gr).forEach(function(l){return delete gr[l]});else if(Array.isArray(e))e.forEach(function(l){l.key&&A1(l)});else if(typeof e=="object")e.key&&A1(e);else if(typeof e=="string"){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n[0],a=n[1];typeof i=="function"&&(a=i,i=""),A1({key:e,scope:i,method:a,splitKey:"+"})}}var A1=function(t){var n=t.key,r=t.scope,i=t.method,a=t.splitKey,l=a===void 0?"+":a,c=fI(n);c.forEach(function(p){var v=p.split(l),m=v.length,x=v[m-1],E=x==="*"?"*":_0(x);if(gr[E]){r||(r=Lp());var C=m>1?cI(lc,v):[];gr[E]=gr[E].map(function(I){var j=i?I.method===i:!0;return j&&I.scope===r&&yne(I.mods,C)?{}:I})}})};function g_(e,t,n){var r;if(t.scope===n||t.scope==="all"){r=t.mods.length>0;for(var i in kr)Object.prototype.hasOwnProperty.call(kr,i)&&(!kr[i]&&t.mods.indexOf(+i)>-1||kr[i]&&t.mods.indexOf(+i)===-1)&&(r=!1);(t.mods.length===0&&!kr[16]&&!kr[18]&&!kr[17]&&!kr[91]||r||t.shortcut==="*")&&t.method(e,t)===!1&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0))}}function v_(e){var t=gr["*"],n=e.keyCode||e.which||e.charCode;if($i.filter.call(this,e)){if((n===93||n===224)&&(n=91),En.indexOf(n)===-1&&n!==229&&En.push(n),["ctrlKey","altKey","shiftKey","metaKey"].forEach(function(C){var I=p_[C];e[C]&&En.indexOf(I)===-1?En.push(I):!e[C]&&En.indexOf(I)>-1?En.splice(En.indexOf(I),1):C==="metaKey"&&e[C]&&En.length===3&&(e.ctrlKey||e.shiftKey||e.altKey||(En=En.slice(En.indexOf(I))))}),n in kr){kr[n]=!0;for(var r in lc)lc[r]===n&&($i[r]=!0);if(!t)return}for(var i in kr)Object.prototype.hasOwnProperty.call(kr,i)&&(kr[i]=e[p_[i]]);e.getModifierState&&!(e.altKey&&!e.ctrlKey)&&e.getModifierState("AltGraph")&&(En.indexOf(17)===-1&&En.push(17),En.indexOf(18)===-1&&En.push(18),kr[17]=!0,kr[18]=!0);var a=Lp();if(t)for(var l=0;l<t.length;l++)t[l].scope===a&&(e.type==="keydown"&&t[l].keydown||e.type==="keyup"&&t[l].keyup)&&g_(e,t[l],a);if(n in gr){for(var c=0;c<gr[n].length;c++)if((e.type==="keydown"&&gr[n][c].keydown||e.type==="keyup"&&gr[n][c].keyup)&&gr[n][c].key){for(var p=gr[n][c],v=p.splitKey,m=p.key.split(v),x=[],E=0;E<m.length;E++)x.push(_0(m[E]));x.sort().join("")===En.sort().join("")&&g_(e,p,a)}}}}function Tne(e){return pI.indexOf(e)>-1}function $i(e,t,n){En=[];var r=fI(e),i=[],a="all",l=document,c=0,p=!1,v=!0,m="+";for(n===void 0&&typeof t=="function"&&(n=t),Object.prototype.toString.call(t)==="[object Object]"&&(t.scope&&(a=t.scope),t.element&&(l=t.element),t.keyup&&(p=t.keyup),t.keydown!==void 0&&(v=t.keydown),typeof t.splitKey=="string"&&(m=t.splitKey)),typeof t=="string"&&(a=t);c<r.length;c++)e=r[c].split(m),i=[],e.length>1&&(i=cI(lc,e)),e=e[e.length-1],e=e==="*"?"*":_0(e),e in gr||(gr[e]=[]),gr[e].push({keyup:p,keydown:v,scope:a,mods:i,shortcut:r[c],method:n,key:r[c],splitKey:m});typeof l<"u"&&!Tne(l)&&window&&(pI.push(l),P1(l,"keydown",function(x){v_(x)}),P1(window,"focus",function(){En=[]}),P1(l,"keyup",function(x){v_(x),Sne(x)}))}var N1={setScope:gI,getScope:Lp,deleteScope:Ene,getPressedKeyCodes:wne,isPressed:bne,filter:xne,unbind:Cne};for(var I1 in N1)Object.prototype.hasOwnProperty.call(N1,I1)&&($i[I1]=N1[I1]);if(typeof window<"u"){var kne=window.hotkeys;$i.noConflict=function(e){return e&&window.hotkeys===$i&&(window.hotkeys=kne),$i},window.hotkeys=$i}$i.filter=function(){return!0};var vI=function(t,n){var r=t.target,i=r&&r.tagName;return!!(i&&n&&n.includes(i))},_ne=function(t){return vI(t,["INPUT","TEXTAREA","SELECT"])};function Cl(e,t,n,r){n instanceof Array&&(r=n,n=void 0);var i=n||{},a=i.enableOnTags,l=i.filter,c=i.keyup,p=i.keydown,v=i.filterPreventDefault,m=v===void 0?!0:v,x=i.enabled,E=x===void 0?!0:x,C=i.enableOnContentEditable,I=C===void 0?!1:C,j=O.useRef(null),A=O.useCallback(function(P,M){var z;return l&&!l(P)?!m:_ne(P)&&!vI(P,a)||(z=P.target)!=null&&z.isContentEditable&&!I?!0:j.current===null||document.activeElement===j.current?(t(P,M),!0):!1},r?[j,a,l].concat(r):[j,a,l]);return O.useEffect(function(){if(!E){$i.unbind(e,A);return}return c&&p!==!0&&(n.keydown=!1),$i(e,n||{},A),function(){return $i.unbind(e,A)}},[A,e,E]),j}$i.isPressed;const One=e=>{const{detail:t,heading:n,onClick:r,selected:i}=e;return b.jsxs("button",{className:ir("fuzzy-finder-result",{selected:i}),onClick:r,children:[b.jsx(m3,{}),b.jsx("span",{className:"heading",children:n}),b.jsx("span",{className:"detail",children:t})]})};function tm(e){return!!(e&&document.activeElement===e)}const Lne=e=>{const{noResultsText:t,onChangeSearch:n,onClose:r,onSelectResult:i,prompt:a,search:l,results:c}=e,[p,v]=O.useState(0),m=O.useRef(null),x=O.useRef(null);return Cl("escape",r,{enableOnTags:["INPUT"],filter:()=>tm(x.current)},[r]),Cl("return",()=>i(p),{enableOnTags:["INPUT"],filter:()=>tm(x.current)},[i,p]),Cl("up",()=>v(E=>E===0?c.length-1:E-1),{enableOnTags:["INPUT"],filter:()=>tm(x.current)},[i,p]),Cl("down",()=>v(E=>E===c.length-1?0:E+1),{enableOnTags:["INPUT"],filter:()=>tm(x.current)},[i,p]),O.useEffect(()=>{const E=window.setTimeout(()=>{var C;m.current&&((C=m.current.querySelector("input"))==null||C.focus())},0);return()=>window.clearTimeout(E)},[]),b.jsx("div",{className:"fuzzy-finder",ref:m,children:b.jsxs(Ul,{children:[b.jsxs("div",{className:"search",children:[b.jsx(Cp,{onChange:E=>n(E.target.value),ref:x,value:l,children:a}),b.jsx(it,{icon:b.jsx(No,{}),iconOnly:!0,label:"Close",onClick:r,tooltipPosition:"bottom"})]}),b.jsxs("div",{className:ir("results",{"has-results":c.length>0}),children:[l.length>0&&c.length===0&&b.jsx("div",{className:"no-results",children:t}),l.length>0&&c.length>0&&b.jsx("ol",{children:c.map((E,C)=>b.jsx("li",{children:b.jsx(One,{...E,onClick:()=>i(C),selected:C===p})},E.heading))})]})]})})},Pne=e=>{const{onClose:t,onOpen:n,open:r,setCenter:i,story:a}=e,{dispatch:l}=gn(),[c,p]=O.useState(""),[v,m]=O.useState(""),x=O.useMemo(()=>TS.debounce(P=>{m(P)},100,{leading:!0,trailing:!0}),[]),E=O.useMemo(()=>B5(a.passages,v),[v,a.passages]),C=O.useMemo(()=>E.map(({name:P,text:M})=>({heading:P,detail:M})),[E]);Cl("p",n);const{t:I}=Xe();function j(P){p(P),x(P)}function A(P){i(E[P]),l(JP(a,E[P],!0)),p(""),t()}return b.jsx($a,{classNames:"pop",mountOnEnter:!0,timeout:200,unmountOnExit:!0,in:r,children:b.jsx(Lne,{noResultsText:I("components.passageFuzzyFinder.noResults"),onClose:t,onChangeSearch:j,onSelectResult:A,prompt:I("components.passageFuzzyFinder.prompt"),search:c,results:C})})},Ane=e=>{const{getCenter:t,story:n}=e,{dispatch:r}=Gi(),i=O.useCallback(()=>{const{left:l,top:c}=t();r(MP(n,l,c),"undoChange.newPassage")},[r,t,n]),{t:a}=Xe();return b.jsx(it,{icon:b.jsx(Xf,{}),label:a("common.new"),onClick:i})},Nne=e=>{const{passages:t,story:n}=e,{dispatch:r}=Gi(),{t:i}=Xe(),a=O.useMemo(()=>t.length===0?!0:t.some(c=>n.startPassage===c.id),[t,n.startPassage]),l=O.useCallback(()=>{t.length!==0&&r(R8(n,t),t.length>1?"undoChange.deletePassages":"undoChange.deletePassage")},[r,t,n]);return Cl("Backspace,Delete",l,[l]),b.jsx(it,{disabled:a,icon:b.jsx(Zm,{}),label:!a&&t.length>1?i("common.deleteCount",{count:t.length}):i("common.delete"),onClick:l})},Ine=e=>{const{passages:t,story:n}=e,{dispatch:r}=yi(),{t:i}=Xe();function a(){r(xS(n.id,t.map(({id:l})=>l)))}return b.jsx(it,{disabled:t.length===0,icon:b.jsx(UL,{}),label:t.length>1?i("common.editCount",{count:t.length}):i("common.edit"),onClick:a})},Rne=e=>{const{onOpenFuzzyFinder:t}=e,{t:n}=Xe();return b.jsx(it,{icon:b.jsx(F3,{}),label:n("routes.storyEdit.toolbar.goTo"),onClick:t})},Mne=e=>{const{story:t}=e,{dispatch:n}=gn(),{t:r}=Xe();return b.jsx(it,{icon:b.jsx(Q3,{}),label:r("common.selectAll"),onClick:()=>n(Q5(t))})},Fne=e=>{const{passage:t,story:n}=e,{dispatch:r,stories:i}=gn(),{t:a}=Xe();function l(){if(!t)throw new Error("No passage set");r(Zr(i,n,{startPassage:t.id}))}return b.jsx(it,{disabled:!t||t.id===n.startPassage,icon:b.jsx(d4,{}),label:a("routes.storyEdit.toolbar.startStoryHere"),onClick:l})},jne=e=>{const{getCenter:t,onOpenFuzzyFinder:n,story:r}=e,{dispatch:i}=gn(),a=O.useMemo(()=>r.passages.filter(p=>p.selected),[r.passages]),l=O.useMemo(()=>a.length===1?a[0]:void 0,[a]);function c(p,v){if(!v)throw new Error("Passage is unset");i(Dl(r,v,{name:p},{dontUpdateOthers:!0}))}return b.jsxs(Nn,{children:[b.jsx(Ane,{getCenter:t,story:r}),b.jsx(Ine,{passages:a,story:r}),b.jsx(EN,{onRename:p=>c(p,l),passage:l,story:r}),b.jsx(Nne,{passages:a,story:r}),b.jsx(_N,{passage:l,story:r}),b.jsx(Fne,{passage:l,story:r}),b.jsx(Rne,{onOpenFuzzyFinder:n}),b.jsx(Mne,{story:r})]})},$ne=()=>{const{t:e}=Xe();return b.jsx(it,{disabled:!0,icon:b.jsx(zp,{}),label:e("common.rename")})},Dne=e=>{const{existingStories:t,onRename:n,story:r}=e,[i,a]=O.useState(r.name),{t:l}=Xe();O.useEffect(()=>a(r.name),[r]);function c(p){return p.trim()===""?{message:l("components.renameStoryButton.emptyName"),valid:!1}:t.some(v=>v.id!==r.id&&hi(v)===hi({...r,name:p}))?{message:l("components.renameStoryButton.nameAlreadyUsed"),valid:!1}:{valid:!0}}return b.jsx(Zp,{icon:b.jsx(zp,{}),label:l("common.rename"),onChange:p=>a(p.target.value),onSubmit:n,prompt:l("common.renamePrompt",{name:r.name}),validate:c,value:i})},mI=e=>e.story?b.jsx(Dne,{...e}):b.jsx($ne,{}),Bne=e=>{const{story:t}=e,{dispatch:n}=yi(),{t:r}=Xe();return b.jsx(it,{icon:b.jsx(_x,{}),label:r("common.details"),onClick:()=>n({type:"addDialog",component:Tee,props:{storyId:t.id}})})},zne=e=>{const{story:t}=e,{dispatch:n}=yi(),{t:r}=Xe();return b.jsx(it,{icon:b.jsx(p4,{}),label:r("routes.storyEdit.toolbar.findAndReplace"),onClick:()=>n({type:"addDialog",component:kee,props:{find:"",flags:{includePassageNames:!0,matchCase:!1,useRegexes:!1},replace:"",storyId:t.id}})})},Hne=e=>{const{story:t}=e,{dispatch:n}=yi(),{t:r}=Xe();return b.jsx(it,{icon:b.jsx(u3,{}),label:r("routes.storyEdit.toolbar.javaScript"),onClick:()=>n({type:"addDialog",component:xee,props:{storyId:t.id}})})},Une=e=>{const{story:t}=e,{dispatch:n}=yi(),{t:r}=Xe();return b.jsx(it,{icon:b.jsx(VL,{}),label:r("routes.storyEdit.toolbar.passageTags"),onClick:()=>n({type:"addDialog",component:uee,props:{storyId:t.id}})})},Wne=e=>{const{story:t}=e,{dispatch:n}=yi(),{t:r}=Xe();return b.jsx(it,{icon:b.jsx(B3,{}),label:r("routes.storyEdit.toolbar.stylesheet"),onClick:()=>n({type:"addDialog",component:_ee,props:{storyId:t.id}})})},Kne=e=>{const{dispatch:t,stories:n}=gn(),{story:r}=e;return b.jsxs(Nn,{children:[b.jsx(zne,{story:r}),b.jsx(mI,{existingStories:n,onRename:i=>t(Zr(n,r,{name:i})),story:r}),b.jsx(Bne,{story:r}),b.jsx(Une,{story:r}),b.jsx(Hne,{story:r}),b.jsx(Wne,{story:r})]})},Gne=()=>{const{redo:e,redoLabel:t,undo:n,undoLabel:r}=Gi(),{t:i}=Xe();return b.jsxs(b.Fragment,{children:[b.jsx(it,{disabled:!n,icon:b.jsx(BL,{}),label:r!=null?r:i("common.undo"),onClick:n}),b.jsx(it,{disabled:!e,icon:b.jsx(zL,{}),label:t!=null?t:i("common.redo"),onClick:e})]})};const yI=O.memo(({story:e})=>{const{dispatch:t,stories:n}=gn(),{t:r}=Xe(),i=O.useCallback(a=>{t(Zr(n,e,{zoom:a}))},[t,n,e]);return b.jsxs("div",{className:"zoom-buttons",children:[b.jsx("span",{className:"legend",children:r("routes.storyEdit.zoomButtons.legend")}),b.jsx(it,{icon:b.jsx(qL,{}),iconOnly:!0,label:r("routes.storyEdit.zoomButtons.passageNamesAndExcerpts"),onClick:()=>i(1),selectable:!0,selected:e.zoom===1}),b.jsx(it,{icon:b.jsx(V3,{}),iconOnly:!0,label:r("routes.storyEdit.zoomButtons.passageNames"),onClick:()=>i(.6),selectable:!0,selected:e.zoom===.6}),b.jsx(it,{icon:b.jsx($3,{}),iconOnly:!0,label:r("routes.storyEdit.zoomButtons.storyStructure"),onClick:()=>i(.3),selectable:!0,selected:e.zoom===.3})]})});yI.displayName="ZoomButtons";const qne=e=>{const{getCenter:t,onOpenFuzzyFinder:n,story:r}=e,{t:i}=Xe();return b.jsx(PS,{pinnedControls:b.jsxs(b.Fragment,{children:[b.jsx(yI,{story:r}),b.jsx(Gne,{})]}),tabs:{[i("common.passage")]:b.jsx(jne,{getCenter:t,onOpenFuzzyFinder:n,story:r}),[i("common.story")]:b.jsx(Kne,{story:r}),[i("common.build")]:b.jsx(KN,{story:r}),[i("common.appName")]:b.jsx(AS,{})}})};function Xne(e,t){const{dispatch:n}=Gi(),[r,i]=O.useState(!1);O.useEffect(()=>{if(!r&&(i(!0),e.passages.length===0)){const a=t();n(MP(e,a.left,a.top))}},[n,t,r,e])}function Vne(e){const t=O.useMemo(()=>e.passages.filter(v=>v.selected),[e.passages]),{dispatch:n}=Gi(),{dispatch:r}=yi(),i=O.useCallback(v=>n(Y5(e,v)),[e,n]),a=O.useCallback(v=>{Math.abs(v.left)<1&&Math.abs(v.top)<1||n(q5(e,e.passages.reduce((m,x)=>x.selected?[...m,x.id]:m,[]),v.left/e.zoom,v.top/e.zoom),(t.length>1,"undoChange.movePassages"))},[t.length,e,n]),l=O.useCallback(v=>r(xS(e.id,[v.id])),[r,e.id]),c=O.useCallback((v,m)=>n(JP(e,v,m)),[e,n]),p=O.useCallback((v,m)=>{const x={height:v.height/e.zoom,left:v.left/e.zoom,top:v.top/e.zoom,width:v.width/e.zoom};n(Z5(e,x,m?t.map(E=>E.id):[]))},[t,e,n]);return{handleDeselectPassage:i,handleDragPassages:a,handleEditPassage:l,handleSelectPassage:c,handleSelectRect:p}}function Yne(e,t){const{dialogs:n}=yi(),{prefs:r}=Zt(),i=O.useCallback(()=>{if(!t.current)throw new Error("Asked for the center of an element, but it does not exist in the DOM yet");return{left:(t.current.scrollLeft+t.current.clientWidth/2)/e.zoom,top:(t.current.scrollTop+t.current.clientHeight/2)/e.zoom}},[t,e.zoom]),a=O.useCallback(({left:l,top:c})=>{if(!t.current)throw new Error("Asked to set the center of an element, but it does not exist in the DOM yet");const{height:p,width:v}=t.current.getBoundingClientRect(),m={left:(l-v/e.zoom/2)*e.zoom,top:(c-p/e.zoom/2)*e.zoom};n.length>0&&(m.left+=r.dialogWidth/2),t.current.scrollTo(m)},[n.length,t,r.dialogWidth,e.zoom]);return{getCenter:i,setCenter:a}}function Qne(e){const{dispatch:t,stories:n}=gn();Cl("-",()=>{switch(e.zoom){case 1:t(Zr(n,e,{zoom:.6}));break;case .6:t(Zr(n,e,{zoom:.3}));break}},{keydown:!1,keyup:!0},[t,n,e]),Cl("=",()=>{switch(e.zoom){case .3:t(Zr(n,e,{zoom:.6}));break;case .6:t(Zr(n,e,{zoom:1}));break}},{keydown:!1,keyup:!0},[t,n,e])}function Zne(e){var t=2.5949095;return(e*=2)<1?.5*(e*e*((t+1)*e-t)):.5*((e-=2)*e*((t+1)*e+t)+2)}var Jne=Zne;function ere(e){var t=1.70158;return e*e*((t+1)*e-t)}var tre=ere;function nre(e){var t=1.70158;return--e*e*((t+1)*e+t)+1}var rre=nre;function ire(e){var t=.36363636363636365,n=8/11,r=9/10,i=4356/361,a=35442/1805,l=16061/1805,c=e*e;return e<t?7.5625*c:e<n?9.075*c-9.9*e+3.4:e<r?i*c-a*e+l:10.8*e*e-20.52*e+10.72}var jS=ire,m_=jS;function ore(e){return e<.5?.5*(1-m_(1-e*2)):.5*m_(e*2-1)+.5}var are=ore,sre=jS;function lre(e){return 1-sre(1-e)}var ure=lre;function cre(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}var fre=cre;function dre(e){return 1-Math.sqrt(1-e*e)}var hre=dre;function pre(e){return Math.sqrt(1- --e*e)}var gre=pre;function vre(e){return e<.5?4*e*e*e:.5*Math.pow(2*e-2,3)+1}var mre=vre;function yre(e){return e*e*e}var wre=yre;function xre(e){var t=e-1;return t*t*t+1}var bre=xre;function Ere(e){return e<.5?.5*Math.sin(13*Math.PI/2*2*e)*Math.pow(2,10*(2*e-1)):.5*Math.sin(-13*Math.PI/2*(2*e-1+1))*Math.pow(2,-10*(2*e-1))+1}var Sre=Ere;function Cre(e){return Math.sin(13*e*Math.PI/2)*Math.pow(2,10*(e-1))}var Tre=Cre;function kre(e){return Math.sin(-13*(e+1)*Math.PI/2)*Math.pow(2,-10*e)+1}var _re=kre;function Ore(e){return e===0||e===1?e:e<.5?.5*Math.pow(2,20*e-10):-.5*Math.pow(2,10-e*20)+1}var Lre=Ore;function Pre(e){return e===0?e:Math.pow(2,10*(e-1))}var Are=Pre;function Nre(e){return e===1?e:1-Math.pow(2,-10*e)}var Ire=Nre;function Rre(e){return e}var Mre=Rre;function Fre(e){return e/=.5,e<1?.5*e*e:(e--,-.5*(e*(e-2)-1))}var jre=Fre;function $re(e){return e*e}var Dre=$re;function Bre(e){return-e*(e-2)}var zre=Bre;function Hre(e){return e<.5?8*Math.pow(e,4):-8*Math.pow(e-1,4)+1}var Ure=Hre;function Wre(e){return Math.pow(e,4)}var Kre=Wre;function Gre(e){return Math.pow(e-1,3)*(1-e)+1}var qre=Gre;function Xre(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}var Vre=Xre;function Yre(e){return e*e*e*e*e}var Qre=Yre;function Zre(e){return--e*e*e*e*e+1}var Jre=Zre;function eie(e){return-.5*(Math.cos(Math.PI*e)-1)}var tie=eie;function nie(e){var t=Math.cos(e*Math.PI*.5);return Math.abs(t)<1e-14?1:1-t}var rie=nie;function iie(e){return Math.sin(e*Math.PI/2)}var oie=iie,aie={backInOut:Jne,backIn:tre,backOut:rre,bounceInOut:are,bounceIn:ure,bounceOut:jS,circInOut:fre,circIn:hre,circOut:gre,cubicInOut:mre,cubicIn:wre,cubicOut:bre,elasticInOut:Sre,elasticIn:Tre,elasticOut:_re,expoInOut:Lre,expoIn:Are,expoOut:Ire,linear:Mre,quadInOut:jre,quadIn:Dre,quadOut:zre,quartInOut:Ure,quartIn:Kre,quartOut:qre,quintInOut:Vre,quintIn:Qre,quintOut:Jre,sineInOut:tie,sineIn:rie,sineOut:oie};function sie(e,t,n,r){let i;if(r<1)return i=t+n*aie.quadOut(r),e(i),i;e(t+n)}function lie(e,t){const[n,r]=O.useState(e),i=O.useRef(),a=O.useCallback(()=>{i.current&&window.requestAnimationFrame(l=>{const c=i.current;if(c.lastTimestamp){c.elapsed+=(l-c.lastTimestamp)/500,c.lastTimestamp=l;const p=sie(r,c.zoom.start,c.zoom.change,c.elapsed);if(p){const v=c.scrollNormalizedCenter.left*p-c.scrollCenter.width,m=c.scrollNormalizedCenter.top*p-c.scrollCenter.height;v>=0&&m>=0&&(c.scrollTarget.scrollLeft=v,c.scrollTarget.scrollTop=m),a()}else i.current=void 0}else c.lastTimestamp=l,a()})},[]);return O.useEffect(()=>{!i.current&&n!==e&&t&&(i.current={scrollTarget:t,elapsed:0,scrollNormalizedCenter:{left:(t.scrollLeft+t.clientWidth/2)/n,top:(t.scrollTop+t.clientHeight/2)/n},scrollCenter:{height:t.clientHeight/2,width:t.clientWidth/2},zoom:{start:n,change:e-n}},window.requestAnimationFrame(a))},[n,t,a,e]),n}const uie=()=>{const{storyId:e}=h0(),{stories:t}=Gi(),n=sn(t,e),[r,i]=O.useState(!1),a=O.useRef(null),{getCenter:l,setCenter:c}=Yne(n,a),{handleDeselectPassage:p,handleDragPassages:v,handleEditPassage:m,handleSelectPassage:x,handleSelectRect:E}=Vne(n),C=lie(n.zoom,a.current);return Qne(n),Xne(n,l),b.jsxs("div",{className:"story-edit-route",children:[b.jsx(tN,{title:n.name}),b.jsx(qne,{getCenter:l,onOpenFuzzyFinder:()=>i(!0),story:n}),b.jsxs(tS,{grabbable:!0,padded:!1,ref:a,children:[b.jsx(mne,{container:a,formatName:n.storyFormat,formatVersion:n.storyFormatVersion,onDeselect:p,onDrag:v,onEdit:m,onSelect:x,onSelectRect:E,passages:n.passages,startPassageId:n.startPassage,tagColors:n.tagColors,visibleZoom:C,zoom:n.zoom}),b.jsx(Pne,{onClose:()=>i(!1),onOpen:()=>i(!0),open:r,setCenter:c,story:n})]})]})},cie=()=>b.jsx(hN,{children:b.jsx(CS,{children:b.jsx(uie,{})})});var y_=Hp,fie=bE,die=ja,w_=y_?y_.isConcatSpreadable:void 0;function hie(e){return die(e)||fie(e)||!!(w_&&e&&e[w_])}var pie=hie,gie=AN,vie=pie;function wI(e,t,n,r,i){var a=-1,l=e.length;for(n||(n=vie),i||(i=[]);++a<l;){var c=e[a];t>0&&n(c)?t>1?wI(c,t-1,n,r,i):gie(i,c):r||(i[i.length]=c)}return i}var mie=wI,yie=ja,wie=Gy,xie=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,bie=/^\w*$/;function Eie(e,t){if(yie(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||wie(e)?!0:bie.test(e)||!xie.test(e)||t!=null&&e in Object(t)}var $S=Eie,xI=TE,Sie="Expected a function";function DS(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Sie);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var l=e.apply(this,r);return n.cache=a.set(i,l)||a,l};return n.cache=new(DS.Cache||xI),n}DS.Cache=xI;var Cie=DS,Tie=Cie,kie=500;function _ie(e){var t=Tie(e,function(r){return n.size===kie&&n.clear(),r}),n=t.cache;return t}var Oie=_ie,Lie=Oie,Pie=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Aie=/\\(\\)?/g,Nie=Lie(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Pie,function(n,r,i,a){t.push(i?a.replace(Aie,"$1"):r||n)}),t}),Iie=Nie,Rie=ja,Mie=$S,Fie=Iie,jie=_E;function $ie(e,t){return Rie(e)?e:Mie(e,t)?[e]:Fie(jie(e))}var bI=$ie,Die=Gy,Bie=1/0;function zie(e){if(typeof e=="string"||Die(e))return e;var t=e+"";return t=="0"&&1/e==-Bie?"-0":t}var O0=zie,Hie=bI,Uie=O0;function Wie(e,t){t=Hie(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[Uie(t[n++])];return n&&n==r?e:void 0}var BS=Wie,Kie=LN,Gie=ES,qie=1,Xie=2;function Vie(e,t,n,r){var i=n.length,a=i,l=!r;if(e==null)return!a;for(e=Object(e);i--;){var c=n[i];if(l&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++i<a;){c=n[i];var p=c[0],v=e[p],m=c[1];if(l&&c[2]){if(v===void 0&&!(p in e))return!1}else{var x=new Kie;if(r)var E=r(v,m,p,e,t,x);if(!(E===void 0?Gie(m,v,qie|Xie,r,x):E))return!1}}return!0}var Yie=Vie,Qie=Wp;function Zie(e){return e===e&&!Qie(e)}var EI=Zie,Jie=EI,eoe=bS;function toe(e){for(var t=eoe(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Jie(i)]}return t}var noe=toe;function roe(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var SI=roe,ioe=Yie,ooe=noe,aoe=SI;function soe(e){var t=ooe(e);return t.length==1&&t[0][2]?aoe(t[0][0],t[0][1]):function(n){return n===e||ioe(n,e,t)}}var loe=soe,uoe=BS;function coe(e,t,n){var r=e==null?void 0:uoe(e,t);return r===void 0?n:r}var foe=coe;function doe(e,t){return e!=null&&t in Object(e)}var hoe=doe,poe=bI,goe=bE,voe=ja,moe=xE,yoe=wE,woe=O0;function xoe(e,t,n){t=poe(t,e);for(var r=-1,i=t.length,a=!1;++r<i;){var l=woe(t[r]);if(!(a=e!=null&&n(e,l)))break;e=e[l]}return a||++r!=i?a:(i=e==null?0:e.length,!!i&&yoe(i)&&moe(l,i)&&(voe(e)||goe(e)))}var boe=xoe,Eoe=hoe,Soe=boe;function Coe(e,t){return e!=null&&Soe(e,t,Eoe)}var Toe=Coe,koe=ES,_oe=foe,Ooe=Toe,Loe=$S,Poe=EI,Aoe=SI,Noe=O0,Ioe=1,Roe=2;function Moe(e,t){return Loe(e)&&Poe(t)?Aoe(Noe(e),t):function(n){var r=_oe(n,e);return r===void 0&&r===t?Ooe(n,e):koe(t,r,Ioe|Roe)}}var Foe=Moe;function joe(e){return function(t){return t==null?void 0:t[e]}}var $oe=joe,Doe=BS;function Boe(e){return function(t){return Doe(t,e)}}var zoe=Boe,Hoe=$oe,Uoe=zoe,Woe=$S,Koe=O0;function Goe(e){return Woe(e)?Hoe(Koe(e)):Uoe(e)}var qoe=Goe,Xoe=loe,Voe=Foe,Yoe=Fy,Qoe=ja,Zoe=qoe;function Joe(e){return typeof e=="function"?e:e==null?Yoe:typeof e=="object"?Qoe(e)?Voe(e[0],e[1]):Xoe(e):Zoe(e)}var eae=Joe;function tae(e){return function(t,n,r){for(var i=-1,a=Object(t),l=r(t),c=l.length;c--;){var p=l[e?c:++i];if(n(a[p],p,a)===!1)break}return t}}var nae=tae,rae=nae,iae=rae(),oae=iae,aae=oae,sae=bS;function lae(e,t){return e&&aae(e,t,sae)}var uae=lae,cae=Kp;function fae(e,t){return function(n,r){if(n==null)return n;if(!cae(n))return e(n,r);for(var i=n.length,a=t?i:-1,l=Object(n);(t?a--:++a<i)&&r(l[a],a,l)!==!1;);return n}}var dae=fae,hae=uae,pae=dae,gae=pae(hae),vae=gae,mae=vae,yae=Kp;function wae(e,t){var n=-1,r=yae(e)?Array(e.length):[];return mae(e,function(i,a,l){r[++n]=t(i,a,l)}),r}var xae=wae;function bae(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var Eae=bae,x_=Gy;function Sae(e,t){if(e!==t){var n=e!==void 0,r=e===null,i=e===e,a=x_(e),l=t!==void 0,c=t===null,p=t===t,v=x_(t);if(!c&&!v&&!a&&e>t||a&&l&&p&&!c&&!v||r&&l&&p||!n&&p||!i)return 1;if(!r&&!a&&!v&&e<t||v&&n&&i&&!r&&!a||c&&n&&i||!l&&i||!p)return-1}return 0}var Cae=Sae,Tae=Cae;function kae(e,t,n){for(var r=-1,i=e.criteria,a=t.criteria,l=i.length,c=n.length;++r<l;){var p=Tae(i[r],a[r]);if(p){if(r>=c)return p;var v=n[r];return p*(v=="desc"?-1:1)}}return e.index-t.index}var _ae=kae,R1=FP,Oae=BS,Lae=eae,Pae=xae,Aae=Eae,Nae=dP,Iae=_ae,Rae=Fy,Mae=ja;function Fae(e,t,n){t.length?t=R1(t,function(a){return Mae(a)?function(l){return Oae(l,a.length===1?a[0]:a)}:a}):t=[Rae];var r=-1;t=R1(t,Nae(Lae));var i=Pae(e,function(a,l,c){var p=R1(t,function(v){return v(a)});return{criteria:p,index:++r,value:a}});return Aae(i,function(a,l){return Iae(a,l,n)})}var jae=Fae,$ae=mie,Dae=jae,Bae=lP,b_=uP,zae=Bae(function(e,t){if(e==null)return[];var n=t.length;return n>1&&b_(e,t[0],t[1])?t=[]:n>2&&b_(t[0],t[1],t[2])&&(t=[t[0]]),Dae(e,$ae(t,1),[])}),Hae=zae;const E_=Tn(Hae),Uae=1e3*60*60*24*14;function Wae(){const{prefs:e}=Zt();return{shouldShowDonationPrompt:O.useCallback(()=>e.donateShown?!1:Date.now()>e.firstRunTime+Uae,[e.donateShown,e.firstRunTime])}}const Kae=e=>{var m;const{watch:t}=e,[n,r]=O.useState(),[i,a]=O.useState(!1),[l,c]=O.useState(),{t:p}=Xe(),v=dc()||!((m=navigator.storage)!=null&&m.estimate);return O.useEffect(()=>{async function x(){a(!0);const{quota:E,usage:C}=await navigator.storage.estimate();E!==void 0&&C!==void 0&&c(((1-C/E)*100).toFixed(0)),r(t),a(!1)}!v&&!i&&n!==t&&x()},[v,n,t,i]),v?null:b.jsx("span",{className:"storage-quota",children:l&&p("components.storageQuota.freeSpace",{percent:l})})},Gae=()=>{const{stories:e}=gn(),{t}=Xe();return b.jsx(it,{icon:b.jsx(t4,{}),label:t("routes.storyList.toolbar.archive"),onClick:()=>WN(bA(e,uo()),rq())})},qae=()=>{const{dispatch:e}=yi(),{t}=Xe();return b.jsx(it,{icon:b.jsx(WL,{}),label:t("common.import"),onClick:()=>e({type:"addDialog",component:wee})})},Xae=()=>{const{dispatch:e}=yi(),{t}=Xe();return b.jsx(it,{icon:b.jsx(VL,{}),label:t("routes.storyList.toolbar.storyTags"),onClick:()=>{e({type:"addDialog",component:Oee})}})},Vae=()=>b.jsxs(Nn,{children:[b.jsx(Xae,{}),b.jsx(qae,{}),b.jsx(Gae,{})]}),Yae=()=>{const{dispatch:e,stories:t}=gn(),[n,r]=O.useState(dp(id().name,t.map(v=>v.name))),i=dd(),{prefs:a}=Zt(),{t:l}=Xe();function c(v){return v.trim()===""?{valid:!1,message:l("routes.storyList.toolbar.createStoryButton.emptyName")}:t.some(m=>m.name.toLowerCase()===v.toLowerCase())?{valid:!1,message:l("routes.storyList.toolbar.createStoryButton.nameConflict")}:{valid:!0}}function p(){const v=I8(t,a,{name:n})(e,()=>t);i.push("/stories/".concat(v))}return b.jsx(Zp,{icon:b.jsx(Xf,{}),label:l("common.new"),submitLabel:l("common.create"),submitVariant:"create",onChange:v=>r(v.target.value),onSubmit:p,prompt:l("routes.storyList.toolbar.createStoryButton.prompt"),validate:c,value:n})};const Qae=e=>{const{cancelIcon:t,cancelLabel:n,confirmIcon:r,confirmLabel:i,confirmVariant:a,onConfirm:l,prompt:c,...p}=e,[v,m]=O.useState(!1),{t:x}=Xe();function E(){m(!1),l()}return b.jsx("span",{className:"confirm-button",children:b.jsx(qu,{ariaLabel:c,focusSelector:"button:nth-child(2)",onChangeOpen:m,open:v,...p,children:b.jsxs("div",{children:[b.jsx(_r,{children:c}),b.jsxs(Nn,{children:[b.jsx(it,{icon:r!=null?r:b.jsx(vE,{}),label:i!=null?i:x("common.ok"),onClick:E,variant:a!=null?a:"primary"}),b.jsx(it,{icon:t!=null?t:b.jsx(No,{}),label:n!=null?n:x("common.cancel"),onClick:()=>m(!1)})]})]})})})},Zae=({story:e})=>{const[t,n]=O.useState(e==null?void 0:e.name),{dispatch:r}=gn(),{t:i}=Xe();return O.useEffect(()=>{e!=null&&e.name&&n(e.name)},[e==null?void 0:e.name]),b.jsx(Qae,{confirmIcon:b.jsx(Zm,{}),confirmLabel:i("common.delete"),confirmVariant:"danger",disabled:!e,icon:b.jsx(Zm,{}),label:i("common.delete"),onConfirm:e?()=>r(M8(e)):()=>{},prompt:i("routes.storyList.toolbar.deleteStoryButton.warning.".concat(dc()?"electron":"web"),{storyName:t})})},Jae=({story:e})=>{const{dispatch:t,stories:n}=gn(),{t:r}=Xe();function i(){if(!e)throw new Error("No story set");t(F8(e,n))}return b.jsx(it,{disabled:!e,icon:b.jsx(S3,{}),label:r("common.duplicate"),onClick:i})},ese=({story:e})=>{const t=dd(),{t:n}=Xe();return b.jsx(it,{disabled:!e,icon:b.jsx(UL,{}),label:n("common.edit"),onClick:()=>t.push("/stories/".concat(e==null?void 0:e.id))})},tse=e=>{var c;const{story:t}=e,{dispatch:n,prefs:r}=Zt(),{dispatch:i,stories:a}=gn();function l(p,v){if(!t)throw new Error("Story is unset");i(Zr(a,t,{tags:t.tags?[...t.tags,p]:[p]})),v&&n(pr("storyTagColors",{...r.storyTagColors,[p]:v}))}return b.jsx(SN,{assignedTags:(c=t==null?void 0:t.tags)!=null?c:[],disabled:!t,existingTags:LE(a),icon:b.jsx(XL,{}),onAdd:l})},nse=e=>{const{selectedStory:t}=e,{dispatch:n,stories:r}=gn();return b.jsxs(Nn,{children:[b.jsx(Yae,{}),b.jsx(ese,{story:t}),b.jsx(tse,{story:t}),b.jsx(mI,{existingStories:r,onRename:i=>n(Zr(r,t,{name:i})),story:t}),b.jsx(Jae,{story:t}),b.jsx(Zae,{story:t})]})},rse=()=>{const{t:e}=Xe(),{dispatch:t,prefs:n}=Zt();return b.jsx(Qp,{icon:b.jsx(o3,{}),items:[{checkable:!0,checked:n.storyListSort==="date",label:e("routes.storyList.toolbar.sortByDate"),onClick:()=>t(pr("storyListSort","date"))},{checkable:!0,checked:n.storyListSort==="name",label:e("routes.storyList.toolbar.sortByName"),onClick:()=>t(pr("storyListSort","name"))}],label:e("routes.storyList.toolbar.sort")})},ise=e=>{const{dispatch:t,prefs:n}=Zt(),{t:r}=Xe();return b.jsx(Qp,{disabled:e.tags.length===0,icon:b.jsx(XL,{}),items:[{checkable:!0,checked:n.storyListTagFilter.length===0,label:r("routes.storyList.toolbar.showAllStories"),onClick:()=>t({type:"update",name:"storyListTagFilter",value:[]})},{separator:!0},...e.tags.map(i=>({checkable:!0,checked:n.storyListTagFilter.includes(i),label:i,onClick:()=>t({type:"update",name:"storyListTagFilter",value:n.storyListTagFilter.includes(i)?n.storyListTagFilter.filter(a=>a!==i):[...n.storyListTagFilter,i]})}))],label:r("routes.storyList.toolbar.showTags")})},ose=()=>{const{stories:e}=gn();return b.jsxs(Nn,{children:[b.jsx(rse,{}),b.jsx(ise,{tags:LE(e)})]})},ase=e=>{const{selectedStories:t}=e,{stories:n}=gn(),{t:r}=Xe(),i=t.length===1?t[0]:void 0;return b.jsx(PS,{pinnedControls:b.jsx(Kae,{watch:n}),tabs:{[r("common.story")]:b.jsx(nse,{selectedStory:i}),[r("routes.storyList.library")]:b.jsx(Vae,{}),[r("common.build")]:b.jsx(KN,{story:i}),[r("common.view")]:b.jsx(ose,{}),[r("common.appName")]:b.jsx(AS,{})}})};function sse(e){let t=0;for(let n=0;n<e.length;n++)t+=e.charCodeAt(n);return t%360}const CI=O.memo(e=>{const{story:t}=e,n=[sse(t.name)];n.push((n[0]+15)%360),n.push((n[0]-15)%360),n.push((n[0]+30)%360),n.push((n[0]-30)%360),n.push((n[0]+60)%360);let r=Number.POSITIVE_INFINITY,i=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY,l=Number.NEGATIVE_INFINITY;const p=t.passages.map(m=>({key:m.name,x:m.left+m.width/2,y:m.top+m.height/2,radius:Math.max(m.width,m.height)})).reduce((m,x,E)=>{const C=x.radius+200;return r=Math.min(r,x.x-C),i=Math.min(i,x.y-C),a=Math.max(a,x.x+C),l=Math.max(l,x.y+C),m[0].push(b.jsx("circle",{cx:x.x,cy:x.y,r:C,style:{fill:"hsl(".concat(n[E%n.length],", 80%, 80%)")}},"".concat(x.key,"-bg"))),m[1].push(b.jsx("circle",{cx:x.x,cy:x.y,r:x.radius,style:{fill:"hsl(".concat(n[E%n.length],", 80%, 60%)")}},"".concat(x.key,"-fg"))),m},[[],[]]).map((m,x)=>b.jsx("g",{className:"story-preview-".concat(x===0?"bg":"fg"),children:m},x)),v="".concat(r," ").concat(i," ").concat(a-r," ").concat(l-i);return b.jsx("svg",{className:"story-preview",viewBox:v,xmlns:"http://www.w3.org/2000/svg",children:p})});CI.displayName="StoryPreview";const lse=new Intl.DateTimeFormat([]),use=e=>{const{onChangeTagColor:t,onEdit:n,onRemoveTag:r,onSelect:i,story:a,storyTagColors:l,...c}=e,{t:p}=Xe();return b.jsx("div",{className:"story-card",children:b.jsx(nS,{...c,label:a.name,onDoubleClick:n,onSelect:i,selected:a.selected,children:b.jsxs(_r,{children:[b.jsxs("div",{className:"story-card-summary",children:[b.jsx("div",{className:"story-card-summary-preview",children:b.jsx(CI,{story:a})}),b.jsxs("div",{className:"story-card-summary-text",children:[b.jsx("h2",{children:a.name}),b.jsxs("p",{children:[p("components.storyCard.lastUpdated",{date:lse.format(a.lastUpdate)}),b.jsx("br",{}),p("components.storyCard.passageCount",{count:a.passages.length})]})]})]}),a.tags&&b.jsx("div",{className:"tags",children:a.tags.map(v=>b.jsx(CN,{color:l[v],name:v,onChangeColor:m=>t(v,m),onRemove:()=>r(v)},v))})]})})})},cse="360px",fse=e=>{const{onSelectStory:t,stories:n}=e,{dispatch:r,prefs:i}=Zt(),{dispatch:a}=Gi(),l=dd();function c(v,m){r(pr("storyTagColors",{...i.storyTagColors,[v]:m}))}function p(v,m){a(Zr(n,v,{tags:v.tags.filter(x=>x!==m)}))}return b.jsx(b.Fragment,{children:b.jsx(XA,{columnWidth:cse,children:b.jsx(hd,{component:null,children:n.map(v=>b.jsx($a,{classNames:"pop",timeout:200,children:b.jsx(use,{onChangeTagColor:c,onEdit:()=>l.push("/stories/".concat(v.id)),onRemoveTag:m=>p(v,m),onSelect:()=>t(v),story:v,storyTagColors:i.storyTagColors})},v.id))})})})},dse=()=>{const{dispatch:e}=yi(),{dispatch:t,stories:n}=gn(),{prefs:r}=Zt(),{shouldShowDonationPrompt:i}=Wae(),{t:a}=Xe(),l=O.useMemo(()=>n.filter(p=>p.selected),[n]),c=O.useMemo(()=>{const p=r.storyListTagFilter.length>0?n.filter(v=>v.tags.some(m=>r.storyListTagFilter.includes(m))):n;switch(r.storyListSort){case"date":return E_(p,"lastUpdated");case"name":return E_(p,"name")}},[r.storyListSort,r.storyListTagFilter,n]);return O.useEffect(()=>{for(const p of l)p.selected&&!c.includes(p)&&t(J5(p))},[l,n,t,c]),O.useEffect(()=>{i()&&e({type:"addDialog",component:kY})},[e,i]),b.jsxs("div",{className:"story-list-route",children:[b.jsx(ase,{selectedStories:l}),b.jsx(qA,{ignoreSelector:".story-card",onClickAway:()=>t(e7()),children:b.jsxs(tS,{title:a(r.storyListTagFilter.length>0?"routes.storyList.taggedTitleCount":"routes.storyList.titleCount",{count:c.length}),children:[b.jsx(Y4,{}),b.jsx("div",{className:"stories",children:n.length===0?b.jsx("p",{children:a("routes.storyList.noStories")}):b.jsx(fse,{onSelectStory:p=>t(t7(p,!0)),stories:c})})]})})]})},S_=()=>b.jsx(hN,{children:b.jsx(CS,{children:b.jsx(dse,{})})});function zS(e){delete window.CodeMirror,delete window.SVG,delete window.Store,delete window.StoryFormat,delete window.amdDefine,delete window.app,delete window.jQuery,document.open(),document.write(e),document.close()}const hse=()=>{const[e,t]=O.useState(),[n,r]=O.useState(!1),{storyId:i}=h0(),{publishStory:a}=Jp();return O.useEffect(()=>{async function l(){try{zS(await a(i))}catch(c){t(c)}}n||(r(!0),l())},[n,a,i]),e?b.jsx(Hl,{children:e.message}):null},pse=()=>{const[e,t]=O.useState(),[n,r]=O.useState(!1),{storyId:i}=h0(),{proofStory:a}=Jp();return O.useEffect(()=>{async function l(){try{zS(await a(i))}catch(c){t(c)}}n||(r(!0),l())},[n,a,i]),e?b.jsx(Hl,{children:e.message}):null},C_=()=>{const[e,t]=O.useState(),[n,r]=O.useState(!1),{passageId:i,storyId:a}=h0(),{publishStory:l}=Jp();return O.useEffect(()=>{async function c(){try{zS(await l(a,{formatOptions:"debug",startId:i}))}catch(p){t(p)}}n||(r(!0),c())},[n,i,l,a]),e?b.jsx(Hl,{children:e.message}):null};var gse=new Error("Element already at target scroll position"),vse=new Error("Scroll cancelled"),mse=Math.min,T_=Date.now,yse={left:k_("scrollLeft"),top:k_("scrollTop")};function k_(e){return function(n,r,i,a){i=i||{},typeof i=="function"&&(a=i,i={}),typeof a!="function"&&(a=xse);var l=T_(),c=n[e],p=i.ease||wse,v=isNaN(i.duration)?350:+i.duration,m=!1;return c===r?a(gse,n[e]):requestAnimationFrame(E),x;function x(){m=!0}function E(C){if(m)return a(vse,n[e]);var I=T_(),j=mse(1,(I-l)/v),A=p(j);n[e]=A*(r-c)+c,j<1?requestAnimationFrame(E):requestAnimationFrame(function(){a(null,n[e])})}}}function wse(e){return .5*(1-Math.cos(Math.PI*e))}function xse(){}const bse=Tn(yse);const Ese=e=>{const{children:t,image:n,nextLabel:r,onNext:i,onSkip:a,showSkip:l,title:c,...p}=e,{t:v}=Xe();return b.jsx("div",{className:"welcome-card",children:b.jsxs(Ul,{...p,children:[b.jsx("div",{className:"welcome-card-image",children:n}),b.jsxs(_r,{children:[b.jsx("h2",{children:c}),t]}),b.jsxs(Nn,{children:[b.jsx(it,{icon:b.jsx(JD,{}),variant:"primary",onClick:i,label:r}),l&&b.jsx(it,{icon:b.jsx(XD,{}),label:v("common.skip"),onClick:a})]})]})})},Sse=()=>[{html:"routes.welcome.greeting",image:b.jsx(Z4,{}),nextLabel:"routes.welcome.tellMeMore",title:"routes.welcome.greetingTitle"},{html:"routes.welcome.help",image:b.jsx(GL,{}),title:"routes.welcome.helpTitle"},dc()?{html:"routes.welcome.autosave",image:b.jsx(OT,{}),title:"routes.welcome.autosaveTitle"}:{html:"routes.welcome.browserStorage",image:b.jsx(OT,{}),title:"routes.welcome.browserStorageTitle"},{html:"routes.welcome.done",image:b.jsx(J3,{}),nextLabel:"routes.welcome.gotoStoryList",title:"routes.welcome.doneTitle"}];const __=()=>{const e=O.useRef(null),{dispatch:t}=Zt(),n=dd(),[r,i]=O.useState(1),a=O.useMemo(Sse,[]),l=O.useMemo(()=>a.slice(0,r),[a,r]),{t:c}=Xe();O.useEffect(()=>{var m;if(e.current){const x=e.current.querySelector(".welcome-card:last-of-type");x&&bse.top((m=document.documentElement)!=null?m:document.body,x.offsetTop,{duration:400})}},[r]);const p=()=>{t(pr("welcomeSeen",!0)),n.push("/")},v=()=>i(m=>m+1);return b.jsxs("div",{className:"welcome-route",ref:e,children:[b.jsx(gy,{children:b.jsx("title",{children:c("routes.welcome.greetingTitle")})}),b.jsx("div",{className:"cards",children:b.jsx(hd,{component:null,children:l.map((m,x)=>b.jsx($a,{classNames:"pop",timeout:200,children:b.jsx(Ese,{image:m.image,nextLabel:m.nextLabel?c(m.nextLabel):c("common.next"),onNext:x===a.length-1?p:v,onSkip:p,showSkip:x===0,title:c(m.title),children:b.jsx("div",{dangerouslySetInnerHTML:{__html:c(m.html)}})})},m.title))})})]})},Cse=()=>{const{prefs:e}=Zt();return b.jsx(mX,{children:e.welcomeSeen?b.jsxs(aX,{children:[b.jsx(vs,{exact:!0,path:"/",children:b.jsx(S_,{})}),b.jsx(vs,{path:"/story-formats",children:b.jsx(ate,{})}),b.jsx(vs,{path:"/welcome",children:b.jsx(__,{})}),b.jsx(vs,{path:"/stories/:storyId/play",children:b.jsx(hse,{})}),b.jsx(vs,{path:"/stories/:storyId/proof",children:b.jsx(pse,{})}),b.jsx(vs,{path:"/stories/:storyId/test/:passageId",children:b.jsx(C_,{})}),b.jsx(vs,{path:"/stories/:storyId/test",children:b.jsx(C_,{})}),b.jsx(vs,{path:"/stories/:storyId",children:b.jsx(cie,{})}),b.jsx(vs,{path:"*",render:t=>(console.warn('No route for path "'.concat(t.location.pathname,'", rendering story list')),b.jsx(S_,{}))})]}):b.jsx(__,{})})},Tse=({children:e})=>{const[t,n]=O.useState(!1),[r,i]=O.useState(!1),[a,l]=O.useState(!1),[c,p]=O.useState(!1),[v,m]=O.useState(!1),{dispatch:x,prefs:E}=Zt(),{dispatch:C}=gn(),{dispatch:I,formats:j}=Wi(),A=jN(),{prefs:P,stories:M,storyFormats:z}=e0();return O.useEffect(()=>{async function $(){if(!t){const U=await z.load(),X=await P.load(),V=await M.load();I({type:"init",state:U}),x({type:"init",state:X}),C({type:"init",state:V}),i(!0)}}$(),n(!0)},[I,r,t,P,x,M,C,z]),O.useEffect(()=>{r&&!c&&(I({type:"repair"}),p(!0))},[I,c,r]),O.useEffect(()=>{r&&c&&!a&&(x({type:"repair",allFormats:j}),l(!0))},[c,j,r,x,a]),O.useEffect(()=>{r&&c&&a&&!v&&(A(),m(!0))},[I,c,j,r,x,a,E.storyFormat.name,E.storyFormat.version,A,M,C,v]),r&&c&&a&&v?b.jsx(b.Fragment,{children:e}):b.jsx(nP,{})};function kse(){const e=ON();return O.useEffect(()=>{document.body.dataset.appTheme=e},[e]),null}(function(e,t){(function(n,r){r()})(An,function(){function n(i){var a=!0,l=!1,c=null,p={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function v(U){return!!(U&&U!==document&&U.nodeName!=="HTML"&&U.nodeName!=="BODY"&&"classList"in U&&"contains"in U.classList)}function m(U){var X=U.type,V=U.tagName;return!!(V==="INPUT"&&p[X]&&!U.readOnly||V==="TEXTAREA"&&!U.readOnly||U.isContentEditable)}function x(U){U.classList.contains("focus-visible")||(U.classList.add("focus-visible"),U.setAttribute("data-focus-visible-added",""))}function E(U){U.hasAttribute("data-focus-visible-added")&&(U.classList.remove("focus-visible"),U.removeAttribute("data-focus-visible-added"))}function C(U){U.metaKey||U.altKey||U.ctrlKey||(v(i.activeElement)&&x(i.activeElement),a=!0)}function I(U){a=!1}function j(U){v(U.target)&&(a||m(U.target))&&x(U.target)}function A(U){v(U.target)&&(U.target.classList.contains("focus-visible")||U.target.hasAttribute("data-focus-visible-added"))&&(l=!0,window.clearTimeout(c),c=window.setTimeout(function(){l=!1},100),E(U.target))}function P(U){document.visibilityState==="hidden"&&(l&&(a=!0),M())}function M(){document.addEventListener("mousemove",$),document.addEventListener("mousedown",$),document.addEventListener("mouseup",$),document.addEventListener("pointermove",$),document.addEventListener("pointerdown",$),document.addEventListener("pointerup",$),document.addEventListener("touchmove",$),document.addEventListener("touchstart",$),document.addEventListener("touchend",$)}function z(){document.removeEventListener("mousemove",$),document.removeEventListener("mousedown",$),document.removeEventListener("mouseup",$),document.removeEventListener("pointermove",$),document.removeEventListener("pointerdown",$),document.removeEventListener("pointerup",$),document.removeEventListener("touchmove",$),document.removeEventListener("touchstart",$),document.removeEventListener("touchend",$)}function $(U){U.target.nodeName&&U.target.nodeName.toLowerCase()==="html"||(a=!1,z())}document.addEventListener("keydown",C,!0),document.addEventListener("mousedown",I,!0),document.addEventListener("pointerdown",I,!0),document.addEventListener("touchstart",I,!0),document.addEventListener("visibilitychange",P,!0),M(),i.addEventListener("focus",j,!0),i.addEventListener("blur",A,!0),i.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&i.host?i.host.setAttribute("data-js-focus-visible",""):i.nodeType===Node.DOCUMENT_NODE&&(document.documentElement.classList.add("js-focus-visible"),document.documentElement.setAttribute("data-js-focus-visible",""))}if(typeof window<"u"&&typeof document<"u"){window.applyFocusVisiblePolyfill=n;var r;try{r=new CustomEvent("focus-visible-polyfill-ready")}catch{r=document.createEvent("CustomEvent"),r.initCustomEvent("focus-visible-polyfill-ready",!1,!1,{})}window.dispatchEvent(r)}typeof document<"u"&&n(document)})})();const _se=()=>b.jsx(A4,{children:b.jsxs(xq,{children:[b.jsx(bq,{}),b.jsx(kse,{}),b.jsx(HG,{children:b.jsx(UG,{children:b.jsx(Tse,{children:b.jsx(O.Suspense,{fallback:b.jsx(nP,{}),children:b.jsx(Cse,{})})})})})]})});Bp.render(b.jsx(O.StrictMode,{children:b.jsx(_se,{})}),document.getElementById("root"));
